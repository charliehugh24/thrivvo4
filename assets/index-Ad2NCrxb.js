const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-CjxdaF23.js","assets/vendor-mImUVwvD.js"])))=>i.map(i=>d[i]);
var si=s=>{throw TypeError(s)};var aa=(s,e,t)=>e.has(s)||si("Cannot "+t);var E=(s,e,t)=>(aa(s,e,"read from private field"),t?t.call(s):e.get(s)),ie=(s,e,t)=>e.has(s)?si("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),X=(s,e,t,r)=>(aa(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t),Ee=(s,e,t)=>(aa(s,e,"access private method"),t);var Hr=(s,e,t,r)=>({set _(a){X(s,e,a,t)},get _(){return E(s,e,r)}});import{j as n,P as G,c as to,a as ht,u as te,B as Kh,b as qt,d as ss,e as He,f as $,R as Jh,g as il,h as Le,i as Xh,D as ll,S as cl,k as Rr,L as dl,T as ul,C as hl,l as Qh,m as fl,O as so,n as ro,o as no,p as ao,q as oo,r as ml,s as pl,t as gl,v as jn,w as vl,I as xl,F as yl,x as wl,y as Zh,z as ef,A as tf,E as sf,G as rf,H as nf,J as bl,W as af}from"./ui-D9vEzyBl.js";import{a as Or,r as f,R as D,G as of,g as lf,c as Ye,u as io,d as we,L as Pt,e as lo,f as jl,B as cf,h as df,i as be,N as uf}from"./vendor-mImUVwvD.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var Sl,ri=Or;Sl=ri.createRoot,ri.hydrateRoot;const hf=1,ff=1e6;let oa=0;function mf(){return oa=(oa+1)%Number.MAX_SAFE_INTEGER,oa.toString()}const ia=new Map,ni=s=>{if(ia.has(s))return;const e=setTimeout(()=>{ia.delete(s),mr({type:"REMOVE_TOAST",toastId:s})},ff);ia.set(s,e)},pf=(s,e)=>{switch(e.type){case"ADD_TOAST":return{...s,toasts:[e.toast,...s.toasts].slice(0,hf)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?ni(t):s.toasts.forEach(r=>{ni(r.id)}),{...s,toasts:s.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(t=>t.id!==e.toastId)}}},Zr=[];let en={toasts:[]};function mr(s){en=pf(en,s),Zr.forEach(e=>{e(en)})}function le({...s}){const e=mf(),t=a=>mr({type:"UPDATE_TOAST",toast:{...a,id:e}}),r=()=>mr({type:"DISMISS_TOAST",toastId:e});return mr({type:"ADD_TOAST",toast:{...s,id:e,open:!0,onOpenChange:a=>{a||r()}}}),{id:e,dismiss:r,update:t}}function Ke(){const[s,e]=f.useState(en);return f.useEffect(()=>(Zr.push(e),()=>{const t=Zr.indexOf(e);t>-1&&Zr.splice(t,1)}),[s]),{...s,toast:le,dismiss:t=>mr({type:"DISMISS_TOAST",toastId:t})}}var gf="VisuallyHidden",Dr=f.forwardRef((s,e)=>n.jsx(G.span,{...s,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...s.style}}));Dr.displayName=gf;var vf=Dr,co="ToastProvider",[uo,xf,yf]=to("Toast"),[_l,$j]=ht("Toast",[yf]),[wf,Sn]=_l(co),Nl=s=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=s,[l,c]=f.useState(null),[d,u]=f.useState(0),m=f.useRef(!1),h=f.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${co}\`. Expected non-empty \`string\`.`),n.jsx(uo.Provider,{scope:e,children:n.jsx(wf,{scope:e,label:t,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(g=>g+1),[]),onToastRemove:f.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:i})})};Nl.displayName=co;var kl="ToastViewport",bf=["F8"],_a="toast.viewportPause",Na="toast.viewportResume",El=f.forwardRef((s,e)=>{const{__scopeToast:t,hotkey:r=bf,label:a="Notifications ({hotkey})",...o}=s,i=Sn(kl,t),l=xf(t),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),m=f.useRef(null),h=te(e,m,i.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;f.useEffect(()=>{const x=b=>{var w;r.length!==0&&r.every(S=>b[S]||b.code===S)&&((w=m.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),f.useEffect(()=>{const x=c.current,b=m.current;if(v&&x&&b){const y=()=>{if(!i.isClosePausedRef.current){const _=new CustomEvent(_a);b.dispatchEvent(_),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const _=new CustomEvent(Na);b.dispatchEvent(_),i.isClosePausedRef.current=!1}},S=_=>{!x.contains(_.relatedTarget)&&w()},j=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",y),x.addEventListener("focusout",S),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[v,i.isClosePausedRef]);const p=f.useCallback(({tabbingDirection:x})=>{const y=l().map(w=>{const S=w.ref.current,j=[S,...Df(S)];return x==="forwards"?j:j.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return f.useEffect(()=>{const x=m.current;if(x){const b=y=>{var j,_,k;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const N=document.activeElement,C=y.shiftKey;if(y.target===x&&C){(j=d.current)==null||j.focus();return}const R=p({tabbingDirection:C?"backwards":"forwards"}),z=R.findIndex(O=>O===N);la(R.slice(z+1))?y.preventDefault():C?(_=d.current)==null||_.focus():(k=u.current)==null||k.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[l,p]),n.jsxs(Kh,{ref:c,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&n.jsx(ka,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});la(x)}}),n.jsx(uo.Slot,{scope:t,children:n.jsx(G.ol,{tabIndex:-1,...o,ref:h})}),v&&n.jsx(ka,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});la(x)}})]})});El.displayName=kl;var Cl="ToastFocusProxy",ka=f.forwardRef((s,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...a}=s,o=Sn(Cl,t);return n.jsx(Dr,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:i=>{var d;const l=i.relatedTarget;!((d=o.viewport)!=null&&d.contains(l))&&r()}})});ka.displayName=Cl;var _n="Toast",jf="toast.swipeStart",Sf="toast.swipeMove",_f="toast.swipeCancel",Nf="toast.swipeEnd",Pl=f.forwardRef((s,e)=>{const{forceMount:t,open:r,defaultOpen:a,onOpenChange:o,...i}=s,[l=!0,c]=qt({prop:r,defaultProp:a,onChange:o});return n.jsx(ss,{present:t||l,children:n.jsx(Cf,{open:l,...i,ref:e,onClose:()=>c(!1),onPause:He(s.onPause),onResume:He(s.onResume),onSwipeStart:$(s.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$(s.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:$(s.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$(s.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});Pl.displayName=_n;var[kf,Ef]=_l(_n,{onClose(){}}),Cf=f.forwardRef((s,e)=>{const{__scopeToast:t,type:r="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:g,...v}=s,p=Sn(_n,t),[x,b]=f.useState(null),y=te(e,O=>b(O)),w=f.useRef(null),S=f.useRef(null),j=a||p.duration,_=f.useRef(0),k=f.useRef(j),N=f.useRef(0),{onToastAdd:C,onToastRemove:P}=p,A=He(()=>{var B;(x==null?void 0:x.contains(document.activeElement))&&((B=p.viewport)==null||B.focus()),i()}),R=f.useCallback(O=>{!O||O===1/0||(window.clearTimeout(N.current),_.current=new Date().getTime(),N.current=window.setTimeout(A,O))},[A]);f.useEffect(()=>{const O=p.viewport;if(O){const B=()=>{R(k.current),d==null||d()},M=()=>{const F=new Date().getTime()-_.current;k.current=k.current-F,window.clearTimeout(N.current),c==null||c()};return O.addEventListener(_a,M),O.addEventListener(Na,B),()=>{O.removeEventListener(_a,M),O.removeEventListener(Na,B)}}},[p.viewport,j,c,d,R]),f.useEffect(()=>{o&&!p.isClosePausedRef.current&&R(j)},[o,j,p.isClosePausedRef,R]),f.useEffect(()=>(C(),()=>P()),[C,P]);const z=f.useMemo(()=>x?Il(x):null,[x]);return p.viewport?n.jsxs(n.Fragment,{children:[z&&n.jsx(Pf,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),n.jsx(kf,{scope:t,onClose:A,children:Or.createPortal(n.jsx(uo.ItemSlot,{scope:t,children:n.jsx(Jh,{asChild:!0,onEscapeKeyDown:$(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||A(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(G.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...s.style},onKeyDown:$(s.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:$(s.onPointerDown,O=>{O.button===0&&(w.current={x:O.clientX,y:O.clientY})}),onPointerMove:$(s.onPointerMove,O=>{if(!w.current)return;const B=O.clientX-w.current.x,M=O.clientY-w.current.y,F=!!S.current,T=["left","right"].includes(p.swipeDirection),U=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,ge=T?U(0,B):0,H=T?0:U(0,M),Z=O.pointerType==="touch"?10:2,ee={x:ge,y:H},ve={originalEvent:O,delta:ee};F?(S.current=ee,Vr(Sf,m,ve,{discrete:!1})):ai(ee,p.swipeDirection,Z)?(S.current=ee,Vr(jf,u,ve,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(B)>Z||Math.abs(M)>Z)&&(w.current=null)}),onPointerUp:$(s.onPointerUp,O=>{const B=S.current,M=O.target;if(M.hasPointerCapture(O.pointerId)&&M.releasePointerCapture(O.pointerId),S.current=null,w.current=null,B){const F=O.currentTarget,T={originalEvent:O,delta:B};ai(B,p.swipeDirection,p.swipeThreshold)?Vr(Nf,g,T,{discrete:!0}):Vr(_f,h,T,{discrete:!0}),F.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Pf=s=>{const{__scopeToast:e,children:t,...r}=s,a=Sn(_n,e),[o,i]=f.useState(!1),[l,c]=f.useState(!1);return Rf(()=>i(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(il,{asChild:!0,children:n.jsx(Dr,{...r,children:o&&n.jsxs(n.Fragment,{children:[a.label," ",t]})})})},Tf="ToastTitle",Tl=f.forwardRef((s,e)=>{const{__scopeToast:t,...r}=s;return n.jsx(G.div,{...r,ref:e})});Tl.displayName=Tf;var Af="ToastDescription",Al=f.forwardRef((s,e)=>{const{__scopeToast:t,...r}=s;return n.jsx(G.div,{...r,ref:e})});Al.displayName=Af;var Rl="ToastAction",Ol=f.forwardRef((s,e)=>{const{altText:t,...r}=s;return t.trim()?n.jsx(Ml,{altText:t,asChild:!0,children:n.jsx(ho,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Rl}\`. Expected non-empty \`string\`.`),null)});Ol.displayName=Rl;var Dl="ToastClose",ho=f.forwardRef((s,e)=>{const{__scopeToast:t,...r}=s,a=Ef(Dl,t);return n.jsx(Ml,{asChild:!0,children:n.jsx(G.button,{type:"button",...r,ref:e,onClick:$(s.onClick,a.onClose)})})});ho.displayName=Dl;var Ml=f.forwardRef((s,e)=>{const{__scopeToast:t,altText:r,...a}=s;return n.jsx(G.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:e})});function Il(s){const e=[];return Array.from(s.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Of(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...Il(r))}}),e}function Vr(s,e,t,{discrete:r}){const a=t.originalEvent.currentTarget,o=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:t});e&&a.addEventListener(s,e,{once:!0}),r?Xh(a,o):a.dispatchEvent(o)}var ai=(s,e,t=0)=>{const r=Math.abs(s.x),a=Math.abs(s.y),o=r>a;return e==="left"||e==="right"?o&&r>t:!o&&a>t};function Rf(s=()=>{}){const e=He(s);Le(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function Of(s){return s.nodeType===s.ELEMENT_NODE}function Df(s){const e=[],t=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function la(s){const e=document.activeElement;return s.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var Mf=Nl,Ll=El,$l=Pl,Fl=Tl,Ul=Al,zl=Ol,Bl=ho;function Hl(s){var e,t,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var a=s.length;for(e=0;e<a;e++)s[e]&&(t=Hl(s[e]))&&(r&&(r+=" "),r+=t)}else for(t in s)s[t]&&(r&&(r+=" "),r+=t);return r}function Vl(){for(var s,e,t=0,r="",a=arguments.length;t<a;t++)(s=arguments[t])&&(e=Hl(s))&&(r&&(r+=" "),r+=e);return r}const oi=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,ii=Vl,Nn=(s,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return ii(s,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:o}=e,i=Object.keys(a).map(d=>{const u=t==null?void 0:t[d],m=o==null?void 0:o[d];if(u===null)return null;const h=oi(u)||oi(m);return a[d][h]}),l=t&&Object.entries(t).reduce((d,u)=>{let[m,h]=u;return h===void 0||(d[m]=h),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:m,className:h,...g}=u;return Object.entries(g).every(v=>{let[p,x]=v;return Array.isArray(x)?x.includes({...o,...l}[p]):{...o,...l}[p]===x})?[...d,m,h]:d},[]);return ii(s,i,c,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ql=(...s)=>s.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=f.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:i,...l},c)=>f.createElement("svg",{ref:c,...Lf,width:e,height:e,stroke:s,strokeWidth:r?Number(t)*24/Number(e):t,className:ql("lucide",a),...l},[...i.map(([d,u])=>f.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=(s,e)=>{const t=f.forwardRef(({className:r,...a},o)=>f.createElement($f,{ref:o,iconNode:e,className:ql(`lucide-${If(s)}`,r),...a}));return t.displayName=`${s}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=W("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=W("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=W("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=W("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=W("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=W("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=W("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=W("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=W("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=W("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=W("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=W("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=W("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=W("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=W("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=W("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=W("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=W("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=W("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=W("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=W("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=W("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=W("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=W("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=W("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=W("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=W("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=W("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=W("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),vo="-",lm=s=>{const e=dm(s),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=s;return{getClassGroupId:i=>{const l=i.split(vo);return l[0]===""&&l.length!==1&&l.shift(),ec(l,e)||cm(i)},getConflictingClassGroupIds:(i,l)=>{const c=t[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},ec=(s,e)=>{var i;if(s.length===0)return e.classGroupId;const t=s[0],r=e.nextPart.get(t),a=r?ec(s.slice(1),r):void 0;if(a)return a;if(e.validators.length===0)return;const o=s.join(vo);return(i=e.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},li=/^\[(.+)\]$/,cm=s=>{if(li.test(s)){const e=li.exec(s)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},dm=s=>{const{theme:e,prefix:t}=s,r={nextPart:new Map,validators:[]};return hm(Object.entries(s.classGroups),t).forEach(([o,i])=>{Ca(i,r,o,e)}),r},Ca=(s,e,t,r)=>{s.forEach(a=>{if(typeof a=="string"){const o=a===""?e:ci(e,a);o.classGroupId=t;return}if(typeof a=="function"){if(um(a)){Ca(a(r),e,t,r);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([o,i])=>{Ca(i,ci(e,o),t,r)})})},ci=(s,e)=>{let t=s;return e.split(vo).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},um=s=>s.isThemeGetter,hm=(s,e)=>e?s.map(([t,r])=>{const a=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[e+i,l])):o);return[t,a]}):s,fm=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const a=(o,i)=>{t.set(o,i),e++,e>s&&(e=0,r=t,t=new Map)};return{get(o){let i=t.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return a(o,i),i},set(o,i){t.has(o)?t.set(o,i):a(o,i)}}},tc="!",mm=s=>{const{separator:e,experimentalParseClassName:t}=s,r=e.length===1,a=e[0],o=e.length,i=l=>{const c=[];let d=0,u=0,m;for(let x=0;x<l.length;x++){let b=l[x];if(d===0){if(b===a&&(r||l.slice(x,x+o)===e)){c.push(l.slice(u,x)),u=x+o;continue}if(b==="/"){m=x;continue}}b==="["?d++:b==="]"&&d--}const h=c.length===0?l:l.substring(u),g=h.startsWith(tc),v=g?h.substring(1):h,p=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:p}};return t?l=>t({className:l,parseClassName:i}):i},pm=s=>{if(s.length<=1)return s;const e=[];let t=[];return s.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},gm=s=>({cache:fm(s.cacheSize),parseClassName:mm(s),...lm(s)}),vm=/\s+/,xm=(s,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:a}=e,o=[],i=s.trim().split(vm);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:g}=t(d);let v=!!g,p=r(v?h.substring(0,g):h);if(!p){if(!v){l=d+(l.length>0?" "+l:l);continue}if(p=r(h),!p){l=d+(l.length>0?" "+l:l);continue}v=!1}const x=pm(u).join(":"),b=m?x+tc:x,y=b+p;if(o.includes(y))continue;o.push(y);const w=a(p,v);for(let S=0;S<w.length;++S){const j=w[S];o.push(b+j)}l=d+(l.length>0?" "+l:l)}return l};function ym(){let s=0,e,t,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=sc(e))&&(r&&(r+=" "),r+=t);return r}const sc=s=>{if(typeof s=="string")return s;let e,t="";for(let r=0;r<s.length;r++)s[r]&&(e=sc(s[r]))&&(t&&(t+=" "),t+=e);return t};function wm(s,...e){let t,r,a,o=i;function i(c){const d=e.reduce((u,m)=>m(u),s());return t=gm(d),r=t.cache.get,a=t.cache.set,o=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=xm(c,t);return a(c,u),u}return function(){return o(ym.apply(null,arguments))}}const pe=s=>{const e=t=>t[s]||[];return e.isThemeGetter=!0,e},rc=/^\[(?:([a-z-]+):)?(.+)\]$/i,bm=/^\d+\/\d+$/,jm=new Set(["px","full","screen"]),Sm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_m=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Nm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,km=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Em=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pt=s=>Os(s)||jm.has(s)||bm.test(s),kt=s=>er(s,"length",Mm),Os=s=>!!s&&!Number.isNaN(Number(s)),ca=s=>er(s,"number",Os),ir=s=>!!s&&Number.isInteger(Number(s)),Cm=s=>s.endsWith("%")&&Os(s.slice(0,-1)),K=s=>rc.test(s),Et=s=>Sm.test(s),Pm=new Set(["length","size","percentage"]),Tm=s=>er(s,Pm,nc),Am=s=>er(s,"position",nc),Rm=new Set(["image","url"]),Om=s=>er(s,Rm,Lm),Dm=s=>er(s,"",Im),lr=()=>!0,er=(s,e,t)=>{const r=rc.exec(s);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},Mm=s=>_m.test(s)&&!Nm.test(s),nc=()=>!1,Im=s=>km.test(s),Lm=s=>Em.test(s),$m=()=>{const s=pe("colors"),e=pe("spacing"),t=pe("blur"),r=pe("brightness"),a=pe("borderColor"),o=pe("borderRadius"),i=pe("borderSpacing"),l=pe("borderWidth"),c=pe("contrast"),d=pe("grayscale"),u=pe("hueRotate"),m=pe("invert"),h=pe("gap"),g=pe("gradientColorStops"),v=pe("gradientColorStopPositions"),p=pe("inset"),x=pe("margin"),b=pe("opacity"),y=pe("padding"),w=pe("saturate"),S=pe("scale"),j=pe("sepia"),_=pe("skew"),k=pe("space"),N=pe("translate"),C=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",K,e],R=()=>[K,e],z=()=>["",pt,kt],O=()=>["auto",Os,K],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",K],ge=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Os,K];return{cacheSize:500,separator:":",theme:{colors:[lr],spacing:[pt,kt],blur:["none","",Et,K],brightness:H(),borderColor:[s],borderRadius:["none","","full",Et,K],borderSpacing:R(),borderWidth:z(),contrast:H(),grayscale:U(),hueRotate:H(),invert:U(),gap:R(),gradientColorStops:[s],gradientColorStopPositions:[Cm,kt],inset:A(),margin:A(),opacity:H(),padding:R(),saturate:H(),scale:H(),sepia:U(),skew:H(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",K]}],container:["container"],columns:[{columns:[Et]}],"break-after":[{"break-after":ge()}],"break-before":[{"break-before":ge()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),K]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ir,K]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",K]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",ir,K]}],"grid-cols":[{"grid-cols":[lr]}],"col-start-end":[{col:["auto",{span:["full",ir,K]},K]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[lr]}],"row-start-end":[{row:["auto",{span:[ir,K]},K]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",K]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",K]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",K,e]}],"min-w":[{"min-w":[K,e,"min","max","fit"]}],"max-w":[{"max-w":[K,e,"none","full","min","max","fit","prose",{screen:[Et]},Et]}],h:[{h:[K,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[K,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[K,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[K,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Et,kt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ca]}],"font-family":[{font:[lr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",K]}],"line-clamp":[{"line-clamp":["none",Os,ca]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pt,K]}],"list-image":[{"list-image":["none",K]}],"list-style-type":[{list:["none","disc","decimal",K]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pt,kt]}],"underline-offset":[{"underline-offset":["auto",pt,K]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",K]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",K]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),Am]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Tm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Om]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:M()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[pt,K]}],"outline-w":[{outline:[pt,kt]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[pt,kt]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",Et,Dm]}],"shadow-color":[{shadow:[lr]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Et,K]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",K]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",K]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",K]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ir,K]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",K]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",K]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",K]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[pt,kt,ca]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Fm=wm($m);function ue(s){const e=Object.prototype.toString.call(s);return s instanceof Date||typeof s=="object"&&e==="[object Date]"?new s.constructor(+s):typeof s=="number"||e==="[object Number]"||typeof s=="string"||e==="[object String]"?new Date(s):new Date(NaN)}function Wt(s,e){return s instanceof Date?new s.constructor(e):new Date(e)}const ac=6048e5,Um=864e5,qr=43200,di=1440;let zm={};function Mr(){return zm}function yr(s,e){var l,c,d,u;const t=Mr(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??t.weekStartsOn??((u=(d=t.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=ue(s),o=a.getDay(),i=(o<r?7:0)+o-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function ln(s){return yr(s,{weekStartsOn:1})}function oc(s){const e=ue(s),t=e.getFullYear(),r=Wt(s,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const a=ln(r),o=Wt(s,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const i=ln(o);return e.getTime()>=a.getTime()?t+1:e.getTime()>=i.getTime()?t:t-1}function ui(s){const e=ue(s);return e.setHours(0,0,0,0),e}function cn(s){const e=ue(s),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+s-+t}function Bm(s,e){const t=ui(s),r=ui(e),a=+t-cn(t),o=+r-cn(r);return Math.round((a-o)/Um)}function Hm(s){const e=oc(s),t=Wt(s,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),ln(t)}function tn(s,e){const t=ue(s),r=ue(e),a=t.getTime()-r.getTime();return a<0?-1:a>0?1:a}function Vm(s){return Wt(s,Date.now())}function qm(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function As(s){if(!qm(s)&&typeof s!="number")return!1;const e=ue(s);return!isNaN(Number(e))}function Wm(s,e){const t=ue(s),r=ue(e),a=t.getFullYear()-r.getFullYear(),o=t.getMonth()-r.getMonth();return a*12+o}function Gm(s){return e=>{const r=(s?Math[s]:Math.trunc)(e);return r===0?0:r}}function Ym(s,e){return+ue(s)-+ue(e)}function Km(s){const e=ue(s);return e.setHours(23,59,59,999),e}function Jm(s){const e=ue(s),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Xm(s){const e=ue(s);return+Km(e)==+Jm(e)}function Qm(s,e){const t=ue(s),r=ue(e),a=tn(t,r),o=Math.abs(Wm(t,r));let i;if(o<1)i=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-a*o);let l=tn(t,r)===-a;Xm(ue(s))&&o===1&&tn(s,r)===1&&(l=!1),i=a*(o-Number(l))}return i===0?0:i}function Zm(s,e,t){const r=Ym(s,e)/1e3;return Gm(t==null?void 0:t.roundingMethod)(r)}function ep(s){const e=ue(s),t=Wt(s,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const tp={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sp=(s,e,t)=>{let r;const a=tp[s];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function da(s){return(e={})=>{const t=e.width?String(e.width):s.defaultWidth;return s.formats[t]||s.formats[s.defaultWidth]}}const rp={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},np={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ap={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},op={date:da({formats:rp,defaultWidth:"full"}),time:da({formats:np,defaultWidth:"full"}),dateTime:da({formats:ap,defaultWidth:"full"})},ip={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lp=(s,e,t,r)=>ip[s];function cr(s){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let a;if(r==="formatting"&&s.formattingValues){const i=s.defaultFormattingWidth||s.defaultWidth,l=t!=null&&t.width?String(t.width):i;a=s.formattingValues[l]||s.formattingValues[i]}else{const i=s.defaultWidth,l=t!=null&&t.width?String(t.width):s.defaultWidth;a=s.values[l]||s.values[i]}const o=s.argumentCallback?s.argumentCallback(e):e;return a[o]}}const cp={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dp={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},up={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hp={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fp={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mp={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pp=(s,e)=>{const t=Number(s),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},gp={ordinalNumber:pp,era:cr({values:cp,defaultWidth:"wide"}),quarter:cr({values:dp,defaultWidth:"wide",argumentCallback:s=>s-1}),month:cr({values:up,defaultWidth:"wide"}),day:cr({values:hp,defaultWidth:"wide"}),dayPeriod:cr({values:fp,defaultWidth:"wide",formattingValues:mp,defaultFormattingWidth:"wide"})};function dr(s){return(e,t={})=>{const r=t.width,a=r&&s.matchPatterns[r]||s.matchPatterns[s.defaultMatchWidth],o=e.match(a);if(!o)return null;const i=o[0],l=r&&s.parsePatterns[r]||s.parsePatterns[s.defaultParseWidth],c=Array.isArray(l)?xp(l,m=>m.test(i)):vp(l,m=>m.test(i));let d;d=s.valueCallback?s.valueCallback(c):c,d=t.valueCallback?t.valueCallback(d):d;const u=e.slice(i.length);return{value:d,rest:u}}}function vp(s,e){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&e(s[t]))return t}function xp(s,e){for(let t=0;t<s.length;t++)if(e(s[t]))return t}function yp(s){return(e,t={})=>{const r=e.match(s.matchPattern);if(!r)return null;const a=r[0],o=e.match(s.parsePattern);if(!o)return null;let i=s.valueCallback?s.valueCallback(o[0]):o[0];i=t.valueCallback?t.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const wp=/^(\d+)(th|st|nd|rd)?/i,bp=/\d+/i,jp={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Sp={any:[/^b/i,/^(a|c)/i]},_p={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Np={any:[/1/i,/2/i,/3/i,/4/i]},kp={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ep={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cp={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Pp={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Tp={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ap={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rp={ordinalNumber:yp({matchPattern:wp,parsePattern:bp,valueCallback:s=>parseInt(s,10)}),era:dr({matchPatterns:jp,defaultMatchWidth:"wide",parsePatterns:Sp,defaultParseWidth:"any"}),quarter:dr({matchPatterns:_p,defaultMatchWidth:"wide",parsePatterns:Np,defaultParseWidth:"any",valueCallback:s=>s+1}),month:dr({matchPatterns:kp,defaultMatchWidth:"wide",parsePatterns:Ep,defaultParseWidth:"any"}),day:dr({matchPatterns:Cp,defaultMatchWidth:"wide",parsePatterns:Pp,defaultParseWidth:"any"}),dayPeriod:dr({matchPatterns:Tp,defaultMatchWidth:"any",parsePatterns:Ap,defaultParseWidth:"any"})},ic={code:"en-US",formatDistance:sp,formatLong:op,formatRelative:lp,localize:gp,match:Rp,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Op(s){const e=ue(s);return Bm(e,ep(e))+1}function Dp(s){const e=ue(s),t=+ln(e)-+Hm(e);return Math.round(t/ac)+1}function lc(s,e){var u,m,h,g;const t=ue(s),r=t.getFullYear(),a=Mr(),o=(e==null?void 0:e.firstWeekContainsDate)??((m=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(h=a.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,i=Wt(s,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=yr(i,e),c=Wt(s,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const d=yr(c,e);return t.getTime()>=l.getTime()?r+1:t.getTime()>=d.getTime()?r:r-1}function Mp(s,e){var l,c,d,u;const t=Mr(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(d=t.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=lc(s,e),o=Wt(s,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),yr(o,e)}function Ip(s,e){const t=ue(s),r=+yr(t,e)-+Mp(t,e);return Math.round(r/ac)+1}function ce(s,e){const t=s<0?"-":"",r=Math.abs(s).toString().padStart(e,"0");return t+r}const Ct={y(s,e){const t=s.getFullYear(),r=t>0?t:1-t;return ce(e==="yy"?r%100:r,e.length)},M(s,e){const t=s.getMonth();return e==="M"?String(t+1):ce(t+1,2)},d(s,e){return ce(s.getDate(),e.length)},a(s,e){const t=s.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(s,e){return ce(s.getHours()%12||12,e.length)},H(s,e){return ce(s.getHours(),e.length)},m(s,e){return ce(s.getMinutes(),e.length)},s(s,e){return ce(s.getSeconds(),e.length)},S(s,e){const t=e.length,r=s.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return ce(a,e.length)}},ks={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hi={G:function(s,e,t){const r=s.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(s,e,t){if(e==="yo"){const r=s.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return Ct.y(s,e)},Y:function(s,e,t,r){const a=lc(s,r),o=a>0?a:1-a;if(e==="YY"){const i=o%100;return ce(i,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):ce(o,e.length)},R:function(s,e){const t=oc(s);return ce(t,e.length)},u:function(s,e){const t=s.getFullYear();return ce(t,e.length)},Q:function(s,e,t){const r=Math.ceil((s.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ce(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(s,e,t){const r=Math.ceil((s.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ce(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(s,e,t){const r=s.getMonth();switch(e){case"M":case"MM":return Ct.M(s,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(s,e,t){const r=s.getMonth();switch(e){case"L":return String(r+1);case"LL":return ce(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(s,e,t,r){const a=Ip(s,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):ce(a,e.length)},I:function(s,e,t){const r=Dp(s);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):ce(r,e.length)},d:function(s,e,t){return e==="do"?t.ordinalNumber(s.getDate(),{unit:"date"}):Ct.d(s,e)},D:function(s,e,t){const r=Op(s);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):ce(r,e.length)},E:function(s,e,t){const r=s.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(s,e,t,r){const a=s.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ce(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(s,e,t,r){const a=s.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ce(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(s,e,t){const r=s.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return ce(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(s,e,t){const a=s.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(s,e,t){const r=s.getHours();let a;switch(r===12?a=ks.noon:r===0?a=ks.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(s,e,t){const r=s.getHours();let a;switch(r>=17?a=ks.evening:r>=12?a=ks.afternoon:r>=4?a=ks.morning:a=ks.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(s,e,t){if(e==="ho"){let r=s.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Ct.h(s,e)},H:function(s,e,t){return e==="Ho"?t.ordinalNumber(s.getHours(),{unit:"hour"}):Ct.H(s,e)},K:function(s,e,t){const r=s.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):ce(r,e.length)},k:function(s,e,t){let r=s.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):ce(r,e.length)},m:function(s,e,t){return e==="mo"?t.ordinalNumber(s.getMinutes(),{unit:"minute"}):Ct.m(s,e)},s:function(s,e,t){return e==="so"?t.ordinalNumber(s.getSeconds(),{unit:"second"}):Ct.s(s,e)},S:function(s,e){return Ct.S(s,e)},X:function(s,e,t){const r=s.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return mi(r);case"XXXX":case"XX":return ls(r);case"XXXXX":case"XXX":default:return ls(r,":")}},x:function(s,e,t){const r=s.getTimezoneOffset();switch(e){case"x":return mi(r);case"xxxx":case"xx":return ls(r);case"xxxxx":case"xxx":default:return ls(r,":")}},O:function(s,e,t){const r=s.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fi(r,":");case"OOOO":default:return"GMT"+ls(r,":")}},z:function(s,e,t){const r=s.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fi(r,":");case"zzzz":default:return"GMT"+ls(r,":")}},t:function(s,e,t){const r=Math.trunc(s.getTime()/1e3);return ce(r,e.length)},T:function(s,e,t){const r=s.getTime();return ce(r,e.length)}};function fi(s,e=""){const t=s>0?"-":"+",r=Math.abs(s),a=Math.trunc(r/60),o=r%60;return o===0?t+String(a):t+String(a)+e+ce(o,2)}function mi(s,e){return s%60===0?(s>0?"-":"+")+ce(Math.abs(s)/60,2):ls(s,e)}function ls(s,e=""){const t=s>0?"-":"+",r=Math.abs(s),a=ce(Math.trunc(r/60),2),o=ce(r%60,2);return t+a+e+o}const pi=(s,e)=>{switch(s){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},cc=(s,e)=>{switch(s){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Lp=(s,e)=>{const t=s.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return pi(s,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",pi(r,e)).replace("{{time}}",cc(a,e))},$p={p:cc,P:Lp},Fp=/^D+$/,Up=/^Y+$/,zp=["D","DD","YY","YYYY"];function Bp(s){return Fp.test(s)}function Hp(s){return Up.test(s)}function Vp(s,e,t){const r=qp(s,e,t);if(console.warn(r),zp.includes(s))throw new RangeError(r)}function qp(s,e,t){const r=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Wp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yp=/^'([^]*?)'?$/,Kp=/''/g,Jp=/[a-zA-Z]/;function Pa(s,e,t){var u,m,h,g;const r=Mr(),a=r.locale??ic,o=r.firstWeekContainsDate??((m=(u=r.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??1,i=r.weekStartsOn??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,l=ue(s);if(!As(l))throw new RangeError("Invalid time value");let c=e.match(Gp).map(v=>{const p=v[0];if(p==="p"||p==="P"){const x=$p[p];return x(v,a.formatLong)}return v}).join("").match(Wp).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const p=v[0];if(p==="'")return{isToken:!1,value:Xp(v)};if(hi[p])return{isToken:!0,value:v};if(p.match(Jp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return c.map(v=>{if(!v.isToken)return v.value;const p=v.value;(Hp(p)||Bp(p))&&Vp(p,e,String(s));const x=hi[p[0]];return x(l,p,a.localize,d)}).join("")}function Xp(s){const e=s.match(Yp);return e?e[1].replace(Kp,"'"):s}function Qp(s,e,t){const r=Mr(),a=(t==null?void 0:t.locale)??r.locale??ic,o=2520,i=tn(s,e);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:i});let c,d;i>0?(c=ue(e),d=ue(s)):(c=ue(s),d=ue(e));const u=Zm(d,c),m=(cn(d)-cn(c))/1e3,h=Math.round((u-m)/60);let g;if(h<2)return t!=null&&t.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<di){const v=Math.round(h/60);return a.formatDistance("aboutXHours",v,l)}else{if(h<o)return a.formatDistance("xDays",1,l);if(h<qr){const v=Math.round(h/di);return a.formatDistance("xDays",v,l)}else if(h<qr*2)return g=Math.round(h/qr),a.formatDistance("aboutXMonths",g,l)}if(g=Qm(d,c),g<12){const v=Math.round(h/qr);return a.formatDistance("xMonths",v,l)}else{const v=g%12,p=Math.trunc(g/12);return v<3?a.formatDistance("aboutXYears",p,l):v<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function xo(s,e){return Qp(s,Vm(s),e)}function L(...s){return Fm(Vl(s))}const Zp=s=>{try{const e=new Date(s);return As(e)?xo(e,{addSuffix:!0}):"Invalid date"}catch(e){return console.error("Error formatting date:",s,e),"Date unavailable"}},eg=Mf,dc=f.forwardRef(({className:s,...e},t)=>n.jsx(Ll,{ref:t,className:L("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...e}));dc.displayName=Ll.displayName;const tg=Nn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uc=f.forwardRef(({className:s,variant:e,...t},r)=>n.jsx($l,{ref:r,className:L(tg({variant:e}),s),...t}));uc.displayName=$l.displayName;const sg=f.forwardRef(({className:s,...e},t)=>n.jsx(zl,{ref:t,className:L("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...e}));sg.displayName=zl.displayName;const hc=f.forwardRef(({className:s,...e},t)=>n.jsx(Bl,{ref:t,className:L("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...e,children:n.jsx(En,{className:"h-4 w-4"})}));hc.displayName=Bl.displayName;const fc=f.forwardRef(({className:s,...e},t)=>n.jsx(Fl,{ref:t,className:L("text-sm font-semibold",s),...e}));fc.displayName=Fl.displayName;const mc=f.forwardRef(({className:s,...e},t)=>n.jsx(Ul,{ref:t,className:L("text-sm opacity-90",s),...e}));mc.displayName=Ul.displayName;function rg(){const{toasts:s}=Ke();return n.jsxs(eg,{children:[s.map(function({id:e,title:t,description:r,action:a,...o}){return n.jsxs(uc,{...o,children:[n.jsxs("div",{className:"grid gap-1",children:[t&&n.jsx(fc,{children:t}),r&&n.jsx(mc,{children:r})]}),a,n.jsx(hc,{})]},e)}),n.jsx(dc,{})]})}var gi=["light","dark"],ng="(prefers-color-scheme: dark)",ag=f.createContext(void 0),og={setTheme:s=>{},themes:[]},ig=()=>{var s;return(s=f.useContext(ag))!=null?s:og};f.memo(({forcedTheme:s,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:a,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let d=o==="system",u=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,m=a?gi.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,p=!1,x=!0)=>{let b=i?i[v]:v,y=p?v+"|| ''":`'${b}'`,w="";return a&&x&&!p&&gi.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),t==="class"?p||b?w+=`c.add(${y})`:w+="null":b&&(w+=`d[s](n,${y})`),w},g=s?`!function(){${u}${h(s)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${ng}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${d?"":"else{"+h(o,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${m}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var lg=s=>{switch(s){case"success":return ug;case"info":return fg;case"warning":return hg;case"error":return mg;default:return null}},cg=Array(12).fill(0),dg=({visible:s})=>D.createElement("div",{className:"sonner-loading-wrapper","data-visible":s},D.createElement("div",{className:"sonner-spinner"},cg.map((e,t)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),ug=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hg=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fg=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mg=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pg=()=>{let[s,e]=D.useState(document.hidden);return D.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),s},Ta=1,gg=class{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{let e=this.subscribers.indexOf(s);this.subscribers.splice(e,1)}),this.publish=s=>{this.subscribers.forEach(e=>e(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var e;let{message:t,...r}=s,a=typeof(s==null?void 0:s.id)=="number"||((e=s.id)==null?void 0:e.length)>0?s.id:Ta++,o=this.toasts.find(l=>l.id===a),i=s.dismissible===void 0?!0:s.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...s,id:a,title:t}),{...l,...s,id:a,dismissible:i,title:t}):l):this.addToast({title:t,...r,dismissible:i,id:a}),a},this.dismiss=s=>(s||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:s,dismiss:!0})),s),this.message=(s,e)=>this.create({...e,message:s}),this.error=(s,e)=>this.create({...e,message:s,type:"error"}),this.success=(s,e)=>this.create({...e,type:"success",message:s}),this.info=(s,e)=>this.create({...e,type:"info",message:s}),this.warning=(s,e)=>this.create({...e,type:"warning",message:s}),this.loading=(s,e)=>this.create({...e,type:"loading",message:s}),this.promise=(s,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:s,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=s instanceof Promise?s:s(),a=t!==void 0;return r.then(async o=>{if(xg(o)&&!o.ok){a=!1;let i=typeof e.error=="function"?await e.error(`HTTP error! status: ${o.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${o.status}`):e.description;this.create({id:t,type:"error",message:i,description:l})}else if(e.success!==void 0){a=!1;let i=typeof e.success=="function"?await e.success(o):e.success,l=typeof e.description=="function"?await e.description(o):e.description;this.create({id:t,type:"success",message:i,description:l})}}).catch(async o=>{if(e.error!==void 0){a=!1;let i=typeof e.error=="function"?await e.error(o):e.error,l=typeof e.description=="function"?await e.description(o):e.description;this.create({id:t,type:"error",message:i,description:l})}}).finally(()=>{var o;a&&(this.dismiss(t),t=void 0),(o=e.finally)==null||o.call(e)}),t},this.custom=(s,e)=>{let t=(e==null?void 0:e.id)||Ta++;return this.create({jsx:s(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},ze=new gg,vg=(s,e)=>{let t=(e==null?void 0:e.id)||Ta++;return ze.addToast({title:s,...e,id:t}),t},xg=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",yg=vg,wg=()=>ze.toasts;Object.assign(yg,{success:ze.success,info:ze.info,warning:ze.warning,error:ze.error,custom:ze.custom,message:ze.message,promise:ze.promise,dismiss:ze.dismiss,loading:ze.loading},{getHistory:wg});function bg(s,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=s:r.appendChild(document.createTextNode(s))}bg(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Wr(s){return s.label!==void 0}var jg=3,Sg="32px",_g=4e3,Ng=356,kg=14,Eg=20,Cg=200;function Pg(...s){return s.filter(Boolean).join(" ")}var Tg=s=>{var e,t,r,a,o,i,l,c,d,u;let{invert:m,toast:h,unstyled:g,interacting:v,setHeights:p,visibleToasts:x,heights:b,index:y,toasts:w,expanded:S,removeToast:j,defaultRichColors:_,closeButton:k,style:N,cancelButtonStyle:C,actionButtonStyle:P,className:A="",descriptionClassName:R="",duration:z,position:O,gap:B,loadingIcon:M,expandByDefault:F,classNames:T,icons:U,closeButtonAriaLabel:ge="Close toast",pauseWhenPageIsHidden:H,cn:Z}=s,[ee,ve]=D.useState(!1),[Oe,de]=D.useState(!1),[V,ne]=D.useState(!1),[xe,se]=D.useState(!1),[oe,re]=D.useState(0),[Pe,$e]=D.useState(0),_t=D.useRef(null),We=D.useRef(null),os=y===0,sa=y+1<=x,ke=h.type,Ss=h.dismissible!==!1,Bh=h.className||"",Hh=h.descriptionClassName||"",zr=D.useMemo(()=>b.findIndex(Y=>Y.toastId===h.id)||0,[b,h.id]),Vh=D.useMemo(()=>{var Y;return(Y=h.closeButton)!=null?Y:k},[h.closeButton,k]),Xo=D.useMemo(()=>h.duration||z||_g,[h.duration,z]),ra=D.useRef(0),_s=D.useRef(0),Qo=D.useRef(0),Ns=D.useRef(null),[Zo,qh]=O.split("-"),ei=D.useMemo(()=>b.reduce((Y,me,he)=>he>=zr?Y:Y+me.height,0),[b,zr]),ti=pg(),Wh=h.invert||m,na=ke==="loading";_s.current=D.useMemo(()=>zr*B+ei,[zr,ei]),D.useEffect(()=>{ve(!0)},[]),D.useLayoutEffect(()=>{if(!ee)return;let Y=We.current,me=Y.style.height;Y.style.height="auto";let he=Y.getBoundingClientRect().height;Y.style.height=me,$e(he),p(at=>at.find(ot=>ot.toastId===h.id)?at.map(ot=>ot.toastId===h.id?{...ot,height:he}:ot):[{toastId:h.id,height:he,position:h.position},...at])},[ee,h.title,h.description,p,h.id]);let Nt=D.useCallback(()=>{de(!0),re(_s.current),p(Y=>Y.filter(me=>me.toastId!==h.id)),setTimeout(()=>{j(h)},Cg)},[h,j,p,_s]);D.useEffect(()=>{if(h.promise&&ke==="loading"||h.duration===1/0||h.type==="loading")return;let Y,me=Xo;return S||v||H&&ti?(()=>{if(Qo.current<ra.current){let he=new Date().getTime()-ra.current;me=me-he}Qo.current=new Date().getTime()})():me!==1/0&&(ra.current=new Date().getTime(),Y=setTimeout(()=>{var he;(he=h.onAutoClose)==null||he.call(h,h),Nt()},me)),()=>clearTimeout(Y)},[S,v,F,h,Xo,Nt,h.promise,ke,H,ti]),D.useEffect(()=>{let Y=We.current;if(Y){let me=Y.getBoundingClientRect().height;return $e(me),p(he=>[{toastId:h.id,height:me,position:h.position},...he]),()=>p(he=>he.filter(at=>at.toastId!==h.id))}},[p,h.id]),D.useEffect(()=>{h.delete&&Nt()},[Nt,h.delete]);function Gh(){return U!=null&&U.loading?D.createElement("div",{className:"sonner-loader","data-visible":ke==="loading"},U.loading):M?D.createElement("div",{className:"sonner-loader","data-visible":ke==="loading"},M):D.createElement(dg,{visible:ke==="loading"})}return D.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:We,className:Z(A,Bh,T==null?void 0:T.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,T==null?void 0:T.default,T==null?void 0:T[ke],(t=h==null?void 0:h.classNames)==null?void 0:t[ke]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:_,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":ee,"data-promise":!!h.promise,"data-removed":Oe,"data-visible":sa,"data-y-position":Zo,"data-x-position":qh,"data-index":y,"data-front":os,"data-swiping":V,"data-dismissible":Ss,"data-type":ke,"data-invert":Wh,"data-swipe-out":xe,"data-expanded":!!(S||F&&ee),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${Oe?oe:_s.current}px`,"--initial-height":F?"auto":`${Pe}px`,...N,...h.style},onPointerDown:Y=>{na||!Ss||(_t.current=new Date,re(_s.current),Y.target.setPointerCapture(Y.pointerId),Y.target.tagName!=="BUTTON"&&(ne(!0),Ns.current={x:Y.clientX,y:Y.clientY}))},onPointerUp:()=>{var Y,me,he,at;if(xe||!Ss)return;Ns.current=null;let ot=Number(((Y=We.current)==null?void 0:Y.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Br=new Date().getTime()-((me=_t.current)==null?void 0:me.getTime()),Yh=Math.abs(ot)/Br;if(Math.abs(ot)>=Eg||Yh>.11){re(_s.current),(he=h.onDismiss)==null||he.call(h,h),Nt(),se(!0);return}(at=We.current)==null||at.style.setProperty("--swipe-amount","0px"),ne(!1)},onPointerMove:Y=>{var me;if(!Ns.current||!Ss)return;let he=Y.clientY-Ns.current.y,at=Y.clientX-Ns.current.x,ot=(Zo==="top"?Math.min:Math.max)(0,he),Br=Y.pointerType==="touch"?10:2;Math.abs(ot)>Br?(me=We.current)==null||me.style.setProperty("--swipe-amount",`${he}px`):Math.abs(at)>Br&&(Ns.current=null)}},Vh&&!h.jsx?D.createElement("button",{"aria-label":ge,"data-disabled":na,"data-close-button":!0,onClick:na||!Ss?()=>{}:()=>{var Y;Nt(),(Y=h.onDismiss)==null||Y.call(h,h)},className:Z(T==null?void 0:T.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||D.isValidElement(h.title)?h.jsx||h.title:D.createElement(D.Fragment,null,ke||h.icon||h.promise?D.createElement("div",{"data-icon":"",className:Z(T==null?void 0:T.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Gh():null,h.type!=="loading"?h.icon||(U==null?void 0:U[ke])||lg(ke):null):null,D.createElement("div",{"data-content":"",className:Z(T==null?void 0:T.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},D.createElement("div",{"data-title":"",className:Z(T==null?void 0:T.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?D.createElement("div",{"data-description":"",className:Z(R,Hh,T==null?void 0:T.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),D.isValidElement(h.cancel)?h.cancel:h.cancel&&Wr(h.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||C,onClick:Y=>{var me,he;Wr(h.cancel)&&Ss&&((he=(me=h.cancel).onClick)==null||he.call(me,Y),Nt())},className:Z(T==null?void 0:T.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,D.isValidElement(h.action)?h.action:h.action&&Wr(h.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:Y=>{var me,he;Wr(h.action)&&(Y.defaultPrevented||((he=(me=h.action).onClick)==null||he.call(me,Y),Nt()))},className:Z(T==null?void 0:T.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function vi(){if(typeof window>"u"||typeof document>"u")return"ltr";let s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}var Ag=s=>{let{invert:e,position:t="bottom-right",hotkey:r=["altKey","KeyT"],expand:a,closeButton:o,className:i,offset:l,theme:c="light",richColors:d,duration:u,style:m,visibleToasts:h=jg,toastOptions:g,dir:v=vi(),gap:p=kg,loadingIcon:x,icons:b,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:S=Pg}=s,[j,_]=D.useState([]),k=D.useMemo(()=>Array.from(new Set([t].concat(j.filter(H=>H.position).map(H=>H.position)))),[j,t]),[N,C]=D.useState([]),[P,A]=D.useState(!1),[R,z]=D.useState(!1),[O,B]=D.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=D.useRef(null),F=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=D.useRef(null),U=D.useRef(!1),ge=D.useCallback(H=>{var Z;(Z=j.find(ee=>ee.id===H.id))!=null&&Z.delete||ze.dismiss(H.id),_(ee=>ee.filter(({id:ve})=>ve!==H.id))},[j]);return D.useEffect(()=>ze.subscribe(H=>{if(H.dismiss){_(Z=>Z.map(ee=>ee.id===H.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{of.flushSync(()=>{_(Z=>{let ee=Z.findIndex(ve=>ve.id===H.id);return ee!==-1?[...Z.slice(0,ee),{...Z[ee],...H},...Z.slice(ee+1)]:[H,...Z]})})})}),[]),D.useEffect(()=>{if(c!=="system"){B(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{B(H?"dark":"light")})},[c]),D.useEffect(()=>{j.length<=1&&A(!1)},[j]),D.useEffect(()=>{let H=Z=>{var ee,ve;r.every(Oe=>Z[Oe]||Z.code===Oe)&&(A(!0),(ee=M.current)==null||ee.focus()),Z.code==="Escape"&&(document.activeElement===M.current||(ve=M.current)!=null&&ve.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[r]),D.useEffect(()=>{if(M.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,U.current=!1)}},[M.current]),j.length?D.createElement("section",{"aria-label":`${y} ${F}`,tabIndex:-1},k.map((H,Z)=>{var ee;let[ve,Oe]=H.split("-");return D.createElement("ol",{key:H,dir:v==="auto"?vi():v,tabIndex:-1,ref:M,className:i,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":ve,"data-x-position":Oe,style:{"--front-toast-height":`${((ee=N[0])==null?void 0:ee.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Sg,"--width":`${Ng}px`,"--gap":`${p}px`,...m},onBlur:de=>{U.current&&!de.currentTarget.contains(de.relatedTarget)&&(U.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||U.current||(U.current=!0,T.current=de.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{R||A(!1)},onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},j.filter(de=>!de.position&&Z===0||de.position===H).map((de,V)=>{var ne,xe;return D.createElement(Tg,{key:de.id,icons:b,index:V,toast:de,defaultRichColors:d,duration:(ne=g==null?void 0:g.duration)!=null?ne:u,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:h,closeButton:(xe=g==null?void 0:g.closeButton)!=null?xe:o,interacting:R,position:H,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ge,toasts:j.filter(se=>se.position==de.position),heights:N.filter(se=>se.position==de.position),setHeights:C,expandByDefault:a,gap:p,loadingIcon:x,expanded:P,pauseWhenPageIsHidden:w,cn:S})}))})):null};const Rg=({...s})=>{const{theme:e="system"}=ig();return n.jsx(Ag,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s})},Og=["top","right","bottom","left"],Gt=Math.min,Be=Math.max,dn=Math.round,Gr=Math.floor,Yt=s=>({x:s,y:s}),Dg={left:"right",right:"left",bottom:"top",top:"bottom"},Mg={start:"end",end:"start"};function Aa(s,e,t){return Be(s,Gt(e,t))}function bt(s,e){return typeof s=="function"?s(e):s}function jt(s){return s.split("-")[0]}function tr(s){return s.split("-")[1]}function yo(s){return s==="x"?"y":"x"}function wo(s){return s==="y"?"height":"width"}function Kt(s){return["top","bottom"].includes(jt(s))?"y":"x"}function bo(s){return yo(Kt(s))}function Ig(s,e,t){t===void 0&&(t=!1);const r=tr(s),a=bo(s),o=wo(a);let i=a==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=un(i)),[i,un(i)]}function Lg(s){const e=un(s);return[Ra(s),e,Ra(e)]}function Ra(s){return s.replace(/start|end/g,e=>Mg[e])}function $g(s,e,t){const r=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(s){case"top":case"bottom":return t?e?a:r:e?r:a;case"left":case"right":return e?o:i;default:return[]}}function Fg(s,e,t,r){const a=tr(s);let o=$g(jt(s),t==="start",r);return a&&(o=o.map(i=>i+"-"+a),e&&(o=o.concat(o.map(Ra)))),o}function un(s){return s.replace(/left|right|bottom|top/g,e=>Dg[e])}function Ug(s){return{top:0,right:0,bottom:0,left:0,...s}}function pc(s){return typeof s!="number"?Ug(s):{top:s,right:s,bottom:s,left:s}}function hn(s){const{x:e,y:t,width:r,height:a}=s;return{width:r,height:a,top:t,left:e,right:e+r,bottom:t+a,x:e,y:t}}function xi(s,e,t){let{reference:r,floating:a}=s;const o=Kt(e),i=bo(e),l=wo(i),c=jt(e),d=o==="y",u=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,h=r[l]/2-a[l]/2;let g;switch(c){case"top":g={x:u,y:r.y-a.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:m};break;case"left":g={x:r.x-a.width,y:m};break;default:g={x:r.x,y:r.y}}switch(tr(e)){case"start":g[i]-=h*(t&&d?-1:1);break;case"end":g[i]+=h*(t&&d?-1:1);break}return g}const zg=async(s,e,t)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=t,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let d=await i.getElementRects({reference:s,floating:e,strategy:a}),{x:u,y:m}=xi(d,r,c),h=r,g={},v=0;for(let p=0;p<l.length;p++){const{name:x,fn:b}=l[p],{x:y,y:w,data:S,reset:j}=await b({x:u,y:m,initialPlacement:r,placement:h,strategy:a,middlewareData:g,rects:d,platform:i,elements:{reference:s,floating:e}});u=y??u,m=w??m,g={...g,[x]:{...g[x],...S}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(d=j.rects===!0?await i.getElementRects({reference:s,floating:e,strategy:a}):j.rects),{x:u,y:m}=xi(d,h,c)),p=-1)}return{x:u,y:m,placement:h,strategy:a,middlewareData:g}};async function wr(s,e){var t;e===void 0&&(e={});const{x:r,y:a,platform:o,rects:i,elements:l,strategy:c}=s,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:g=0}=bt(e,s),v=pc(g),x=l[h?m==="floating"?"reference":"floating":m],b=hn(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(x)))==null||t?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=m==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},j=hn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(b.top-j.top+v.top)/S.y,bottom:(j.bottom-b.bottom+v.bottom)/S.y,left:(b.left-j.left+v.left)/S.x,right:(j.right-b.right+v.right)/S.x}}const Bg=s=>({name:"arrow",options:s,async fn(e){const{x:t,y:r,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=bt(s,e)||{};if(d==null)return{};const m=pc(u),h={x:t,y:r},g=bo(a),v=wo(g),p=await i.getDimensions(d),x=g==="y",b=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",S=o.reference[v]+o.reference[g]-h[g]-o.floating[v],j=h[g]-o.reference[g],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let k=_?_[w]:0;(!k||!await(i.isElement==null?void 0:i.isElement(_)))&&(k=l.floating[w]||o.floating[v]);const N=S/2-j/2,C=k/2-p[v]/2-1,P=Gt(m[b],C),A=Gt(m[y],C),R=P,z=k-p[v]-A,O=k/2-p[v]/2+N,B=Aa(R,O,z),M=!c.arrow&&tr(a)!=null&&O!==B&&o.reference[v]/2-(O<R?P:A)-p[v]/2<0,F=M?O<R?O-R:O-z:0;return{[g]:h[g]+F,data:{[g]:B,centerOffset:O-B-F,...M&&{alignmentOffset:F}},reset:M}}}),Hg=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(e){var t,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...x}=bt(s,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const b=jt(a),y=Kt(l),w=jt(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=h||(w||!p?[un(l)]:Lg(l)),_=v!=="none";!h&&_&&j.push(...Fg(l,p,v,S));const k=[l,...j],N=await wr(e,x),C=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&C.push(N[b]),m){const O=Ig(a,i,S);C.push(N[O[0]],N[O[1]])}if(P=[...P,{placement:a,overflows:C}],!C.every(O=>O<=0)){var A,R;const O=(((A=o.flip)==null?void 0:A.index)||0)+1,B=k[O];if(B)return{data:{index:O,overflows:P},reset:{placement:B}};let M=(R=P.filter(F=>F.overflows[0]<=0).sort((F,T)=>F.overflows[1]-T.overflows[1])[0])==null?void 0:R.placement;if(!M)switch(g){case"bestFit":{var z;const F=(z=P.filter(T=>{if(_){const U=Kt(T.placement);return U===y||U==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(U=>U>0).reduce((U,ge)=>U+ge,0)]).sort((T,U)=>T[1]-U[1])[0])==null?void 0:z[0];F&&(M=F);break}case"initialPlacement":M=l;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function yi(s,e){return{top:s.top-e.height,right:s.right-e.width,bottom:s.bottom-e.height,left:s.left-e.width}}function wi(s){return Og.some(e=>s[e]>=0)}const Vg=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...a}=bt(s,e);switch(r){case"referenceHidden":{const o=await wr(e,{...a,elementContext:"reference"}),i=yi(o,t.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:wi(i)}}}case"escaped":{const o=await wr(e,{...a,altBoundary:!0}),i=yi(o,t.floating);return{data:{escapedOffsets:i,escaped:wi(i)}}}default:return{}}}}};async function qg(s,e){const{placement:t,platform:r,elements:a}=s,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=jt(t),l=tr(t),c=Kt(t)==="y",d=["left","top"].includes(i)?-1:1,u=o&&c?-1:1,m=bt(e,s);let{mainAxis:h,crossAxis:g,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*u,y:h*d}:{x:h*d,y:g*u}}const Wg=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(e){var t,r;const{x:a,y:o,placement:i,middlewareData:l}=e,c=await qg(e,s);return i===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},Gg=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(e){const{x:t,y:r,placement:a}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:b,y}=x;return{x:b,y}}},...c}=bt(s,e),d={x:t,y:r},u=await wr(e,c),m=Kt(jt(a)),h=yo(m);let g=d[h],v=d[m];if(o){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=g+u[x],w=g-u[b];g=Aa(y,g,w)}if(i){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",y=v+u[x],w=v-u[b];v=Aa(y,v,w)}const p=l.fn({...e,[h]:g,[m]:v});return{...p,data:{x:p.x-t,y:p.y-r,enabled:{[h]:o,[m]:i}}}}}},Yg=function(s){return s===void 0&&(s={}),{options:s,fn(e){const{x:t,y:r,placement:a,rects:o,middlewareData:i}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=bt(s,e),u={x:t,y:r},m=Kt(a),h=yo(m);let g=u[h],v=u[m];const p=bt(l,e),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",S=o.reference[h]-o.floating[w]+x.mainAxis,j=o.reference[h]+o.reference[w]-x.mainAxis;g<S?g=S:g>j&&(g=j)}if(d){var b,y;const w=h==="y"?"width":"height",S=["top","left"].includes(jt(a)),j=o.reference[m]-o.floating[w]+(S&&((b=i.offset)==null?void 0:b[m])||0)+(S?0:x.crossAxis),_=o.reference[m]+o.reference[w]+(S?0:((y=i.offset)==null?void 0:y[m])||0)-(S?x.crossAxis:0);v<j?v=j:v>_&&(v=_)}return{[h]:g,[m]:v}}}},Kg=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(e){var t,r;const{placement:a,rects:o,platform:i,elements:l}=e,{apply:c=()=>{},...d}=bt(s,e),u=await wr(e,d),m=jt(a),h=tr(a),g=Kt(a)==="y",{width:v,height:p}=o.floating;let x,b;m==="top"||m==="bottom"?(x=m,b=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(b=m,x=h==="end"?"top":"bottom");const y=p-u.top-u.bottom,w=v-u.left-u.right,S=Gt(p-u[x],y),j=Gt(v-u[b],w),_=!e.middlewareData.shift;let k=S,N=j;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(N=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=y),_&&!h){const P=Be(u.left,0),A=Be(u.right,0),R=Be(u.top,0),z=Be(u.bottom,0);g?N=v-2*(P!==0||A!==0?P+A:Be(u.left,u.right)):k=p-2*(R!==0||z!==0?R+z:Be(u.top,u.bottom))}await c({...e,availableWidth:N,availableHeight:k});const C=await i.getDimensions(l.floating);return v!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function Cn(){return typeof window<"u"}function sr(s){return gc(s)?(s.nodeName||"").toLowerCase():"#document"}function Ve(s){var e;return(s==null||(e=s.ownerDocument)==null?void 0:e.defaultView)||window}function ft(s){var e;return(e=(gc(s)?s.ownerDocument:s.document)||window.document)==null?void 0:e.documentElement}function gc(s){return Cn()?s instanceof Node||s instanceof Ve(s).Node:!1}function rt(s){return Cn()?s instanceof Element||s instanceof Ve(s).Element:!1}function ut(s){return Cn()?s instanceof HTMLElement||s instanceof Ve(s).HTMLElement:!1}function bi(s){return!Cn()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Ve(s).ShadowRoot}function Ir(s){const{overflow:e,overflowX:t,overflowY:r,display:a}=nt(s);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(a)}function Jg(s){return["table","td","th"].includes(sr(s))}function Pn(s){return[":popover-open",":modal"].some(e=>{try{return s.matches(e)}catch{return!1}})}function jo(s){const e=So(),t=rt(s)?nt(s):s;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Xg(s){let e=Jt(s);for(;ut(e)&&!Gs(e);){if(jo(e))return e;if(Pn(e))return null;e=Jt(e)}return null}function So(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gs(s){return["html","body","#document"].includes(sr(s))}function nt(s){return Ve(s).getComputedStyle(s)}function Tn(s){return rt(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function Jt(s){if(sr(s)==="html")return s;const e=s.assignedSlot||s.parentNode||bi(s)&&s.host||ft(s);return bi(e)?e.host:e}function vc(s){const e=Jt(s);return Gs(e)?s.ownerDocument?s.ownerDocument.body:s.body:ut(e)&&Ir(e)?e:vc(e)}function br(s,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=vc(s),o=a===((r=s.ownerDocument)==null?void 0:r.body),i=Ve(a);if(o){const l=Oa(i);return e.concat(i,i.visualViewport||[],Ir(a)?a:[],l&&t?br(l):[])}return e.concat(a,br(a,[],t))}function Oa(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function xc(s){const e=nt(s);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=ut(s),o=a?s.offsetWidth:t,i=a?s.offsetHeight:r,l=dn(t)!==o||dn(r)!==i;return l&&(t=o,r=i),{width:t,height:r,$:l}}function _o(s){return rt(s)?s:s.contextElement}function Ds(s){const e=_o(s);if(!ut(e))return Yt(1);const t=e.getBoundingClientRect(),{width:r,height:a,$:o}=xc(e);let i=(o?dn(t.width):t.width)/r,l=(o?dn(t.height):t.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Qg=Yt(0);function yc(s){const e=Ve(s);return!So()||!e.visualViewport?Qg:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Zg(s,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ve(s)?!1:e}function vs(s,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=s.getBoundingClientRect(),o=_o(s);let i=Yt(1);e&&(r?rt(r)&&(i=Ds(r)):i=Ds(s));const l=Zg(o,t,r)?yc(o):Yt(0);let c=(a.left+l.x)/i.x,d=(a.top+l.y)/i.y,u=a.width/i.x,m=a.height/i.y;if(o){const h=Ve(o),g=r&&rt(r)?Ve(r):r;let v=h,p=Oa(v);for(;p&&r&&g!==v;){const x=Ds(p),b=p.getBoundingClientRect(),y=nt(p),w=b.left+(p.clientLeft+parseFloat(y.paddingLeft))*x.x,S=b.top+(p.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,d*=x.y,u*=x.x,m*=x.y,c+=w,d+=S,v=Ve(p),p=Oa(v)}}return hn({width:u,height:m,x:c,y:d})}function ev(s){let{elements:e,rect:t,offsetParent:r,strategy:a}=s;const o=a==="fixed",i=ft(r),l=e?Pn(e.floating):!1;if(r===i||l&&o)return t;let c={scrollLeft:0,scrollTop:0},d=Yt(1);const u=Yt(0),m=ut(r);if((m||!m&&!o)&&((sr(r)!=="body"||Ir(i))&&(c=Tn(r)),ut(r))){const h=vs(r);d=Ds(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-c.scrollLeft*d.x+u.x,y:t.y*d.y-c.scrollTop*d.y+u.y}}function tv(s){return Array.from(s.getClientRects())}function Da(s,e){const t=Tn(s).scrollLeft;return e?e.left+t:vs(ft(s)).left+t}function sv(s){const e=ft(s),t=Tn(s),r=s.ownerDocument.body,a=Be(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Be(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-t.scrollLeft+Da(s);const l=-t.scrollTop;return nt(r).direction==="rtl"&&(i+=Be(e.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:l}}function rv(s,e){const t=Ve(s),r=ft(s),a=t.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const d=So();(!d||d&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:o,height:i,x:l,y:c}}function nv(s,e){const t=vs(s,!0,e==="fixed"),r=t.top+s.clientTop,a=t.left+s.clientLeft,o=ut(s)?Ds(s):Yt(1),i=s.clientWidth*o.x,l=s.clientHeight*o.y,c=a*o.x,d=r*o.y;return{width:i,height:l,x:c,y:d}}function ji(s,e,t){let r;if(e==="viewport")r=rv(s,t);else if(e==="document")r=sv(ft(s));else if(rt(e))r=nv(e,t);else{const a=yc(s);r={...e,x:e.x-a.x,y:e.y-a.y}}return hn(r)}function wc(s,e){const t=Jt(s);return t===e||!rt(t)||Gs(t)?!1:nt(t).position==="fixed"||wc(t,e)}function av(s,e){const t=e.get(s);if(t)return t;let r=br(s,[],!1).filter(l=>rt(l)&&sr(l)!=="body"),a=null;const o=nt(s).position==="fixed";let i=o?Jt(s):s;for(;rt(i)&&!Gs(i);){const l=nt(i),c=jo(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Ir(i)&&!c&&wc(s,i))?r=r.filter(u=>u!==i):a=l,i=Jt(i)}return e.set(s,r),r}function ov(s){let{element:e,boundary:t,rootBoundary:r,strategy:a}=s;const i=[...t==="clippingAncestors"?Pn(e)?[]:av(e,this._c):[].concat(t),r],l=i[0],c=i.reduce((d,u)=>{const m=ji(e,u,a);return d.top=Be(m.top,d.top),d.right=Gt(m.right,d.right),d.bottom=Gt(m.bottom,d.bottom),d.left=Be(m.left,d.left),d},ji(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function iv(s){const{width:e,height:t}=xc(s);return{width:e,height:t}}function lv(s,e,t){const r=ut(e),a=ft(e),o=t==="fixed",i=vs(s,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=Yt(0);if(r||!r&&!o)if((sr(e)!=="body"||Ir(a))&&(l=Tn(e)),r){const g=vs(e,!0,o,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else a&&(c.x=Da(a));let d=0,u=0;if(a&&!r&&!o){const g=a.getBoundingClientRect();u=g.top+l.scrollTop,d=g.left+l.scrollLeft-Da(a,g)}const m=i.left+l.scrollLeft-c.x-d,h=i.top+l.scrollTop-c.y-u;return{x:m,y:h,width:i.width,height:i.height}}function ua(s){return nt(s).position==="static"}function Si(s,e){if(!ut(s)||nt(s).position==="fixed")return null;if(e)return e(s);let t=s.offsetParent;return ft(s)===t&&(t=t.ownerDocument.body),t}function bc(s,e){const t=Ve(s);if(Pn(s))return t;if(!ut(s)){let a=Jt(s);for(;a&&!Gs(a);){if(rt(a)&&!ua(a))return a;a=Jt(a)}return t}let r=Si(s,e);for(;r&&Jg(r)&&ua(r);)r=Si(r,e);return r&&Gs(r)&&ua(r)&&!jo(r)?t:r||Xg(s)||t}const cv=async function(s){const e=this.getOffsetParent||bc,t=this.getDimensions,r=await t(s.floating);return{reference:lv(s.reference,await e(s.floating),s.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dv(s){return nt(s).direction==="rtl"}const uv={convertOffsetParentRelativeRectToViewportRelativeRect:ev,getDocumentElement:ft,getClippingRect:ov,getOffsetParent:bc,getElementRects:cv,getClientRects:tv,getDimensions:iv,getScale:Ds,isElement:rt,isRTL:dv};function hv(s,e){let t=null,r;const a=ft(s);function o(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:d,top:u,width:m,height:h}=s.getBoundingClientRect();if(l||e(),!m||!h)return;const g=Gr(u),v=Gr(a.clientWidth-(d+m)),p=Gr(a.clientHeight-(u+h)),x=Gr(d),y={rootMargin:-g+"px "+-v+"px "+-p+"px "+-x+"px",threshold:Be(0,Gt(1,c))||1};let w=!0;function S(j){const _=j[0].intersectionRatio;if(_!==c){if(!w)return i();_?i(!1,_):r=setTimeout(()=>{i(!1,1e-7)},1e3)}w=!1}try{t=new IntersectionObserver(S,{...y,root:a.ownerDocument})}catch{t=new IntersectionObserver(S,y)}t.observe(s)}return i(!0),o}function fv(s,e,t,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=_o(s),u=a||o?[...d?br(d):[],...br(e)]:[];u.forEach(b=>{a&&b.addEventListener("scroll",t,{passive:!0}),o&&b.addEventListener("resize",t)});const m=d&&l?hv(d,t):null;let h=-1,g=null;i&&(g=new ResizeObserver(b=>{let[y]=b;y&&y.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(e)})),t()}),d&&!c&&g.observe(d),g.observe(e));let v,p=c?vs(s):null;c&&x();function x(){const b=vs(s);p&&(b.x!==p.x||b.y!==p.y||b.width!==p.width||b.height!==p.height)&&t(),p=b,v=requestAnimationFrame(x)}return t(),()=>{var b;u.forEach(y=>{a&&y.removeEventListener("scroll",t),o&&y.removeEventListener("resize",t)}),m==null||m(),(b=g)==null||b.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const mv=Wg,pv=Gg,gv=Hg,vv=Kg,xv=Vg,_i=Bg,yv=Yg,wv=(s,e,t)=>{const r=new Map,a={platform:uv,...t},o={...a.platform,_c:r};return zg(s,e,{...a,platform:o})};var sn=typeof document<"u"?f.useLayoutEffect:f.useEffect;function fn(s,e){if(s===e)return!0;if(typeof s!=typeof e)return!1;if(typeof s=="function"&&s.toString()===e.toString())return!0;let t,r,a;if(s&&e&&typeof s=="object"){if(Array.isArray(s)){if(t=s.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!fn(s[r],e[r]))return!1;return!0}if(a=Object.keys(s),t=a.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=t;r--!==0;){const o=a[r];if(!(o==="_owner"&&s.$$typeof)&&!fn(s[o],e[o]))return!1}return!0}return s!==s&&e!==e}function jc(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function Ni(s,e){const t=jc(s);return Math.round(e*t)/t}function ha(s){const e=f.useRef(s);return sn(()=>{e.current=s}),e}function bv(s){s===void 0&&(s={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=s,[u,m]=f.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=f.useState(r);fn(h,r)||g(r);const[v,p]=f.useState(null),[x,b]=f.useState(null),y=f.useCallback(T=>{T!==_.current&&(_.current=T,p(T))},[]),w=f.useCallback(T=>{T!==k.current&&(k.current=T,b(T))},[]),S=o||v,j=i||x,_=f.useRef(null),k=f.useRef(null),N=f.useRef(u),C=c!=null,P=ha(c),A=ha(a),R=ha(d),z=f.useCallback(()=>{if(!_.current||!k.current)return;const T={placement:e,strategy:t,middleware:h};A.current&&(T.platform=A.current),wv(_.current,k.current,T).then(U=>{const ge={...U,isPositioned:R.current!==!1};O.current&&!fn(N.current,ge)&&(N.current=ge,Or.flushSync(()=>{m(ge)}))})},[h,e,t,A,R]);sn(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,m(T=>({...T,isPositioned:!1})))},[d]);const O=f.useRef(!1);sn(()=>(O.current=!0,()=>{O.current=!1}),[]),sn(()=>{if(S&&(_.current=S),j&&(k.current=j),S&&j){if(P.current)return P.current(S,j,z);z()}},[S,j,z,P,C]);const B=f.useMemo(()=>({reference:_,floating:k,setReference:y,setFloating:w}),[y,w]),M=f.useMemo(()=>({reference:S,floating:j}),[S,j]),F=f.useMemo(()=>{const T={position:t,left:0,top:0};if(!M.floating)return T;const U=Ni(M.floating,u.x),ge=Ni(M.floating,u.y);return l?{...T,transform:"translate("+U+"px, "+ge+"px)",...jc(M.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:U,top:ge}},[t,l,M.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:z,refs:B,elements:M,floatingStyles:F}),[u,z,B,M,F])}const jv=s=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:s,fn(t){const{element:r,padding:a}=typeof s=="function"?s(t):s;return r&&e(r)?r.current!=null?_i({element:r.current,padding:a}).fn(t):{}:r?_i({element:r,padding:a}).fn(t):{}}}},Sv=(s,e)=>({...mv(s),options:[s,e]}),_v=(s,e)=>({...pv(s),options:[s,e]}),Nv=(s,e)=>({...yv(s),options:[s,e]}),kv=(s,e)=>({...gv(s),options:[s,e]}),Ev=(s,e)=>({...vv(s),options:[s,e]}),Cv=(s,e)=>({...xv(s),options:[s,e]}),Pv=(s,e)=>({...jv(s),options:[s,e]});var Tv="Arrow",Sc=f.forwardRef((s,e)=>{const{children:t,width:r=10,height:a=5,...o}=s;return n.jsx(G.svg,{...o,ref:e,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?t:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});Sc.displayName=Tv;var Av=Sc;function Rv(s,e=[]){let t=[];function r(o,i){const l=f.createContext(i),c=t.length;t=[...t,i];function d(m){const{scope:h,children:g,...v}=m,p=(h==null?void 0:h[s][c])||l,x=f.useMemo(()=>v,Object.values(v));return n.jsx(p.Provider,{value:x,children:g})}function u(m,h){const g=(h==null?void 0:h[s][c])||l,v=f.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const a=()=>{const o=t.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[s])||o;return f.useMemo(()=>({[`__scope${s}`]:{...l,[s]:c}}),[l,c])}};return a.scopeName=s,[r,Ov(a,...e)]}function Ov(...s){const e=s[0];if(s.length===1)return e;const t=()=>{const r=s.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return t.scopeName=e.scopeName,t}function An(s){const[e,t]=f.useState(void 0);return Le(()=>{if(s){t({width:s.offsetWidth,height:s.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=s.offsetWidth,l=s.offsetHeight;t({width:i,height:l})});return r.observe(s,{box:"border-box"}),()=>r.unobserve(s)}else t(void 0)},[s]),e}var No="Popper",[_c,Rn]=Rv(No),[Dv,Nc]=_c(No),kc=s=>{const{__scopePopper:e,children:t}=s,[r,a]=f.useState(null);return n.jsx(Dv,{scope:e,anchor:r,onAnchorChange:a,children:t})};kc.displayName=No;var Ec="PopperAnchor",Cc=f.forwardRef((s,e)=>{const{__scopePopper:t,virtualRef:r,...a}=s,o=Nc(Ec,t),i=f.useRef(null),l=te(e,i);return f.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:n.jsx(G.div,{...a,ref:l})});Cc.displayName=Ec;var ko="PopperContent",[Mv,Iv]=_c(ko),Pc=f.forwardRef((s,e)=>{var V,ne,xe,se,oe,re;const{__scopePopper:t,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:v,...p}=s,x=Nc(ko,t),[b,y]=f.useState(null),w=te(e,Pe=>y(Pe)),[S,j]=f.useState(null),_=An(S),k=(_==null?void 0:_.width)??0,N=(_==null?void 0:_.height)??0,C=r+(o!=="center"?"-"+o:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(d)?d:[d],R=A.length>0,z={padding:P,boundary:A.filter($v),altBoundary:R},{refs:O,floatingStyles:B,placement:M,isPositioned:F,middlewareData:T}=bv({strategy:"fixed",placement:C,whileElementsMounted:(...Pe)=>fv(...Pe,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[Sv({mainAxis:a+N,alignmentAxis:i}),c&&_v({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Nv():void 0,...z}),c&&kv({...z}),Ev({...z,apply:({elements:Pe,rects:$e,availableWidth:_t,availableHeight:We})=>{const{width:os,height:sa}=$e.reference,ke=Pe.floating.style;ke.setProperty("--radix-popper-available-width",`${_t}px`),ke.setProperty("--radix-popper-available-height",`${We}px`),ke.setProperty("--radix-popper-anchor-width",`${os}px`),ke.setProperty("--radix-popper-anchor-height",`${sa}px`)}}),S&&Pv({element:S,padding:l}),Fv({arrowWidth:k,arrowHeight:N}),h&&Cv({strategy:"referenceHidden",...z})]}),[U,ge]=Rc(M),H=He(v);Le(()=>{F&&(H==null||H())},[F,H]);const Z=(V=T.arrow)==null?void 0:V.x,ee=(ne=T.arrow)==null?void 0:ne.y,ve=((xe=T.arrow)==null?void 0:xe.centerOffset)!==0,[Oe,de]=f.useState();return Le(()=>{b&&de(window.getComputedStyle(b).zIndex)},[b]),n.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:F?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(se=T.transformOrigin)==null?void 0:se.x,(oe=T.transformOrigin)==null?void 0:oe.y].join(" "),...((re=T.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:n.jsx(Mv,{scope:t,placedSide:U,onArrowChange:j,arrowX:Z,arrowY:ee,shouldHideArrow:ve,children:n.jsx(G.div,{"data-side":U,"data-align":ge,...p,ref:w,style:{...p.style,animation:F?void 0:"none"}})})})});Pc.displayName=ko;var Tc="PopperArrow",Lv={top:"bottom",right:"left",bottom:"top",left:"right"},Ac=f.forwardRef(function(e,t){const{__scopePopper:r,...a}=e,o=Iv(Tc,r),i=Lv[o.placedSide];return n.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:n.jsx(Av,{...a,ref:t,style:{...a.style,display:"block"}})})});Ac.displayName=Tc;function $v(s){return s!==null}var Fv=s=>({name:"transformOrigin",options:s,fn(e){var x,b,y;const{placement:t,rects:r,middlewareData:a}=e,i=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:s.arrowWidth,c=i?0:s.arrowHeight,[d,u]=Rc(t),m={start:"0%",center:"50%",end:"100%"}[u],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,g=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let v="",p="";return d==="bottom"?(v=i?m:`${h}px`,p=`${-c}px`):d==="top"?(v=i?m:`${h}px`,p=`${r.floating.height+c}px`):d==="right"?(v=`${-c}px`,p=i?m:`${g}px`):d==="left"&&(v=`${r.floating.width+c}px`,p=i?m:`${g}px`),{data:{x:v,y:p}}}});function Rc(s){const[e,t="center"]=s.split("-");return[e,t]}var Oc=kc,Dc=Cc,Mc=Pc,Ic=Ac,[On,Fj]=ht("Tooltip",[Rn]),Dn=Rn(),Lc="TooltipProvider",Uv=700,Ma="tooltip.open",[zv,Eo]=On(Lc),$c=s=>{const{__scopeTooltip:e,delayDuration:t=Uv,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=s,[i,l]=f.useState(!0),c=f.useRef(!1),d=f.useRef(0);return f.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),n.jsx(zv,{scope:e,isOpenDelayed:i,delayDuration:t,onOpen:f.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:f.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:f.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:o})};$c.displayName=Lc;var Mn="Tooltip",[Bv,In]=On(Mn),Fc=s=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:a=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=s,c=Eo(Mn,s.__scopeTooltip),d=Dn(e),[u,m]=f.useState(null),h=Rr(),g=f.useRef(0),v=i??c.disableHoverableContent,p=l??c.delayDuration,x=f.useRef(!1),[b=!1,y]=qt({prop:r,defaultProp:a,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ma))):c.onClose(),o==null||o(k)}}),w=f.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),S=f.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x.current=!1,y(!0)},[y]),j=f.useCallback(()=>{window.clearTimeout(g.current),g.current=0,y(!1)},[y]),_=f.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,y(!0),g.current=0},p)},[p,y]);return f.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),n.jsx(Oc,{...d,children:n.jsx(Bv,{scope:e,contentId:h,open:b,stateAttribute:w,trigger:u,onTriggerChange:m,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayed?_():S()},[c.isOpenDelayed,_,S]),onTriggerLeave:f.useCallback(()=>{v?j():(window.clearTimeout(g.current),g.current=0)},[j,v]),onOpen:S,onClose:j,disableHoverableContent:v,children:t})})};Fc.displayName=Mn;var Ia="TooltipTrigger",Uc=f.forwardRef((s,e)=>{const{__scopeTooltip:t,...r}=s,a=In(Ia,t),o=Eo(Ia,t),i=Dn(t),l=f.useRef(null),c=te(e,l,a.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),m=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),n.jsx(Dc,{asChild:!0,...i,children:n.jsx(G.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:$(s.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:$(s.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:$(s.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:$(s.onFocus,()=>{d.current||a.onOpen()}),onBlur:$(s.onBlur,a.onClose),onClick:$(s.onClick,a.onClose)})})});Uc.displayName=Ia;var Hv="TooltipPortal",[Uj,Vv]=On(Hv,{forceMount:void 0}),Ys="TooltipContent",zc=f.forwardRef((s,e)=>{const t=Vv(Ys,s.__scopeTooltip),{forceMount:r=t.forceMount,side:a="top",...o}=s,i=In(Ys,s.__scopeTooltip);return n.jsx(ss,{present:r||i.open,children:i.disableHoverableContent?n.jsx(Bc,{side:a,...o,ref:e}):n.jsx(qv,{side:a,...o,ref:e})})}),qv=f.forwardRef((s,e)=>{const t=In(Ys,s.__scopeTooltip),r=Eo(Ys,s.__scopeTooltip),a=f.useRef(null),o=te(e,a),[i,l]=f.useState(null),{trigger:c,onClose:d}=t,u=a.current,{onPointerInTransitChange:m}=r,h=f.useCallback(()=>{l(null),m(!1)},[m]),g=f.useCallback((v,p)=>{const x=v.currentTarget,b={x:v.clientX,y:v.clientY},y=Kv(b,x.getBoundingClientRect()),w=Jv(b,y),S=Xv(p.getBoundingClientRect()),j=Zv([...w,...S]);l(j),m(!0)},[m]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(c&&u){const v=x=>g(x,u),p=x=>g(x,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",p)}}},[c,u,g,h]),f.useEffect(()=>{if(i){const v=p=>{const x=p.target,b={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(x))||(u==null?void 0:u.contains(x)),w=!Qv(b,i);y?h():w&&(h(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,i,d,h]),n.jsx(Bc,{...s,ref:o})}),[Wv,Gv]=On(Mn,{isInside:!1}),Bc=f.forwardRef((s,e)=>{const{__scopeTooltip:t,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=s,c=In(Ys,t),d=Dn(t),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener(Ma,u),()=>document.removeEventListener(Ma,u)),[u]),f.useEffect(()=>{if(c.trigger){const m=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),n.jsx(ll,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:n.jsxs(Mc,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(cl,{children:r}),n.jsx(Wv,{scope:t,isInside:!0,children:n.jsx(vf,{id:c.contentId,role:"tooltip",children:a||r})})]})})});zc.displayName=Ys;var Hc="TooltipArrow",Yv=f.forwardRef((s,e)=>{const{__scopeTooltip:t,...r}=s,a=Dn(t);return Gv(Hc,t).isInside?null:n.jsx(Ic,{...a,...r,ref:e})});Yv.displayName=Hc;function Kv(s,e){const t=Math.abs(e.top-s.y),r=Math.abs(e.bottom-s.y),a=Math.abs(e.right-s.x),o=Math.abs(e.left-s.x);switch(Math.min(t,r,a,o)){case o:return"left";case a:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Jv(s,e,t=5){const r=[];switch(e){case"top":r.push({x:s.x-t,y:s.y+t},{x:s.x+t,y:s.y+t});break;case"bottom":r.push({x:s.x-t,y:s.y-t},{x:s.x+t,y:s.y-t});break;case"left":r.push({x:s.x+t,y:s.y-t},{x:s.x+t,y:s.y+t});break;case"right":r.push({x:s.x-t,y:s.y-t},{x:s.x-t,y:s.y+t});break}return r}function Xv(s){const{top:e,right:t,bottom:r,left:a}=s;return[{x:a,y:e},{x:t,y:e},{x:t,y:r},{x:a,y:r}]}function Qv(s,e){const{x:t,y:r}=s;let a=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const l=e[o].x,c=e[o].y,d=e[i].x,u=e[i].y;c>r!=u>r&&t<(d-l)*(r-c)/(u-c)+l&&(a=!a)}return a}function Zv(s){const e=s.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),ex(e)}function ex(s){if(s.length<=1)return s.slice();const e=[];for(let r=0;r<s.length;r++){const a=s[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))e.pop();else break}e.push(a)}e.pop();const t=[];for(let r=s.length-1;r>=0;r--){const a=s[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var tx=$c,sx=Fc,rx=Uc,Vc=zc;const jr=tx,mn=sx,pn=rx,Sr=f.forwardRef(({className:s,sideOffset:e=4,...t},r)=>n.jsx(Vc,{ref:r,sideOffset:e,className:L("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t}));Sr.displayName=Vc.displayName;var Ln=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$n=typeof window>"u"||"Deno"in globalThis;function Qe(){}function nx(s,e){return typeof s=="function"?s(e):s}function ax(s){return typeof s=="number"&&s>=0&&s!==1/0}function ox(s,e){return Math.max(s+(e||0)-Date.now(),0)}function ki(s,e){return typeof s=="function"?s(e):s}function ix(s,e){return typeof s=="function"?s(e):s}function Ei(s,e){const{type:t="all",exact:r,fetchStatus:a,predicate:o,queryKey:i,stale:l}=s;if(i){if(r){if(e.queryHash!==Co(i,e.options))return!1}else if(!Nr(e.queryKey,i))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||a&&a!==e.state.fetchStatus||o&&!o(e))}function Ci(s,e){const{exact:t,status:r,predicate:a,mutationKey:o}=s;if(o){if(!e.options.mutationKey)return!1;if(t){if(_r(e.options.mutationKey)!==_r(o))return!1}else if(!Nr(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Co(s,e){return((e==null?void 0:e.queryKeyHashFn)||_r)(s)}function _r(s){return JSON.stringify(s,(e,t)=>La(t)?Object.keys(t).sort().reduce((r,a)=>(r[a]=t[a],r),{}):t)}function Nr(s,e){return s===e?!0:typeof s!=typeof e?!1:s&&e&&typeof s=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!Nr(s[t],e[t])):!1}function qc(s,e){if(s===e)return s;const t=Pi(s)&&Pi(e);if(t||La(s)&&La(e)){const r=t?s:Object.keys(s),a=r.length,o=t?e:Object.keys(e),i=o.length,l=t?[]:{};let c=0;for(let d=0;d<i;d++){const u=t?d:o[d];(!t&&r.includes(u)||t)&&s[u]===void 0&&e[u]===void 0?(l[u]=void 0,c++):(l[u]=qc(s[u],e[u]),l[u]===s[u]&&s[u]!==void 0&&c++)}return a===i&&c===a?s:l}return e}function Pi(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function La(s){if(!Ti(s))return!1;const e=s.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Ti(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function Ti(s){return Object.prototype.toString.call(s)==="[object Object]"}function lx(s){return new Promise(e=>{setTimeout(e,s)})}function cx(s,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(s,e):t.structuralSharing!==!1?qc(s,e):e}function dx(s,e,t=0){const r=[...s,e];return t&&r.length>t?r.slice(1):r}function ux(s,e,t=0){const r=[e,...s];return t&&r.length>t?r.slice(0,-1):r}var Po=Symbol();function Wc(s,e){return!s.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!s.queryFn||s.queryFn===Po?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var hs,It,Ls,Zi,hx=(Zi=class extends Ln{constructor(){super();ie(this,hs);ie(this,It);ie(this,Ls);X(this,Ls,e=>{if(!$n&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){E(this,It)||this.setEventListener(E(this,Ls))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,It))==null||e.call(this),X(this,It,void 0))}setEventListener(e){var t;X(this,Ls,e),(t=E(this,It))==null||t.call(this),X(this,It,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){E(this,hs)!==e&&(X(this,hs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof E(this,hs)=="boolean"?E(this,hs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},hs=new WeakMap,It=new WeakMap,Ls=new WeakMap,Zi),Gc=new hx,$s,Lt,Fs,el,fx=(el=class extends Ln{constructor(){super();ie(this,$s,!0);ie(this,Lt);ie(this,Fs);X(this,Fs,e=>{if(!$n&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){E(this,Lt)||this.setEventListener(E(this,Fs))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,Lt))==null||e.call(this),X(this,Lt,void 0))}setEventListener(e){var t;X(this,Fs,e),(t=E(this,Lt))==null||t.call(this),X(this,Lt,e(this.setOnline.bind(this)))}setOnline(e){E(this,$s)!==e&&(X(this,$s,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return E(this,$s)}},$s=new WeakMap,Lt=new WeakMap,Fs=new WeakMap,el),gn=new fx;function mx(){let s,e;const t=new Promise((a,o)=>{s=a,e=o});t.status="pending",t.catch(()=>{});function r(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{r({status:"fulfilled",value:a}),s(a)},t.reject=a=>{r({status:"rejected",reason:a}),e(a)},t}function px(s){return Math.min(1e3*2**s,3e4)}function Yc(s){return(s??"online")==="online"?gn.isOnline():!0}var Kc=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function fa(s){return s instanceof Kc}function Jc(s){let e=!1,t=0,r=!1,a;const o=mx(),i=p=>{var x;r||(h(new Kc(p)),(x=s.abort)==null||x.call(s))},l=()=>{e=!0},c=()=>{e=!1},d=()=>Gc.isFocused()&&(s.networkMode==="always"||gn.isOnline())&&s.canRun(),u=()=>Yc(s.networkMode)&&s.canRun(),m=p=>{var x;r||(r=!0,(x=s.onSuccess)==null||x.call(s,p),a==null||a(),o.resolve(p))},h=p=>{var x;r||(r=!0,(x=s.onError)==null||x.call(s,p),a==null||a(),o.reject(p))},g=()=>new Promise(p=>{var x;a=b=>{(r||d())&&p(b)},(x=s.onPause)==null||x.call(s)}).then(()=>{var p;a=void 0,r||(p=s.onContinue)==null||p.call(s)}),v=()=>{if(r)return;let p;const x=t===0?s.initialPromise:void 0;try{p=x??s.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(m).catch(b=>{var _;if(r)return;const y=s.retry??($n?0:3),w=s.retryDelay??px,S=typeof w=="function"?w(t,b):w,j=y===!0||typeof y=="number"&&t<y||typeof y=="function"&&y(t,b);if(e||!j){h(b);return}t++,(_=s.onFail)==null||_.call(s,t,b),lx(S).then(()=>d()?void 0:g()).then(()=>{e?h(b):v()})})};return{promise:o,cancel:i,continue:()=>(a==null||a(),o),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?v():g().then(v),o)}}function gx(){let s=[],e=0,t=l=>{l()},r=l=>{l()},a=l=>setTimeout(l,0);const o=l=>{e?s.push(l):a(()=>{t(l)})},i=()=>{const l=s;s=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{t(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Re=gx(),fs,tl,Xc=(tl=class{constructor(){ie(this,fs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ax(this.gcTime)&&X(this,fs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??($n?1/0:5*60*1e3))}clearGcTimeout(){E(this,fs)&&(clearTimeout(E(this,fs)),X(this,fs,void 0))}},fs=new WeakMap,tl),Us,zs,Ge,Ce,Tr,ms,Ze,gt,sl,vx=(sl=class extends Xc{constructor(e){super();ie(this,Ze);ie(this,Us);ie(this,zs);ie(this,Ge);ie(this,Ce);ie(this,Tr);ie(this,ms);X(this,ms,!1),X(this,Tr,e.defaultOptions),this.setOptions(e.options),this.observers=[],X(this,Ge,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,X(this,Us,yx(this.options)),this.state=e.state??E(this,Us),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=E(this,Ce))==null?void 0:e.promise}setOptions(e){this.options={...E(this,Tr),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Ge).remove(this)}setData(e,t){const r=cx(this.state.data,e,this.options);return Ee(this,Ze,gt).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){Ee(this,Ze,gt).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,a;const t=(r=E(this,Ce))==null?void 0:r.promise;return(a=E(this,Ce))==null||a.cancel(e),t?t.then(Qe).catch(Qe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Us))}isActive(){return this.observers.some(e=>ix(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Po||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!ox(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=E(this,Ce))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=E(this,Ce))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),E(this,Ge).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(E(this,Ce)&&(E(this,ms)?E(this,Ce).cancel({revert:!0}):E(this,Ce).cancelRetry()),this.scheduleGc()),E(this,Ge).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ee(this,Ze,gt).call(this,{type:"invalidate"})}fetch(e,t){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(E(this,Ce))return E(this,Ce).continueRetry(),E(this,Ce).promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(X(this,ms,!0),r.signal)})},o=()=>{const m=Wc(this.options,t),h={queryKey:this.queryKey,meta:this.meta};return a(h),X(this,ms,!1),this.options.persister?this.options.persister(m,h,this):m(h)},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(i),(c=this.options.behavior)==null||c.onFetch(i,this),X(this,zs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&Ee(this,Ze,gt).call(this,{type:"fetch",meta:(u=i.fetchOptions)==null?void 0:u.meta});const l=m=>{var h,g,v,p;fa(m)&&m.silent||Ee(this,Ze,gt).call(this,{type:"error",error:m}),fa(m)||((g=(h=E(this,Ge).config).onError)==null||g.call(h,m,this),(p=(v=E(this,Ge).config).onSettled)==null||p.call(v,this.state.data,m,this)),this.scheduleGc()};return X(this,Ce,Jc({initialPromise:t==null?void 0:t.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var h,g,v,p;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(x){l(x);return}(g=(h=E(this,Ge).config).onSuccess)==null||g.call(h,m,this),(p=(v=E(this,Ge).config).onSettled)==null||p.call(v,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,h)=>{Ee(this,Ze,gt).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{Ee(this,Ze,gt).call(this,{type:"pause"})},onContinue:()=>{Ee(this,Ze,gt).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),E(this,Ce).start()}},Us=new WeakMap,zs=new WeakMap,Ge=new WeakMap,Ce=new WeakMap,Tr=new WeakMap,ms=new WeakMap,Ze=new WeakSet,gt=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...xx(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return fa(a)&&a.revert&&E(this,zs)?{...E(this,zs),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Re.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),E(this,Ge).notify({query:this,type:"updated",action:e})})},sl);function xx(s,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Yc(e.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function yx(s){const e=typeof s.initialData=="function"?s.initialData():s.initialData,t=e!==void 0,r=t?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var lt,rl,wx=(rl=class extends Ln{constructor(e={}){super();ie(this,lt);this.config=e,X(this,lt,new Map)}build(e,t,r){const a=t.queryKey,o=t.queryHash??Co(a,t);let i=this.get(o);return i||(i=new vx({cache:this,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(i)),i}add(e){E(this,lt).has(e.queryHash)||(E(this,lt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=E(this,lt).get(e.queryHash);t&&(e.destroy(),t===e&&E(this,lt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Re.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return E(this,lt).get(e)}getAll(){return[...E(this,lt).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Ei(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>Ei(e,r)):t}notify(e){Re.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Re.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Re.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},lt=new WeakMap,rl),ct,Ae,ps,dt,Tt,nl,bx=(nl=class extends Xc{constructor(e){super();ie(this,dt);ie(this,ct);ie(this,Ae);ie(this,ps);this.mutationId=e.mutationId,X(this,Ae,e.mutationCache),X(this,ct,[]),this.state=e.state||jx(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){E(this,ct).includes(e)||(E(this,ct).push(e),this.clearGcTimeout(),E(this,Ae).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){X(this,ct,E(this,ct).filter(t=>t!==e)),this.scheduleGc(),E(this,Ae).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){E(this,ct).length||(this.state.status==="pending"?this.scheduleGc():E(this,Ae).remove(this))}continue(){var e;return((e=E(this,ps))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,i,l,c,d,u,m,h,g,v,p,x,b,y,w,S,j,_,k;X(this,ps,Jc({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,C)=>{Ee(this,dt,Tt).call(this,{type:"failed",failureCount:N,error:C})},onPause:()=>{Ee(this,dt,Tt).call(this,{type:"pause"})},onContinue:()=>{Ee(this,dt,Tt).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,Ae).canRun(this)}));const t=this.state.status==="pending",r=!E(this,ps).canStart();try{if(!t){Ee(this,dt,Tt).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(a=E(this,Ae).config).onMutate)==null?void 0:o.call(a,e,this));const C=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,e));C!==this.state.context&&Ee(this,dt,Tt).call(this,{type:"pending",context:C,variables:e,isPaused:r})}const N=await E(this,ps).start();return await((d=(c=E(this,Ae).config).onSuccess)==null?void 0:d.call(c,N,e,this.state.context,this)),await((m=(u=this.options).onSuccess)==null?void 0:m.call(u,N,e,this.state.context)),await((g=(h=E(this,Ae).config).onSettled)==null?void 0:g.call(h,N,null,this.state.variables,this.state.context,this)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,N,null,e,this.state.context)),Ee(this,dt,Tt).call(this,{type:"success",data:N}),N}catch(N){try{throw await((b=(x=E(this,Ae).config).onError)==null?void 0:b.call(x,N,e,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,N,e,this.state.context)),await((j=(S=E(this,Ae).config).onSettled)==null?void 0:j.call(S,void 0,N,this.state.variables,this.state.context,this)),await((k=(_=this.options).onSettled)==null?void 0:k.call(_,void 0,N,e,this.state.context)),N}finally{Ee(this,dt,Tt).call(this,{type:"error",error:N})}}finally{E(this,Ae).runNext(this)}}},ct=new WeakMap,Ae=new WeakMap,ps=new WeakMap,dt=new WeakSet,Tt=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Re.batch(()=>{E(this,ct).forEach(r=>{r.onMutationUpdate(e)}),E(this,Ae).notify({mutation:this,type:"updated",action:e})})},nl);function jx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ue,Ar,al,Sx=(al=class extends Ln{constructor(e={}){super();ie(this,Ue);ie(this,Ar);this.config=e,X(this,Ue,new Map),X(this,Ar,Date.now())}build(e,t,r){const a=new bx({mutationCache:this,mutationId:++Hr(this,Ar)._,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){const t=Yr(e),r=E(this,Ue).get(t)??[];r.push(e),E(this,Ue).set(t,r),this.notify({type:"added",mutation:e})}remove(e){var r;const t=Yr(e);if(E(this,Ue).has(t)){const a=(r=E(this,Ue).get(t))==null?void 0:r.filter(o=>o!==e);a&&(a.length===0?E(this,Ue).delete(t):E(this,Ue).set(t,a))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const t=(r=E(this,Ue).get(Yr(e)))==null?void 0:r.find(a=>a.state.status==="pending");return!t||t===e}runNext(e){var r;const t=(r=E(this,Ue).get(Yr(e)))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){Re.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...E(this,Ue).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Ci(t,r))}findAll(e={}){return this.getAll().filter(t=>Ci(e,t))}notify(e){Re.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Re.batch(()=>Promise.all(e.map(t=>t.continue().catch(Qe))))}},Ue=new WeakMap,Ar=new WeakMap,al);function Yr(s){var e;return((e=s.options.scope)==null?void 0:e.id)??String(s.mutationId)}function Ai(s){return{onFetch:(e,t)=>{var u,m,h,g,v;const r=e.options,a=(h=(m=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,o=((g=e.state.data)==null?void 0:g.pages)||[],i=((v=e.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},b=Wc(e.options,e.fetchOptions),y=async(w,S,j)=>{if(p)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const _={queryKey:e.queryKey,pageParam:S,direction:j?"backward":"forward",meta:e.options.meta};x(_);const k=await b(_),{maxPages:N}=e.options,C=j?ux:dx;return{pages:C(w.pages,k,N),pageParams:C(w.pageParams,S,N)}};if(a&&o.length){const w=a==="backward",S=w?_x:Ri,j={pages:o,pageParams:i},_=S(r,j);l=await y(j,_,w)}else{const w=s??o.length;do{const S=c===0?i[0]??r.initialPageParam:Ri(r,l);if(c>0&&S==null)break;l=await y(l,S),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var p,x;return(x=(p=e.options).persister)==null?void 0:x.call(p,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=d}}}function Ri(s,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?s.getNextPageParam(e[r],e,t[r],t):void 0}function _x(s,{pages:e,pageParams:t}){var r;return e.length>0?(r=s.getPreviousPageParam)==null?void 0:r.call(s,e[0],e,t[0],t):void 0}var ye,$t,Ft,Bs,Hs,Ut,Vs,qs,ol,Nx=(ol=class{constructor(s={}){ie(this,ye);ie(this,$t);ie(this,Ft);ie(this,Bs);ie(this,Hs);ie(this,Ut);ie(this,Vs);ie(this,qs);X(this,ye,s.queryCache||new wx),X(this,$t,s.mutationCache||new Sx),X(this,Ft,s.defaultOptions||{}),X(this,Bs,new Map),X(this,Hs,new Map),X(this,Ut,0)}mount(){Hr(this,Ut)._++,E(this,Ut)===1&&(X(this,Vs,Gc.subscribe(async s=>{s&&(await this.resumePausedMutations(),E(this,ye).onFocus())})),X(this,qs,gn.subscribe(async s=>{s&&(await this.resumePausedMutations(),E(this,ye).onOnline())})))}unmount(){var s,e;Hr(this,Ut)._--,E(this,Ut)===0&&((s=E(this,Vs))==null||s.call(this),X(this,Vs,void 0),(e=E(this,qs))==null||e.call(this),X(this,qs,void 0))}isFetching(s){return E(this,ye).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return E(this,$t).findAll({...s,status:"pending"}).length}getQueryData(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=E(this,ye).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(s){const e=this.getQueryData(s.queryKey);if(e===void 0)return this.fetchQuery(s);{const t=this.defaultQueryOptions(s),r=E(this,ye).build(this,t);return s.revalidateIfStale&&r.isStaleByTime(ki(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(s){return E(this,ye).findAll(s).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(s,e,t){const r=this.defaultQueryOptions({queryKey:s}),a=E(this,ye).get(r.queryHash),o=a==null?void 0:a.state.data,i=nx(e,o);if(i!==void 0)return E(this,ye).build(this,r).setData(i,{...t,manual:!0})}setQueriesData(s,e,t){return Re.batch(()=>E(this,ye).findAll(s).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=E(this,ye).get(e.queryHash))==null?void 0:t.state}removeQueries(s){const e=E(this,ye);Re.batch(()=>{e.findAll(s).forEach(t=>{e.remove(t)})})}resetQueries(s,e){const t=E(this,ye),r={type:"active",...s};return Re.batch(()=>(t.findAll(s).forEach(a=>{a.reset()}),this.refetchQueries(r,e)))}cancelQueries(s={},e={}){const t={revert:!0,...e},r=Re.batch(()=>E(this,ye).findAll(s).map(a=>a.cancel(t)));return Promise.all(r).then(Qe).catch(Qe)}invalidateQueries(s={},e={}){return Re.batch(()=>{if(E(this,ye).findAll(s).forEach(r=>{r.invalidate()}),s.refetchType==="none")return Promise.resolve();const t={...s,type:s.refetchType??s.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(s={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Re.batch(()=>E(this,ye).findAll(s).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,t);return t.throwOnError||(o=o.catch(Qe)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Qe)}fetchQuery(s){const e=this.defaultQueryOptions(s);e.retry===void 0&&(e.retry=!1);const t=E(this,ye).build(this,e);return t.isStaleByTime(ki(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(Qe).catch(Qe)}fetchInfiniteQuery(s){return s.behavior=Ai(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(Qe).catch(Qe)}ensureInfiniteQueryData(s){return s.behavior=Ai(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return gn.isOnline()?E(this,$t).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,ye)}getMutationCache(){return E(this,$t)}getDefaultOptions(){return E(this,Ft)}setDefaultOptions(s){X(this,Ft,s)}setQueryDefaults(s,e){E(this,Bs).set(_r(s),{queryKey:s,defaultOptions:e})}getQueryDefaults(s){const e=[...E(this,Bs).values()];let t={};return e.forEach(r=>{Nr(s,r.queryKey)&&(t={...t,...r.defaultOptions})}),t}setMutationDefaults(s,e){E(this,Hs).set(_r(s),{mutationKey:s,defaultOptions:e})}getMutationDefaults(s){const e=[...E(this,Hs).values()];let t={};return e.forEach(r=>{Nr(s,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(s){if(s._defaulted)return s;const e={...E(this,Ft).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return e.queryHash||(e.queryHash=Co(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Po&&(e.enabled=!1),e}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...E(this,Ft).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){E(this,ye).clear(),E(this,$t).clear()}},ye=new WeakMap,$t=new WeakMap,Ft=new WeakMap,Bs=new WeakMap,Hs=new WeakMap,Ut=new WeakMap,Vs=new WeakMap,qs=new WeakMap,ol),kx=f.createContext(void 0),Ex=({client:s,children:e})=>(f.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),n.jsx(kx.Provider,{value:s,children:e}));const Cx="modulepreload",Px=function(s){return"/"+s},Oi={},Ks=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(t.map(c=>{if(c=Px(c),c in Oi)return;Oi[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Cx,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((h,g)=>{m.addEventListener("load",h),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},Tx=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Ks(async()=>{const{default:r}=await Promise.resolve().then(()=>rr);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class To extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Ax extends To{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Rx extends To{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ox extends To{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $a;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})($a||($a={}));var Dx=function(s,e,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function l(u){try{d(r.next(u))}catch(m){i(m)}}function c(u){try{d(r.throw(u))}catch(m){i(m)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};class Mx{constructor(e,{headers:t={},customFetch:r,region:a=$a.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=Tx(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return Dx(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:i}=t;let l={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(v=>{throw new Ax(v)}),m=u.headers.get("x-relay-error");if(m&&m==="true")throw new Rx(u);if(!u.ok)throw new Ox(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield u.json():h==="application/octet-stream"?g=yield u.blob():h==="text/event-stream"?g=u:h==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(a){return{data:null,error:a}}})}}var Me={},Ao={},Fn={},Lr={},Un={},zn={},Ix=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Js=Ix();const Lx=Js.fetch,Qc=Js.fetch.bind(Js),Zc=Js.Headers,$x=Js.Request,Fx=Js.Response,rr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zc,Request:$x,Response:Fx,default:Qc,fetch:Lx},Symbol.toStringTag,{value:"Module"})),Ux=lf(rr);var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});let zx=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Bn.default=zx;var ed=Ye&&Ye.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(zn,"__esModule",{value:!0});const Bx=ed(Ux),Hx=ed(Bn);let Vx=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Bx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let d=null,u=null,m=null,h=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const b=await o.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const p=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),x=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&x&&x.length>1&&(m=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,m=null,h=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const p=await o.text();try{d=JSON.parse(p),Array.isArray(d)&&o.status===404&&(u=[],d=null,h=200,g="OK")}catch{o.status===404&&p===""?(h=204,g="No Content"):d={message:p}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,h=200,g="OK"),d&&this.shouldThrowOnError)throw new Hx.default(d)}return{error:d,data:u,count:m,status:h,statusText:g}});return this.shouldThrowOnError||(a=a.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}};zn.default=Vx;var qx=Ye&&Ye.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Un,"__esModule",{value:!0});const Wx=qx(zn);let Gx=class extends Wx.default{select(e){let t=!1;const r=(e??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:a,referencedTable:o=a}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:a=r}={}){const o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,r?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Un.default=Gx;var Yx=Ye&&Ye.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Lr,"__esModule",{value:!0});const Kx=Yx(Un);let Jx=class extends Kx.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};Lr.default=Jx;var Xx=Ye&&Ye.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Fn,"__esModule",{value:!0});const ur=Xx(Lr);let Qx=class{constructor(e,{headers:t={},schema:r,fetch:a}){this.url=e,this.headers=t,this.schema=r,this.fetch=a}select(e,{head:t=!1,count:r}={}){const a=t?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new ur.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const a="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const i=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ur.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:a,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new ur.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),t&&a.push(`count=${t}`),this.headers.Prefer=a.join(","),new ur.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ur.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Fn.default=Qx;var Hn={},Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.version=void 0;Vn.version="0.0.0-automated";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.DEFAULT_HEADERS=void 0;const Zx=Vn;Hn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Zx.version}`};var td=Ye&&Ye.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ao,"__esModule",{value:!0});const ey=td(Fn),ty=td(Lr),sy=Hn;let ry=class sd{constructor(e,{headers:t={},schema:r,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},sy.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=a}from(e){const t=new URL(`${this.url}/${e}`);return new ey.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new sd(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:a=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${e}`);let c;r||a?(i=r?"HEAD":"GET",Object.entries(t).filter(([u,m])=>m!==void 0).map(([u,m])=>[u,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([u,m])=>{l.searchParams.append(u,m)})):(i="POST",c=t);const d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new ty.default({method:i,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ao.default=ry;var nr=Ye&&Ye.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Me,"__esModule",{value:!0});Me.PostgrestError=Me.PostgrestBuilder=Me.PostgrestTransformBuilder=Me.PostgrestFilterBuilder=Me.PostgrestQueryBuilder=Me.PostgrestClient=void 0;const rd=nr(Ao);Me.PostgrestClient=rd.default;const nd=nr(Fn);Me.PostgrestQueryBuilder=nd.default;const ad=nr(Lr);Me.PostgrestFilterBuilder=ad.default;const od=nr(Un);Me.PostgrestTransformBuilder=od.default;const id=nr(zn);Me.PostgrestBuilder=id.default;const ld=nr(Bn);Me.PostgrestError=ld.default;var ny=Me.default={PostgrestClient:rd.default,PostgrestQueryBuilder:nd.default,PostgrestFilterBuilder:ad.default,PostgrestTransformBuilder:od.default,PostgrestBuilder:id.default,PostgrestError:ld.default};const{PostgrestClient:ay,PostgrestQueryBuilder:Wj,PostgrestFilterBuilder:Gj,PostgrestTransformBuilder:Yj,PostgrestBuilder:Kj,PostgrestError:Jj}=ny,oy="2.11.2",iy={"X-Client-Info":`realtime-js/${oy}`},ly="1.0.0",cd=1e4,cy=1e3;var Ms;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ms||(Ms={}));var Fe;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Fe||(Fe={}));var et;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(et||(et={}));var Fa;(function(s){s.websocket="websocket"})(Fa||(Fa={}));var us;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(us||(us={}));class dy{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const a=t.getUint8(1),o=t.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(e.slice(i,i+a));i=i+a;const c=r.decode(e.slice(i,i+o));i=i+o;const d=JSON.parse(r.decode(e.slice(i,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class dd{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fe;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(fe||(fe={}));const Di=(s,e,t={})=>{var r;const a=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,i)=>(o[i]=uy(i,s,e,a),o),{})},uy=(s,e,t,r)=>{const a=e.find(l=>l.name===s),o=a==null?void 0:a.type,i=t[s];return o&&!r.includes(o)?ud(o,i):Ua(i)},ud=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return py(e,t)}switch(s){case fe.bool:return hy(e);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return fy(e);case fe.json:case fe.jsonb:return my(e);case fe.timestamp:return gy(e);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return Ua(e);default:return Ua(e)}},Ua=s=>s,hy=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},fy=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},my=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},py=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,r=s[t];if(s[0]==="{"&&r==="}"){let o;const i=s.slice(1,t);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>ud(e,l))}return s},gy=s=>typeof s=="string"?s.replace(" ","T"):s,hd=s=>{let e=s;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ma{constructor(e,t,r={},a=cd){this.channel=e,this.event=t,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Mi;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Mi||(Mi={}));class pr{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pr.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=pr.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=pr.syncDiff(this.state,a,o,i),l())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,a){const o=this.cloneDeep(e),i=this.transformState(t),l={},c={};return this.map(o,(d,u)=>{i[d]||(c[d]=u)}),this.map(i,(d,u)=>{const m=o[d];if(m){const h=u.map(x=>x.presence_ref),g=m.map(x=>x.presence_ref),v=u.filter(x=>g.indexOf(x.presence_ref)<0),p=m.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(l[d]=v),p.length>0&&(c[d]=p)}else l[d]=u}),this.syncDiff(o,{joins:l,leaves:c},r,a)}static syncDiff(e,t,r,a){const{joins:o,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(o,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const m=e[l].map(g=>g.presence_ref),h=u.filter(g=>m.indexOf(g.presence_ref)<0);e[l].unshift(...h)}r(l,u,c)}),this.map(i,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),e[l]=d,a(l,d,c),d.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const a=e[r];return"metas"in a?t[r]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ii;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Ii||(Ii={}));var Li;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Li||(Li={}));var xt;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(xt||(xt={}));class Ro{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ma(this,et.join,this.params,this.timeout),this.rejoinTimer=new dd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new pr(this),this.broadcastEndpointURL=hd(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(u=>e==null?void 0:e(xt.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(xt.CLOSED));const c={},d={broadcast:o,presence:i,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var m;if(this.socket.setAuth(),u===void 0){e==null||e(xt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(m=h==null?void 0:h.length)!==null&&m!==void 0?m:0,v=[];for(let p=0;p<g;p++){const x=h[p],{filter:{event:b,schema:y,table:w,filter:S}}=x,j=u&&u[p];if(j&&j.event===b&&j.schema===y&&j.table===w&&j.filter===S)v.push(Object.assign(Object.assign({},x),{id:j.id}));else{this.unsubscribe(),e==null||e(xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(xt.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fe.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const a=new ma(this,et.leave,{},e);a.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const a=new AbortController,o=setTimeout(()=>a.abort(),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(o),i}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ma(this,e,t,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var a,o;const i=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=et;if(r&&[l,c,d,u].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(g=>{var v,p,x;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(p=g.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(g=>g.callback(h,r)):(o=this.bindings[i])===null||o===void 0||o.filter(g=>{var v,p,x,b,y,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const S=g.id,j=(v=g.filter)===null||v===void 0?void 0:v.event;return S&&((p=t.ids)===null||p===void 0?void 0:p.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=t.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(y=(b=g==null?void 0:g.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((w=t==null?void 0:t.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:p,table:x,commit_timestamp:b,type:y,errors:w}=v;h=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(v))}g.callback(h,r)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const a=e.toLocaleLowerCase(),o={type:a,filter:t,callback:r};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Ro.isEqual(a.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(et.close,{},e)}_onError(e){this._on(et.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Di(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Di(e.columns,e.old_record)),t}}const vy=()=>{},xy=typeof WebSocket<"u",yy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wy{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=iy,this.params={},this.timeout=cd,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=vy,this.conn=null,this.sendBuffer=[],this.serializer=new dy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>Ks(async()=>{const{default:c}=await Promise.resolve().then(()=>rr);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${e}/${Fa.websocket}`,this.httpEndpoint=hd(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(o,i)=>i(JSON.stringify(o)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new dd(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(xy){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new by(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ks(async()=>{const{default:e}=await import("./browser-CjxdaF23.js").then(t=>t.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ly}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ms.connecting:return us.Connecting;case Ms.open:return us.Open;case Ms.closing:return us.Closing;default:return us.Closed}}isConnected(){return this.connectionState()===us.Open}channel(e,t={config:{}}){const r=new Ro(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:a,ref:o}=e,i=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${t} ${r} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(a=>{t&&a.updateJoinPayload({access_token:t}),a.joinedOnce&&a._isJoined()&&a._push(et.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(cy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:a,payload:o,ref:i}=t;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${a} ${i&&"("+i+")"||""}`,o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(a,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(et.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${r}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([yy],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class by{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ms.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Oo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Se(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class jy extends Oo{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class za extends Oo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Sy=function(s,e,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function l(u){try{d(r.next(u))}catch(m){i(m)}}function c(u){try{d(r.throw(u))}catch(m){i(m)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};const fd=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Ks(async()=>{const{default:r}=await Promise.resolve().then(()=>rr);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},_y=()=>Sy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ks(()=>Promise.resolve().then(()=>rr),void 0)).Response:Response}),Ba=s=>{if(Array.isArray(s))return s.map(t=>Ba(t));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([t,r])=>{const a=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Ba(r)}),e};var ws=function(s,e,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function l(u){try{d(r.next(u))}catch(m){i(m)}}function c(u){try{d(r.throw(u))}catch(m){i(m)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};const pa=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Ny=(s,e,t)=>ws(void 0,void 0,void 0,function*(){const r=yield _y();s instanceof r&&!(t!=null&&t.noResolveJson)?s.json().then(a=>{e(new jy(pa(a),s.status||500))}).catch(a=>{e(new za(pa(a),a))}):e(new za(pa(s),s))}),ky=(s,e,t,r)=>{const a={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),t))};function $r(s,e,t,r,a,o){return ws(this,void 0,void 0,function*(){return new Promise((i,l)=>{s(t,ky(e,r,a,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Ny(c,l,r))})})}function vn(s,e,t,r){return ws(this,void 0,void 0,function*(){return $r(s,"GET",e,t,r)})}function Ot(s,e,t,r,a){return ws(this,void 0,void 0,function*(){return $r(s,"POST",e,r,a,t)})}function Ey(s,e,t,r,a){return ws(this,void 0,void 0,function*(){return $r(s,"PUT",e,r,a,t)})}function Cy(s,e,t,r){return ws(this,void 0,void 0,function*(){return $r(s,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function md(s,e,t,r,a){return ws(this,void 0,void 0,function*(){return $r(s,"DELETE",e,r,a,t)})}var De=function(s,e,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function l(u){try{d(r.next(u))}catch(m){i(m)}}function c(u){try{d(r.throw(u))}catch(m){i(m)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};const Py={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$i={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ty{constructor(e,t={},r,a){this.url=e,this.headers=t,this.bucketId=r,this.fetch=fd(a)}uploadOrUpdate(e,t,r,a){return De(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},$i),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(t),u=this._getFinalPath(d),m=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield m.json();return m.ok?{data:{path:d,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(Se(o))return{data:null,error:o};throw o}})}upload(e,t,r){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,a){return De(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",t);try{let c;const d=Object.assign({upsert:$i.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const m=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),h=yield m.json();return m.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Se(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return De(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const o=yield Ot(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Oo("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}})}update(e,t,r){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return De(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Se(a))return{data:null,error:a};throw a}})}copy(e,t,r){return De(this,void 0,void 0,function*(){try{return{data:{path:(yield Ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Se(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,r){return De(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield Ot(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(Se(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,r){return De(this,void 0,void 0,function*(){try{const a=yield Ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(Se(a))return{data:null,error:a};throw a}})}download(e,t){return De(this,void 0,void 0,function*(){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield vn(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Se(l))return{data:null,error:l};throw l}})}info(e){return De(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield vn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Ba(r),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}})}exists(e){return De(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Cy(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Se(r)&&r instanceof za){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),a=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&a.push(o);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(e){return De(this,void 0,void 0,function*(){try{return{data:yield md(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Se(t))return{data:null,error:t};throw t}})}list(e,t,r){return De(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Py),t),{prefix:e||""});return{data:yield Ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(Se(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Ay="2.7.1",Ry={"X-Client-Info":`storage-js/${Ay}`};var Es=function(s,e,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function l(u){try{d(r.next(u))}catch(m){i(m)}}function c(u){try{d(r.throw(u))}catch(m){i(m)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};class Oy{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},Ry),t),this.fetch=fd(r)}listBuckets(){return Es(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Se(e))return{data:null,error:e};throw e}})}getBucket(e){return Es(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Se(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Es(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Es(this,void 0,void 0,function*(){try{return{data:yield Ey(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Es(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Se(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Es(this,void 0,void 0,function*(){try{return{data:yield md(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Se(t))return{data:null,error:t};throw t}})}}class Dy extends Oy{constructor(e,t={},r){super(e,t,r)}from(e){return new Ty(this.url,this.headers,e,this.fetch)}}const My="2.49.4";let hr="";typeof Deno<"u"?hr="deno":typeof document<"u"?hr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hr="react-native":hr="node";const Iy={"X-Client-Info":`supabase-js-${hr}/${My}`},Ly={headers:Iy},$y={schema:"public"},Fy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Uy={};var zy=function(s,e,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function l(u){try{d(r.next(u))}catch(m){i(m)}}function c(u){try{d(r.throw(u))}catch(m){i(m)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};const By=s=>{let e;return s?e=s:typeof fetch>"u"?e=Qc:e=fetch,(...t)=>e(...t)},Hy=()=>typeof Headers>"u"?Zc:Headers,Vy=(s,e,t)=>{const r=By(t),a=Hy();return(o,i)=>zy(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:s;let d=new a(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",s),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:d}))})};var qy=function(s,e,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function l(u){try{d(r.next(u))}catch(m){i(m)}}function c(u){try{d(r.throw(u))}catch(m){i(m)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};function Wy(s){return s.replace(/\/$/,"")}function Gy(s,e){const{db:t,auth:r,realtime:a,global:o}=s,{db:i,auth:l,realtime:c,global:d}=e,u={db:Object.assign(Object.assign({},i),t),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},d),o),accessToken:()=>qy(this,void 0,void 0,function*(){return""})};return s.accessToken?u.accessToken=s.accessToken:delete u.accessToken,u}const pd="2.69.1",Ts=30*1e3,Ha=3,ga=Ha*Ts,Yy="http://localhost:9999",Ky="supabase.auth.token",Jy={"X-Client-Info":`gotrue-js/${pd}`},Va="X-Supabase-Api-Version",gd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qy=6e5;class Do extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function J(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Zy extends Do{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function ew(s){return J(s)&&s.name==="AuthApiError"}class vd extends Do{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class rs extends Do{constructor(e,t,r,a){super(e,r,a),this.name=t,this.status=r}}class At extends rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tw(s){return J(s)&&s.name==="AuthSessionMissingError"}class va extends rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kr extends rs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jr extends rs{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sw(s){return J(s)&&s.name==="AuthImplicitGrantRedirectError"}class Fi extends rs{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qa extends rs{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function xa(s){return J(s)&&s.name==="AuthRetryableFetchError"}class Ui extends rs{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class gr extends rs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bi=` 	
\r=`.split(""),rw=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<Bi.length;e+=1)s[Bi[e].charCodeAt(0)]=-2;for(let e=0;e<zi.length;e+=1)s[zi[e].charCodeAt(0)]=e;return s})();function xd(s,e,t){const r=rw[s];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Hi(s){const e=[],t=i=>{e.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=i=>{ow(i,r,t)};for(let i=0;i<s.length;i+=1)xd(s.charCodeAt(i),a,o);return e.join("")}function nw(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function aw(s,e){for(let t=0;t<s.length;t+=1){let r=s.charCodeAt(t);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(s.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}nw(r,e)}}function ow(s,e,t){if(e.utf8seq===0){if(s<=127){t(s);return}for(let r=1;r<6;r+=1)if(!(s>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function iw(s){const e=[],t={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<s.length;a+=1)xd(s.charCodeAt(a),t,r);return new Uint8Array(e)}function lw(s){const e=[];return aw(s,t=>e.push(t)),new Uint8Array(e)}function cw(s){return Math.round(Date.now()/1e3)+s}function dw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const it=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},vr=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function uw(s){const e={},t=new URL(s);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return t.searchParams.forEach((r,a)=>{e[a]=r}),e}const yd=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Ks(async()=>{const{default:r}=await Promise.resolve().then(()=>rr);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},hw=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",wd=async(s,e,t)=>{await s.setItem(e,JSON.stringify(t))},Xr=async(s,e)=>{const t=await s.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Qr=async(s,e)=>{await s.removeItem(e)};class qn{constructor(){this.promise=new qn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}qn.promiseConstructor=Promise;function ya(s){const e=s.split(".");if(e.length!==3)throw new gr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Xy.test(e[r]))throw new gr("JWT not in base64url format");return{header:JSON.parse(Hi(e[0])),payload:JSON.parse(Hi(e[1])),signature:iw(e[2]),raw:{header:e[0],payload:e[1]}}}async function fw(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function mw(s,e){return new Promise((r,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await s(o);if(!e(o,null,i)){r(i);return}}catch(i){if(!e(o,i)){a(i);return}}})()})}function pw(s){return("0"+s.toString(16)).substr(-2)}function gw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let a="";for(let o=0;o<56;o++)a+=t.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,pw).join("")}async function vw(s){const t=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(r);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function xw(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const t=await vw(s);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cs(s,e,t=!1){const r=gw();let a=r;t&&(a+="/PASSWORD_RECOVERY"),await wd(s,`${e}-code-verifier`,a);const o=await xw(r);return[o,r===o?"plain":"s256"]}const yw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ww(s){const e=s.headers.get(Va);if(!e||!e.match(yw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function bw(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function jw(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Sw=function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(s);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(s,r[a])&&(t[r[a]]=s[r[a]]);return t};const cs=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),_w=[502,503,504];async function Vi(s){var e;if(!hw(s))throw new qa(cs(s),0);if(_w.includes(s.status))throw new qa(cs(s),s.status);let t;try{t=await s.json()}catch(o){throw new vd(cs(o),o)}let r;const a=ww(s);if(a&&a.getTime()>=gd["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Ui(cs(t),s.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new At}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Ui(cs(t),s.status,t.weak_password.reasons);throw new Zy(cs(t),s.status||500,r)}const Nw=(s,e,t,r)=>{const a={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),t))};async function Q(s,e,t,r){var a;const o=Object.assign({},r==null?void 0:r.headers);o[Va]||(o[Va]=gd["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await kw(s,e,t+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function kw(s,e,t,r,a,o){const i=Nw(e,r,a,o);let l;try{l=await s(t,Object.assign({},i))}catch(c){throw console.error(c),new qa(cs(c),0)}if(l.ok||await Vi(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Vi(c)}}function Rt(s){var e;let t=null;Tw(s)&&(t=Object.assign({},s),s.expires_at||(t.expires_at=cw(s.expires_in)));const r=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:t,user:r},error:null}}function qi(s){const e=Rt(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=s.weak_password),e}function Mt(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function Ew(s){return{data:s,error:null}}function Cw(s){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:a,verification_type:o}=s,i=Sw(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:r,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Pw(s){return s}function Tw(s){return s.access_token&&s.refresh_token&&s.expires_in}var Aw=function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(s);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(s,r[a])&&(t[r[a]]=s[r[a]]);return t};class Rw{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=yd(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Mt})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Aw(e,["options"]),a=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Cw,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(J(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Mt})}catch(t){if(J(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,a,o,i,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Pw});if(u.error)throw u.error;const m=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);d[`${x}Page`]=p}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(J(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Mt})}catch(t){if(J(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Mt})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Mt})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await Q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:r}}catch(t){if(J(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}}const Ow={getItem:s=>vr()?globalThis.localStorage.getItem(s):null,setItem:(s,e)=>{vr()&&globalThis.localStorage.setItem(s,e)},removeItem:s=>{vr()&&globalThis.localStorage.removeItem(s)}};function Wi(s={}){return{getItem:e=>s[e]||null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]}}}function Dw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ps={debug:!!(globalThis&&vr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bd extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Mw extends bd{}async function Iw(s,e,t){Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,a.name);try{return await t()}finally{Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,a.name)}}else{if(e===0)throw Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Mw(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Ps.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Dw();const Lw={url:Yy,storageKey:Ky,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gi(s,e,t){return await t()}class kr{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kr.nextInstanceID,kr.nextInstanceID+=1,this.instanceID>0&&it()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Lw),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Rw({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=yd(a.fetch),this.lock=a.lock||Gi,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:it()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Iw:this.lock=Gi,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:vr()?this.storage=Ow:(this.memoryStorage={},this.storage=Wi(this.memoryStorage)):(this.memoryStorage={},this.storage=Wi(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pd}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=uw(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),it()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:o}=await this._getSessionFromURL(t,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),sw(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return J(t)?{error:t}:{error:new vd("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,a;try{const o=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Rt}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(J(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,r,a;try{let o;if("email"in e){const{email:u,password:m,options:h}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Cs(this.storage,this.storageKey)),o=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:m,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:Rt})}else if("phone"in e){const{phone:u,password:m,options:h}=e;o=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Rt})}else throw new Kr("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(J(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:i,options:l}=e;t=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qi})}else if("phone"in e){const{phone:o,password:i,options:l}=e;t=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qi})}else throw new Kr("You must provide either an email or phone number and a password");const{data:r,error:a}=t;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new va}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Xr(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(t??"").split("/");try{const{data:o,error:i}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Rt});if(await Qr(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new va}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:i})}catch(o){if(J(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:r,token:a,access_token:o,nonce:i}=e,l=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Rt}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new va}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,a,o,i;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Cs(this.storage,this.storageKey));const{error:m}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Kr("You must provide either an email or phone number.")}catch(l){if(J(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var t,r;try{let a,o;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Rt});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,d=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,r,a;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Cs(this.storage,this.storageKey)),await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Ew})}catch(o){if(J(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new At;const{error:a}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(J(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:o}=e,{error:i}=await Q(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:r,type:a,options:o}=e,{data:i,error:l}=await Q(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Kr("You must provide either an email or phone number and a type")}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Xr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ga:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Mt}):await this._useSession(async t=>{var r,a,o;const{data:i,error:l}=t;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Mt})})}catch(t){if(J(t))return tw(t)&&(await this._removeSession(),await Qr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:a,error:o}=r;if(o)throw o;if(!a.session)throw new At;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Cs(this.storage,this.storageKey));const{data:d,error:u}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Mt});if(u)throw u;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new At;const t=Date.now()/1e3;let r=t,a=!0,o=null;const{payload:i}=ya(e.access_token);if(i.exp&&(r=i.exp,a=r<=t),a){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(J(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:i,error:l}=t;if(l)throw l;e=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new At;const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!it())throw new Jr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Fi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jr("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fi("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:d}=e;if(!o||!l||!i||!d)throw new Jr("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(l);let h=u+m;c&&(h=parseInt(c));const g=h-u;g*1e3<=Ts&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${m}s`);const v=h-m;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,u);const{data:p,error:x}=await this._getUser(o);if(x)throw x;const b={provider_token:r,provider_refresh_token:a,access_token:o,expires_in:m,expires_at:h,refresh_token:i,token_type:d,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(r){if(J(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Xr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:a,error:o}=t;if(o)return{error:o};const i=(r=a.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,e);if(l&&!(ew(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Qr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=dw(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,a;try{const{data:{session:o},error:i}=t;if(i)throw i;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Cs(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(J(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:a}=await this._useSession(async o=>{var i,l,c,d,u;const{data:m,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return it()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(J(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,a;const{data:o,error:i}=t;if(i)throw i;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(J(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await mw(async a=>(a>0&&await fw(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rt})),(a,o)=>{const i=200*Math.pow(2,a);return o&&xa(o)&&Date.now()+i-r<Ts})}catch(r){if(this._debug(t,"error",r),J(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),it()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Xr(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ga;if(this._debug(t,`session has${a?"":" not"} expired with margin of ${ga}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),xa(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new qn;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new At;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(a,"error",o),J(o)){const i={session:null,error:o};return xa(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wd(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Qr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&it()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ts);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/Ts);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ts}ms, refresh threshold is ${Ha} ticks`),a<=Ha&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bd)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!it()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const a=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Cs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);a.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:a,error:o}=t;return o?{data:null,error:o}:await Q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(J(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,a;const{data:o,error:i}=t;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(J(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:a,error:o}=t;if(o)return{data:null,error:o};const{data:i,error:l}=await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(t){if(J(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:a,error:o}=t;return o?{data:null,error:o}:await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(J(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],a=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:a},error:o}=e;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ya(a.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(t=a.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(i=>i.kid===e);if(r||(r=this.jwks.keys.find(i=>i.kid===e),r&&this.jwks_cached_at+Qy>Date.now()))return r;const{data:a,error:o}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!a.keys||a.keys.length===0)throw new gr("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),r=a.keys.find(i=>i.kid===e),!r)throw new gr("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};r=g.session.access_token}const{header:a,payload:o,signature:i,raw:{header:l,payload:c}}=ya(r);if(bw(o.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:a,signature:i},error:null}}const d=jw(a.alg),u=await this.fetchJwk(a.kid,t),m=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,i,lw(`${l}.${c}`)))throw new gr("Invalid JWT signature");return{data:{claims:o,header:a,signature:i},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}}kr.nextInstanceID=0;const $w=kr;class Fw extends $w{constructor(e){super(e)}}var Uw=function(s,e,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function l(u){try{d(r.next(u))}catch(m){i(m)}}function c(u){try{d(r.throw(u))}catch(m){i(m)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};class zw{constructor(e,t,r){var a,o,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const l=Wy(e);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:$y,realtime:Uy,auth:Object.assign(Object.assign({},Fy),{storageKey:c}),global:Ly},u=Gy(r??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(m,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=Vy(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new ay(`${l}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Mx(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Dy(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Uw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:a,storageKey:o,flowType:i,lock:l,debug:c},d,u){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fw({url:this.authUrl,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:a,flowType:i,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new wy(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bw=(s,e,t)=>new zw(s,e,t),Hw="https://zhwisnseeutcmuqjtovh.supabase.co",Vw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpod2lzbnNlZXV0Y211cWp0b3ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQyMzcyOTYsImV4cCI6MjA1OTgxMzI5Nn0.9KnK-ivBDKBIalW1coA0DDvDB_I34hgIiloGnrs43RI",q=Bw(Hw,Vw),jd=f.createContext({user:null,session:null,profile:null,loading:!0,refreshProfile:async()=>{}}),qe=()=>f.useContext(jd),qw=({children:s})=>{const[e,t]=f.useState(null),[r,a]=f.useState(null),[o,i]=f.useState(null),[l,c]=f.useState(!0);f.useEffect(()=>{const{data:{subscription:h}}=q.auth.onAuthStateChange((v,p)=>{var x;console.log("Auth state changed:",v),a(p),t((p==null?void 0:p.user)??null),v==="SIGNED_IN"||v==="USER_UPDATED"?d((x=p==null?void 0:p.user)==null?void 0:x.id):v==="SIGNED_OUT"&&i(null)});return(async()=>{try{const{data:{session:v}}=await q.auth.getSession();a(v),t((v==null?void 0:v.user)??null),v!=null&&v.user&&await d(v.user.id)}catch(v){console.error("Error initializing auth:",v)}finally{c(!1)}})(),()=>{h.unsubscribe()}},[]);const d=async h=>{if(h)try{const{data:g,error:v}=await q.from("profiles").select("*").eq("id",h).single();if(v)throw v;i(g)}catch(g){console.error("Error fetching profile:",g)}},m={user:e,session:r,profile:o,loading:l,refreshProfile:async()=>{e&&await d(e.id)}};return n.jsx(jd.Provider,{value:m,children:s})},Wn=Qh,Fr=f.forwardRef(({className:s,...e},t)=>n.jsx(dl,{ref:t,className:L("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...e}));Fr.displayName=dl.displayName;const Ie=f.forwardRef(({className:s,...e},t)=>n.jsx(ul,{ref:t,className:L("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...e}));Ie.displayName=ul.displayName;const yt=f.forwardRef(({className:s,...e},t)=>n.jsx(hl,{ref:t,className:L("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...e}));yt.displayName=hl.displayName;const Mo=Nn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),I=f.forwardRef(({className:s,variant:e,size:t,asChild:r=!1,...a},o)=>{const i=r?fl:"button";return n.jsx(i,{className:L(Mo({variant:e,size:t,className:s})),ref:o,...a})});I.displayName="Button";const xs=pl,Ww=gl,Gw=ml,Sd=f.forwardRef(({className:s,...e},t)=>n.jsx(so,{ref:t,className:L("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...e}));Sd.displayName=so.displayName;const Xt=f.forwardRef(({className:s,children:e,...t},r)=>n.jsxs(Gw,{children:[n.jsx(Sd,{}),n.jsxs(ro,{ref:r,className:L("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t,children:[e,n.jsxs(no,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(En,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xt.displayName=ro.displayName;const Qt=({className:s,...e})=>n.jsx("div",{className:L("flex flex-col space-y-1.5 text-center sm:text-left",s),...e});Qt.displayName="DialogHeader";const Er=({className:s,...e})=>n.jsx("div",{className:L("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...e});Er.displayName="DialogFooter";const Zt=f.forwardRef(({className:s,...e},t)=>n.jsx(ao,{ref:t,className:L("text-lg font-semibold leading-none tracking-tight",s),...e}));Zt.displayName=ao.displayName;const Xs=f.forwardRef(({className:s,...e},t)=>n.jsx(oo,{ref:t,className:L("text-sm text-muted-foreground",s),...e}));Xs.displayName=oo.displayName;function Cr(s,[e,t]){return Math.min(t,Math.max(e,s))}function Yw(s,e){return f.useReducer((t,r)=>e[t][r]??t,s)}var Io="ScrollArea",[_d,Xj]=ht(Io),[Kw,Je]=_d(Io),Nd=f.forwardRef((s,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:a,scrollHideDelay:o=600,...i}=s,[l,c]=f.useState(null),[d,u]=f.useState(null),[m,h]=f.useState(null),[g,v]=f.useState(null),[p,x]=f.useState(null),[b,y]=f.useState(0),[w,S]=f.useState(0),[j,_]=f.useState(!1),[k,N]=f.useState(!1),C=te(e,A=>c(A)),P=jn(a);return n.jsx(Kw,{scope:t,type:r,dir:P,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:u,content:m,onContentChange:h,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:j,onScrollbarXEnabledChange:_,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:k,onScrollbarYEnabledChange:N,onCornerWidthChange:y,onCornerHeightChange:S,children:n.jsx(G.div,{dir:P,...i,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...s.style}})})});Nd.displayName=Io;var kd="ScrollAreaViewport",Ed=f.forwardRef((s,e)=>{const{__scopeScrollArea:t,children:r,asChild:a,nonce:o,...i}=s,l=Je(kd,t),c=f.useRef(null),d=te(e,c,l.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),n.jsx(G.div,{"data-radix-scroll-area-viewport":"",...i,asChild:a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...s.style},children:ab({asChild:a,children:r},u=>n.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});Ed.displayName=kd;var mt="ScrollAreaScrollbar",Lo=f.forwardRef((s,e)=>{const{forceMount:t,...r}=s,a=Je(mt,s.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=s.orientation==="horizontal";return f.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?n.jsx(Jw,{...r,ref:e,forceMount:t}):a.type==="scroll"?n.jsx(Xw,{...r,ref:e,forceMount:t}):a.type==="auto"?n.jsx(Cd,{...r,ref:e,forceMount:t}):a.type==="always"?n.jsx($o,{...r,ref:e}):null});Lo.displayName=mt;var Jw=f.forwardRef((s,e)=>{const{forceMount:t,...r}=s,a=Je(mt,s.__scopeScrollArea),[o,i]=f.useState(!1);return f.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(ss,{present:t||o,children:n.jsx(Cd,{"data-state":o?"visible":"hidden",...r,ref:e})})}),Xw=f.forwardRef((s,e)=>{const{forceMount:t,...r}=s,a=Je(mt,s.__scopeScrollArea),o=s.orientation==="horizontal",i=Yn(()=>c("SCROLL_END"),100),[l,c]=Yw("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),f.useEffect(()=>{const d=a.viewport,u=o?"scrollLeft":"scrollTop";if(d){let m=d[u];const h=()=>{const g=d[u];m!==g&&(c("SCROLL"),i()),m=g};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,o,c,i]),n.jsx(ss,{present:t||l!=="hidden",children:n.jsx($o,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:$(s.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:$(s.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Cd=f.forwardRef((s,e)=>{const t=Je(mt,s.__scopeScrollArea),{forceMount:r,...a}=s,[o,i]=f.useState(!1),l=s.orientation==="horizontal",c=Yn(()=>{if(t.viewport){const d=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;i(l?d:u)}},10);return Qs(t.viewport,c),Qs(t.content,c),n.jsx(ss,{present:r||o,children:n.jsx($o,{"data-state":o?"visible":"hidden",...a,ref:e})})}),$o=f.forwardRef((s,e)=>{const{orientation:t="vertical",...r}=s,a=Je(mt,s.__scopeScrollArea),o=f.useRef(null),i=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Od(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function m(h,g){return rb(h,i.current,l,g)}return t==="horizontal"?n.jsx(Qw,{...u,ref:e,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollLeft,g=Yi(h,l,a.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=m(h,a.dir))}}):t==="vertical"?n.jsx(Zw,{...u,ref:e,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollTop,g=Yi(h,l);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=m(h))}}):null}),Qw=f.forwardRef((s,e)=>{const{sizes:t,onSizesChange:r,...a}=s,o=Je(mt,s.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),d=te(e,c,o.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(Td,{"data-orientation":"horizontal",...a,ref:d,sizes:t,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Gn(t)+"px",...s.style},onThumbPointerDown:u=>s.onThumbPointerDown(u.x),onDragScroll:u=>s.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;s.onWheelScroll(h),Md(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:yn(i.paddingLeft),paddingEnd:yn(i.paddingRight)}})}})}),Zw=f.forwardRef((s,e)=>{const{sizes:t,onSizesChange:r,...a}=s,o=Je(mt,s.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),d=te(e,c,o.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(Td,{"data-orientation":"vertical",...a,ref:d,sizes:t,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Gn(t)+"px",...s.style},onThumbPointerDown:u=>s.onThumbPointerDown(u.y),onDragScroll:u=>s.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;s.onWheelScroll(h),Md(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:yn(i.paddingTop),paddingEnd:yn(i.paddingBottom)}})}})}),[eb,Pd]=_d(mt),Td=f.forwardRef((s,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...h}=s,g=Je(mt,t),[v,p]=f.useState(null),x=te(e,C=>p(C)),b=f.useRef(null),y=f.useRef(""),w=g.viewport,S=r.content-r.viewport,j=He(u),_=He(c),k=Yn(m,10);function N(C){if(b.current){const P=C.clientX-b.current.left,A=C.clientY-b.current.top;d({x:P,y:A})}}return f.useEffect(()=>{const C=P=>{const A=P.target;(v==null?void 0:v.contains(A))&&j(P,S)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,v,S,j]),f.useEffect(_,[r,_]),Qs(v,k),Qs(g.content,k),n.jsx(eb,{scope:t,scrollbar:v,hasThumb:a,onThumbChange:He(o),onThumbPointerUp:He(i),onThumbPositionChange:_,onThumbPointerDown:He(l),children:n.jsx(G.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:$(s.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),N(C))}),onPointerMove:$(s.onPointerMove,N),onPointerUp:$(s.onPointerUp,C=>{const P=C.target;P.hasPointerCapture(C.pointerId)&&P.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),b.current=null})})})}),xn="ScrollAreaThumb",Ad=f.forwardRef((s,e)=>{const{forceMount:t,...r}=s,a=Pd(xn,s.__scopeScrollArea);return n.jsx(ss,{present:t||a.hasThumb,children:n.jsx(tb,{ref:e,...r})})}),tb=f.forwardRef((s,e)=>{const{__scopeScrollArea:t,style:r,...a}=s,o=Je(xn,t),i=Pd(xn,t),{onThumbPositionChange:l}=i,c=te(e,m=>i.onThumbChange(m)),d=f.useRef(),u=Yn(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const m=o.viewport;if(m){const h=()=>{if(u(),!d.current){const g=nb(m,l);d.current=g,l()}};return l(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[o.viewport,u,l]),n.jsx(G.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:$(s.onPointerDownCapture,m=>{const g=m.target.getBoundingClientRect(),v=m.clientX-g.left,p=m.clientY-g.top;i.onThumbPointerDown({x:v,y:p})}),onPointerUp:$(s.onPointerUp,i.onThumbPointerUp)})});Ad.displayName=xn;var Fo="ScrollAreaCorner",Rd=f.forwardRef((s,e)=>{const t=Je(Fo,s.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?n.jsx(sb,{...s,ref:e}):null});Rd.displayName=Fo;var sb=f.forwardRef((s,e)=>{const{__scopeScrollArea:t,...r}=s,a=Je(Fo,t),[o,i]=f.useState(0),[l,c]=f.useState(0),d=!!(o&&l);return Qs(a.scrollbarX,()=>{var m;const u=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Qs(a.scrollbarY,()=>{var m;const u=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(u),i(u)}),d?n.jsx(G.div,{...r,ref:e,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...s.style}}):null});function yn(s){return s?parseInt(s,10):0}function Od(s,e){const t=s/e;return isNaN(t)?0:t}function Gn(s){const e=Od(s.viewport,s.content),t=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,r=(s.scrollbar.size-t)*e;return Math.max(r,18)}function rb(s,e,t,r="ltr"){const a=Gn(t),o=a/2,i=e||o,l=a-i,c=t.scrollbar.paddingStart+i,d=t.scrollbar.size-t.scrollbar.paddingEnd-l,u=t.content-t.viewport,m=r==="ltr"?[0,u]:[u*-1,0];return Dd([c,d],m)(s)}function Yi(s,e,t="ltr"){const r=Gn(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-a,i=e.content-e.viewport,l=o-r,c=t==="ltr"?[0,i]:[i*-1,0],d=Cr(s,c);return Dd([0,i],[0,l])(d)}function Dd(s,e){return t=>{if(s[0]===s[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(s[1]-s[0]);return e[0]+r*(t-s[0])}}function Md(s,e){return s>0&&s<e}var nb=(s,e=()=>{})=>{let t={left:s.scrollLeft,top:s.scrollTop},r=0;return function a(){const o={left:s.scrollLeft,top:s.scrollTop},i=t.left!==o.left,l=t.top!==o.top;(i||l)&&e(),t=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Yn(s,e){const t=He(s),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Qs(s,e){const t=He(e);Le(()=>{let r=0;if(s){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return a.observe(s),()=>{window.cancelAnimationFrame(r),a.unobserve(s)}}},[s,t])}function ab(s,e){const{asChild:t,children:r}=s;if(!t)return typeof e=="function"?e(r):e;const a=f.Children.only(r);return f.cloneElement(a,{children:typeof e=="function"?e(a.props.children):e})}var Id=Nd,ob=Ed,ib=Rd;const wn=f.forwardRef(({className:s,children:e,...t},r)=>n.jsxs(Id,{ref:r,className:L("relative overflow-hidden",s),...t,children:[n.jsx(ob,{className:"h-full w-full rounded-[inherit]",children:e}),n.jsx(Uo,{}),n.jsx(ib,{})]}));wn.displayName=Id.displayName;const Uo=f.forwardRef(({className:s,orientation:e="vertical",...t},r)=>n.jsx(Lo,{ref:r,orientation:e,className:L("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...t,children:n.jsx(Ad,{className:"relative flex-1 rounded-full bg-border"})}));Uo.displayName=Lo.displayName;const es=f.forwardRef(({className:s,...e},t)=>n.jsx(vl,{ref:t,className:L("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...e}));es.displayName=vl.displayName;const bs=f.forwardRef(({className:s,...e},t)=>n.jsx(xl,{ref:t,className:L("aspect-square h-full w-full",s),...e}));bs.displayName=xl.displayName;const ts=f.forwardRef(({className:s,...e},t)=>n.jsx(yl,{ref:t,className:L("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...e}));ts.displayName=yl.displayName;const _e=f.forwardRef(({className:s,type:e,...t},r)=>n.jsx("input",{type:e,className:L("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...t}));_e.displayName="Input";function lb(){return{supabase:q}}function Ld(){return{toast:le}}const cb=()=>{var S;const{supabase:s}=lb(),{user:e}=qe(),{toast:t}=Ld(),[r,a]=f.useState(!1),[o,i]=f.useState(null),[l,c]=f.useState(""),[d,u]=f.useState([]),[m,h]=f.useState({}),[g,v]=f.useState(!0),[p,x]=f.useState(!1);io(),we(),f.useEffect(()=>{e&&b()},[e]),f.useEffect(()=>{o&&y(o)},[o]);const b=async()=>{if(e!=null&&e.id)try{const{data:j,error:_}=await s.from("conversations").select("*").or(`user1_id.eq.${e.id},user2_id.eq.${e.id}`).order("updated_at",{ascending:!1});if(_)throw _;const k=await Promise.all(j.map(async N=>{const C=N.user1_id===e.id?N.user2_id:N.user1_id,{data:P}=await s.from("profiles").select("username, avatar_url").eq("id",C).single();return{...N,profiles:P||{username:"Unknown",avatar_url:null}}}));u(k)}catch(j){console.error("Error fetching conversations:",j),t({title:"Error",description:"Failed to load conversations. Please try again.",variant:"destructive"})}finally{v(!1)}},y=async j=>{try{const{data:_,error:k}=await s.from("messages").select("*").eq("conversation_id",j).order("created_at",{ascending:!0});if(k)throw k;h(N=>({...N,[j]:_}))}catch(_){console.error("Error fetching messages:",_),t({title:"Error",description:"Failed to load messages. Please try again.",variant:"destructive"})}},w=async j=>{if(j.preventDefault(),!(!l.trim()||!e)){x(!0);try{const{error:_}=await s.from("messages").insert({conversation_id:o,sender_id:e.id,text:l});if(_)throw _;const{error:k}=await s.from("conversations").update({last_message:l,updated_at:new Date().toISOString()}).eq("id",o);if(k)throw k;c(""),y(o),b()}catch(_){console.error("Error sending message:",_),t({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{x(!1)}}};return n.jsxs(xs,{open:r,onOpenChange:a,children:[n.jsx(Ww,{asChild:!0,children:n.jsxs(I,{variant:"ghost",size:"icon",className:"relative",children:[n.jsx(Kf,{size:20}),d.some(j=>j.unread)&&n.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"})]})}),n.jsxs(Xt,{className:"sm:max-w-[425px]",children:[n.jsxs(Qt,{children:[n.jsx(Zt,{children:"Messages"}),n.jsx(Xs,{children:"Chat with your contacts and event attendees"})]}),n.jsx("div",{className:"mt-4",children:g?n.jsx("div",{className:"text-center p-4",children:n.jsx("p",{children:"Loading conversations..."})}):d.length===0?n.jsx("div",{className:"text-center p-4",children:n.jsx("p",{className:"text-muted-foreground",children:"No messages yet"})}):n.jsx(wn,{className:"h-[300px]",children:d.map(j=>{var _;return n.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-muted/50 cursor-pointer",onClick:()=>i(j.id),children:[n.jsxs(es,{children:[n.jsx(bs,{src:j.profiles.avatar_url}),n.jsx(ts,{children:((_=j.profiles.username)==null?void 0:_[0])||"?"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium truncate",children:j.profiles.username||"Unknown User"}),j.last_message&&n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:j.last_message})]})]},j.id)})})}),o&&n.jsxs("div",{className:"mt-4",children:[n.jsx(wn,{className:"h-[200px] mb-4",children:(S=m[o])==null?void 0:S.map(j=>n.jsx("div",{className:`flex ${j.sender_id===(e==null?void 0:e.id)?"justify-end":"justify-start"} mb-2`,children:n.jsx("div",{className:`px-3 py-2 rounded-lg ${j.sender_id===(e==null?void 0:e.id)?"bg-thrivvo-teal text-white":"bg-muted"}`,children:n.jsx("p",{children:j.text})})},j.id))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(_e,{placeholder:"Type a message...",value:l,onChange:j=>c(j.target.value),onKeyPress:j=>{j.key==="Enter"&&w(j)}}),n.jsx(I,{size:"icon",onClick:w,disabled:p||!l.trim(),children:p?n.jsx(po,{className:"w-4 h-4 animate-spin"}):n.jsx(sm,{size:16})})]})]})]})]})},wa=768;function js(){const[s,e]=f.useState(void 0);return f.useEffect(()=>{const t=window.matchMedia(`(max-width: ${wa-1}px)`),r=()=>{e(window.innerWidth<wa)};return t.addEventListener("change",r),e(window.innerWidth<wa),()=>t.removeEventListener("change",r)},[]),!!s}const je=({children:s,activeTab:e="discover",onTabChange:t=()=>{}})=>{const r=js();return n.jsxs("div",{className:"flex flex-col min-h-screen max-w-lg mx-auto",children:[n.jsx("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-sm border-b",children:n.jsxs("div",{className:"flex items-center justify-between p-2 md:p-4",children:[n.jsx("div",{children:n.jsx(Pt,{to:"/",children:n.jsx("img",{src:"/lovable-uploads/130ab7bf-f6ad-4a28-8c87-4a266c70a707.png",alt:"THRIVVO Logo",className:"h-6 md:h-8 cursor-pointer"})})}),n.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[n.jsx(Pt,{to:"/subscription",children:n.jsxs(I,{variant:"ghost",size:r?"sm":"default",className:"text-thrivvo-teal flex items-center gap-1 font-medium text-xs md:text-sm py-1 px-2 md:py-2 md:px-3",children:[n.jsx(Kl,{size:r?12:14}),r?"+":"Thrivvo+"]})}),n.jsx(cb,{})]})]})}),n.jsx("main",{className:"flex-1 overflow-y-auto",children:s}),n.jsx("footer",{className:"sticky bottom-0 z-10 bg-background/80 backdrop-blur-sm border-t p-2 md:p-3",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsx(Wn,{value:e,onValueChange:t,className:"w-full",children:n.jsxs(Fr,{className:"w-full bg-muted/50 h-12 md:h-14 p-1",children:[n.jsx(Ie,{value:"discover",className:"flex-1 data-[state=active]:bg-thrivvo-teal data-[state=active]:text-white h-10 md:h-12",asChild:!0,children:n.jsx(Pt,{to:"/",children:n.jsx("img",{src:"/lovable-uploads/1493954c-3788-441f-9e0a-bab1dd94c24b.png",alt:"Discover",className:"h-5 w-5 md:h-6 md:w-6"})})}),n.jsx(Ie,{value:"search",className:"flex-1 data-[state=active]:bg-thrivvo-teal data-[state=active]:text-white h-10 md:h-12",asChild:!0,children:n.jsx(Pt,{to:"/search",children:n.jsx(tm,{size:r?18:20})})}),n.jsx(Ie,{value:"add",className:"flex-1 data-[state=active]:bg-thrivvo-teal data-[state=active]:text-white h-10 md:h-12",asChild:!0,children:n.jsx(Pt,{to:"/add-event",children:n.jsx(em,{size:r?18:20})})}),n.jsx(Ie,{value:"notifications",className:"flex-1 data-[state=active]:bg-thrivvo-teal data-[state=active]:text-white h-10 md:h-12",asChild:!0,children:n.jsx(Pt,{to:"/notifications",children:n.jsx(Uf,{size:r?18:20})})}),n.jsx(Ie,{value:"profile",className:"flex-1 data-[state=active]:bg-thrivvo-teal data-[state=active]:text-white h-10 md:h-12",asChild:!0,children:n.jsx(Pt,{to:"/profile",children:n.jsx(Zl,{size:r?18:20})})})]})})})})]})},tt=f.forwardRef(({className:s,...e},t)=>n.jsx("div",{ref:t,className:L("rounded-lg border bg-card text-card-foreground shadow-sm",s),...e}));tt.displayName="Card";const zt=f.forwardRef(({className:s,...e},t)=>n.jsx("div",{ref:t,className:L("flex flex-col space-y-1.5 p-6",s),...e}));zt.displayName="CardHeader";const Bt=f.forwardRef(({className:s,...e},t)=>n.jsx("h3",{ref:t,className:L("text-2xl font-semibold leading-none tracking-tight",s),...e}));Bt.displayName="CardTitle";const Ht=f.forwardRef(({className:s,...e},t)=>n.jsx("p",{ref:t,className:L("text-sm text-muted-foreground",s),...e}));Ht.displayName="CardDescription";const st=f.forwardRef(({className:s,...e},t)=>n.jsx("div",{ref:t,className:L("p-6 pt-0",s),...e}));st.displayName="CardContent";const Vt=f.forwardRef(({className:s,...e},t)=>n.jsx("div",{ref:t,className:L("flex items-center p-6 pt-0",s),...e}));Vt.displayName="CardFooter";const db=Nn("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ne({className:s,variant:e,...t}){return n.jsx("div",{className:L(db({variant:e}),s),...t})}const ub=({event:s,onSwipeLeft:e,onSwipeRight:t})=>{const r=we(),[a,o]=f.useState(null),[i,l]=f.useState(null),[c,d]=f.useState(null),u=f.useRef(null),m=y=>{const w="touches"in y?y.touches[0].clientX:y.clientX;o(w)},h=y=>{if(a===null)return;const w="touches"in y?y.touches[0].clientX:y.clientX;l(w)},g=()=>{if(a===null||i===null)return;const y=i-a;Math.abs(y)>100?(y>0?(d("right"),setTimeout(()=>{t(),r(`/event/${s.id}`)},300)):(d("left"),e()),setTimeout(()=>{o(null),l(null),d(null)},500)):(o(null),l(null))},v=()=>{if(a===null||i===null)return{};const y=i-a,w=y*.1;return c==="left"?{animation:"swipe-left 0.5s forwards"}:c==="right"?{animation:"swipe-right 0.5s forwards"}:{transform:`translateX(${y}px) rotate(${w}deg)`,transition:"transform 0.1s"}},p=new Date(s.time.start),x=xo(p,{addSuffix:!0}),b=new Date(s.time.start).getTime()-new Date().getTime()<60*60*1e3;return n.jsxs("div",{className:"relative w-full max-w-sm mx-auto",children:[n.jsxs("div",{className:"event-card",ref:u,style:v(),children:[n.jsxs(tt,{className:"overflow-hidden border-2 border-muted shadow-lg",children:[n.jsxs("div",{className:"relative h-60 w-full overflow-hidden",children:[n.jsx("img",{src:s.images[0],alt:s.title,className:"w-full h-full object-cover"}),n.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[n.jsx(Ne,{variant:"secondary",className:"bg-black/70 text-white backdrop-blur-sm border-0",children:x}),b&&n.jsx(Ne,{className:"bg-thrivvo-orange text-white border-0",children:"Starting Soon!"})]}),n.jsx("div",{className:"absolute top-3 right-3",children:n.jsx(Ne,{className:"bg-black/70 text-white backdrop-blur-sm border-0",children:s.category})}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:s.title}),n.jsxs("div",{className:"flex items-center text-white/90 text-sm gap-2",children:[n.jsx(Zs,{size:14}),n.jsxs("span",{children:[s.location.name,"  ",s.location.distance,"mi"]})]})]})]}),n.jsxs(st,{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(es,{className:"h-8 w-8",children:[n.jsx(bs,{src:s.host.avatar}),n.jsx(ts,{children:s.host.name.charAt(0)})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-sm font-medium",children:s.host.name}),s.host.verified&&n.jsx(kn,{size:14,className:"text-thrivvo-teal"})]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Host"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xr,{size:16,className:"text-muted-foreground"}),n.jsxs("span",{className:"text-sm",children:[s.attendees.count,s.attendees.max?`/${s.attendees.max}`:""]})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:s.description}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"flex gap-1",children:s.vibe.slice(0,3).map((y,w)=>n.jsx(Ne,{variant:"outline",className:"text-xs font-normal",children:y},w))}),s.price&&n.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium",children:[n.jsx(Ws,{size:14,className:"text-muted-foreground"}),s.price.amount," ",s.price.currency]})]})]})]}),n.jsx("div",{className:"card-swipe-controller",onTouchStart:m,onTouchMove:h,onTouchEnd:g,onMouseDown:m,onMouseMove:h,onMouseUp:g,onMouseLeave:g})]}),n.jsxs("div",{className:"absolute bottom-5 left-0 right-0 flex justify-center gap-4 z-20 pointer-events-none",children:[n.jsx("div",{className:`p-3 rounded-full bg-destructive text-white shadow-lg ${c==="left"?"opacity-100":"opacity-0"} transition-opacity`,children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})}),n.jsx("div",{className:`p-3 rounded-full bg-thrivvo-teal text-white shadow-lg ${c==="right"?"opacity-100":"opacity-0"} transition-opacity`,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-check",children:n.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})]})},Pr=({type:s,onCancelEvent:e})=>{const{toast:t}=Ke(),{user:r}=qe(),[a,o]=D.useState(!1),[i,l]=D.useState(null),[c,d]=D.useState(!1),[u,m]=D.useState(null),[h,g]=D.useState([]),v=async()=>{try{const{data:{user:j}}=await q.auth.getUser();if(!j)return;let _=q.from("events").select("*");if(s==="hosted")_=_.eq("host->>id",j.id);else if(s==="attending"){const{data:P}=await q.from("events").select("id").contains("attendees->ids",[j.id]);if(P&&P.length>0){const A=P.map(R=>R.id);_=_.in("id",A)}else{g([]);return}}const{data:k,error:N}=await _;if(N)throw N;const C=(k||[]).map(P=>{const A=P.attendees;return{id:P.id,title:P.title,description:P.description,category:P.category,location:P.location,time:P.time,host:P.host,attendees:{count:A.count||0,max:A.max||null,ids:A.ids||[]},price:P.price,images:P.images||[],vibe:P.vibe||[],monetized:P.monetized||!1,isVerified:P.isVerified||!1,created_at:P.created_at||new Date().toISOString(),updated_at:P.updated_at||new Date().toISOString()}});g(C)}catch(j){console.error("Error fetching events:",j)}};if(f.useEffect(()=>{v()},[s]),h.length===0)return n.jsxs("div",{className:"text-center p-8",children:[n.jsx("h3",{className:"text-lg font-medium",children:"No events found"}),n.jsx("p",{className:"text-muted-foreground",children:"Try selecting a different category or check back later"})]});const p=(j,_)=>{_.preventDefault(),_.stopPropagation();const k=`${window.location.origin}/event/${j.id}`;navigator.share?navigator.share({title:j.title,text:`Check out this event: ${j.title}`,url:k}).catch(N=>{console.log("Error sharing",N),x(k)}):x(k)},x=j=>{navigator.clipboard.writeText(j).then(()=>{t({title:"Link copied!",description:"Event link copied to clipboard"})}).catch(_=>{console.error("Failed to copy: ",_)})},b=(j,_)=>{_.preventDefault(),_.stopPropagation(),l(j),o(!0)},y=async()=>{if(!(!i||!r))try{const{data:j,error:_}=await q.from("events").select("*").eq("id",i.id).single();if(_)throw _;const k=j.attendees,N=k.ids.filter(A=>A!==r.id),C=k.count-1,{error:P}=await q.from("events").update({attendees:{ids:N,count:C,max:k.max}}).eq("id",i.id);if(P)throw P;t({title:"Attendance cancelled",description:`You are no longer attending "${i.title}"`}),e&&e(i.id)}catch(j){console.error("Error cancelling attendance:",j),t({title:"Error",description:"Failed to cancel attendance. Please try again later.",variant:"destructive"})}finally{o(!1),l(null)}},w=async(j,_)=>{_.preventDefault(),_.stopPropagation(),m(j),d(!0)},S=async()=>{if(!(!u||!r))try{console.log("Attempting to delete event:",{eventId:u.id,userId:r.id,hostId:u.host.id});const{error:j}=await q.from("events").delete().eq("id",u.id).eq("host->>id",r.id);if(j)throw console.error("Delete error details:",{message:j.message,details:j.details,hint:j.hint,code:j.code}),j;t({title:"Event deleted",description:`You have deleted "${u.title}"`}),await v(),e&&e(u.id)}catch(j){console.error("Error deleting event:",j),t({title:"Error",description:"Failed to delete event. Please try again later.",variant:"destructive"})}finally{d(!1),m(null)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(j=>n.jsxs("div",{className:"relative",children:[n.jsx(Pt,{to:`/event/${j.id}`,className:"block",children:n.jsxs("div",{className:"flex gap-3 p-3 rounded-lg border hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"relative w-24 h-24 rounded-md overflow-hidden shrink-0",children:[n.jsx("img",{src:j.images[0],alt:j.title,className:"w-full h-full object-cover"}),n.jsxs("div",{className:"absolute top-1 left-1 flex flex-col gap-1",children:[j.price&&j.price.amount>0||j.monetized?n.jsxs(Ne,{variant:"secondary",className:"bg-thrivvo-teal text-white",children:[n.jsx(Ws,{size:12,className:"mr-1"})," Premium"]}):null,j.isVerified&&n.jsxs(Ne,{variant:"outline",className:"bg-white/90 text-thrivvo-orange border-thrivvo-orange",children:[n.jsx(gs,{size:12,className:"mr-1 text-thrivvo-orange"})," Verified"]})]})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-medium text-base truncate",children:j.title}),j.isVerified&&n.jsx(jr,{children:n.jsxs(mn,{children:[n.jsx(pn,{children:n.jsx(gs,{size:16,className:"text-thrivvo-orange"})}),n.jsx(Sr,{children:n.jsx("p",{children:"Verified event"})})]})})]}),n.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(fo,{size:12}),n.jsx("span",{children:j.time&&j.time.start?new Date(j.time.start).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Date TBD"}),n.jsx(Yl,{size:12,className:"ml-1"}),n.jsx("span",{children:j.time&&j.time.start?Zp(j.time.start):"Time TBD"})]}),n.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(Zs,{size:12}),n.jsx("span",{className:"truncate",children:j.location.name})]}),n.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(Zl,{size:12}),n.jsxs("span",{children:[j.attendees.count," attending"]})]})]})]})}),n.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[r&&j.attendees.ids.includes(r.id)&&j.host.id!==r.id&&n.jsx(I,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-full bg-background/80 hover:bg-destructive hover:text-white shadow-sm",onClick:_=>b(j,_),children:n.jsx(En,{size:14})}),r&&j.host.id===r.id&&n.jsx(I,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-full bg-background/80 hover:bg-destructive hover:text-white shadow-sm",onClick:_=>w(j,_),children:n.jsx(Xl,{size:14})}),n.jsx(I,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-full bg-background/80 hover:bg-background shadow-sm",onClick:_=>p(j,_),children:n.jsx(Ea,{size:14})})]})]},j.id))}),n.jsx(xs,{open:a,onOpenChange:o,children:n.jsxs(Xt,{children:[n.jsxs(Qt,{children:[n.jsx(Zt,{children:"Cancel Attendance"}),n.jsxs(Xs,{children:["Are you sure you want to cancel your attendance to ",i==null?void 0:i.title,"?"]})]}),n.jsxs(Er,{children:[n.jsx(I,{variant:"outline",onClick:()=>o(!1),children:"Keep Attending"}),n.jsx(I,{variant:"destructive",onClick:y,children:"Cancel Attendance"})]})]})}),n.jsx(xs,{open:c,onOpenChange:d,children:n.jsxs(Xt,{children:[n.jsxs(Qt,{children:[n.jsx(Zt,{children:"Delete Event"}),n.jsxs(Xs,{children:["Are you sure you want to delete ",u==null?void 0:u.title,"? This action cannot be undone."]})]}),n.jsxs(Er,{children:[n.jsx(I,{variant:"outline",onClick:()=>d(!1),children:"Keep Event"}),n.jsx(I,{variant:"destructive",onClick:S,children:"Delete Event"})]})]})})]})},Kn=[{id:"house-party",name:"House Parties",icon:""},{id:"club",name:"Clubs",icon:""},{id:"bar",name:"Bars",icon:""},{id:"concert",name:"Concerts",icon:""},{id:"game-night",name:"Game Nights",icon:""},{id:"food",name:"Food & Drink",icon:""},{id:"fitness",name:"Fitness",icon:""},{id:"networking",name:"Networking",icon:""},{id:"outdoor",name:"Outdoor",icon:""},{id:"sports",name:"Sports",icon:""},{id:"other",name:"Other",icon:""}],$d=({selectedCategory:s,onSelectCategory:e})=>{const t=we(),r=io(),a=o=>{o===null&&r.pathname!=="/"?t("/"):e(o)};return n.jsxs(wn,{className:"w-full whitespace-nowrap",children:[n.jsxs("div",{className:"flex gap-2 p-1",children:[n.jsxs(I,{variant:s===null?"default":"outline",className:"flex items-center gap-1 rounded-full",onClick:()=>a(null),children:[n.jsx("span",{className:"text-lg",children:""}),n.jsx("span",{children:"All"})]}),Kn.map(o=>n.jsxs(I,{variant:s===o.id?"default":"outline",className:"flex items-center gap-1 rounded-full",onClick:()=>a(o.id),children:[n.jsx("span",{className:"text-lg",children:o.icon}),n.jsx("span",{children:o.name})]},o.id))]}),n.jsx(Uo,{orientation:"horizontal",className:"h-2"})]})},hb=()=>{const s=we(),[e,t]=f.useState([]),[r,a]=f.useState(null),[o,i]=f.useState(0),[l,c]=f.useState(null),[d,u]=f.useState("list"),[m,h]=f.useState(null),[g,v]=f.useState(!0);f.useEffect(()=>{(async()=>{v(!0);const{data:{session:y}}=await q.auth.getSession();if(y){const{data:w,error:S}=await q.from("profiles").select("*").eq("id",y.user.id).single();!S&&w&&h(w)}v(!1)})()},[]),f.useEffect(()=>{(async()=>{v(!0);try{console.log("Fetching events...");let y=q.from("events").select("*").order("created_at",{ascending:!1});l&&(console.log("Filtering by category:",l),y=y.eq("category",l));const{data:w,error:S}=await y;if(S)throw console.error("Supabase error:",S),S;if(console.log("Received data:",w),w&&w.length>0){const _=w.map(k=>({id:k.id,title:k.title,description:k.description,category:k.category,location:k.location,time:k.time,host:k.host,attendees:k.attendees,price:k.price,images:k.images,vibe:k.vibe,isPrivate:k.isPrivate,isVerified:k.isVerified||!1,monetized:k.monetized||!1})).sort((k,N)=>new Date(N.time.start).getTime()-new Date(k.time.start).getTime());console.log("Converted events:",_),a(_[0]),t(_.slice(1))}else console.log("No events found"),a(null),t([])}catch(y){console.error("Error in fetchEvents:",y),le({title:"Error",description:"Failed to load events. Please try again later.",variant:"destructive"})}finally{v(!1)}})()},[l]);const p=b=>{c(b)},x=b=>{b==="search"&&s("/search")};return o<e.length-1,n.jsx(je,{activeTab:"discover",onTabChange:x,children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h1",{className:"text-2xl font-bold",children:l?`${l.charAt(0).toUpperCase()+l.slice(1)} Events`:"Discover Events"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(I,{variant:d==="list"?"default":"outline",size:"icon",onClick:()=>u("list"),children:n.jsx(Wf,{className:"h-4 w-4"})}),n.jsx(I,{variant:d==="card"?"default":"outline",size:"icon",onClick:()=>u("card"),children:n.jsx(qf,{className:"h-4 w-4"})})]})]}),n.jsx($d,{selectedCategory:l,onSelectCategory:p}),g&&n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{children:"Loading events..."})}),!g&&!r&&e.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-muted-foreground",children:l?`No ${l} events found. Be the first to create one!`:"No events found. Create an event to get started!"}),n.jsx(I,{className:"mt-4 bg-thrivvo-teal text-white",onClick:()=>s("/add-event"),children:"Create Event"})]}),!g&&r&&n.jsxs("div",{className:"my-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Featured Event"}),n.jsxs("div",{className:"bg-white border rounded-lg overflow-hidden shadow-sm",children:[n.jsxs("div",{className:"relative w-full h-48",children:[n.jsx("img",{src:r.images[0]||"/placeholder-event.jpg",alt:r.title,className:"w-full h-full object-cover"}),n.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-2",children:[n.jsx(Ne,{variant:"secondary",className:"bg-thrivvo-teal text-white",children:r.category}),r.isVerified&&n.jsxs(Ne,{variant:"outline",className:"bg-white/80 text-thrivvo-orange border-thrivvo-orange",children:[n.jsx(gs,{size:12,className:"mr-1"})," Verified"]}),r.price&&r.price.amount>0||r.monetized?n.jsxs(Ne,{variant:"outline",className:"bg-white/80 border-thrivvo-teal text-thrivvo-teal",children:[n.jsx(Ws,{size:12,className:"mr-1"})," Premium"]}):null]})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"text-xl font-semibold",children:r.title}),r.isVerified&&n.jsx(jr,{children:n.jsxs(mn,{children:[n.jsx(pn,{children:n.jsx(gs,{size:18,className:"text-thrivvo-orange"})}),n.jsx(Sr,{children:n.jsx("p",{children:"This event has been verified by our team"})})]})})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:r.description}),n.jsxs("div",{className:"flex items-center mt-3 text-sm text-muted-foreground",children:[n.jsx("span",{children:new Date(r.time.start).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}),n.jsx("span",{className:"mx-2",children:""}),n.jsx("span",{children:r.location.name}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:[r.location.distance," miles away"]})]}),n.jsx(I,{className:"w-full mt-3 bg-thrivvo-teal text-white",onClick:()=>s(`/event/${r.id}`),children:"View Details"})]})]})]}),!g&&e.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"More Events"}),d==="list"?n.jsx(Pr,{events:e}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(b=>n.jsx(ub,{event:b,onSwipeLeft:()=>{},onSwipeRight:()=>{}},b.id))})]})]})})},fb=()=>{qe();const[s,e]=f.useState("house-party"),[t,r]=f.useState([]),[a,o]=f.useState(!0),[i,l]=f.useState(null);f.useEffect(()=>{(async()=>{try{o(!0),l(null);let u=q.from("events").select("*").order("created_at",{ascending:!1});s&&(u=u.eq("category",s));const{data:m,error:h}=await u;if(h)throw h;r(m||[])}catch(u){console.error("Error fetching events:",u),l("Failed to load events. Please try again later.")}finally{o(!1)}})()},[s]);const c=d=>{e(d)};return n.jsx(je,{activeTab:"discover",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Events"}),n.jsx($d,{selectedCategory:s,onSelectCategory:c}),n.jsx("div",{className:"mt-4",children:a?n.jsx("div",{className:"text-center p-8",children:n.jsx("h3",{className:"text-lg font-medium",children:"Loading events..."})}):i?n.jsx("div",{className:"text-center p-8",children:n.jsx("h3",{className:"text-lg font-medium text-red-500",children:i})}):n.jsx(Pr,{events:t,emptyMessage:"No events found"})})]})})};var mb="Separator",Ki="horizontal",pb=["horizontal","vertical"],Fd=f.forwardRef((s,e)=>{const{decorative:t,orientation:r=Ki,...a}=s,o=gb(r)?r:Ki,l=t?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return n.jsx(G.div,{"data-orientation":o,...l,...a,ref:e})});Fd.displayName=mb;function gb(s){return pb.includes(s)}var Ud=Fd;const Rs=f.forwardRef(({className:s,orientation:e="horizontal",decorative:t=!0,...r},a)=>n.jsx(Ud,{ref:a,decorative:t,orientation:e,className:L("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...r}));Rs.displayName=Ud.displayName;var zo="Collapsible",[vb,Qj]=ht(zo),[xb,Bo]=vb(zo),zd=f.forwardRef((s,e)=>{const{__scopeCollapsible:t,open:r,defaultOpen:a,disabled:o,onOpenChange:i,...l}=s,[c=!1,d]=qt({prop:r,defaultProp:a,onChange:i});return n.jsx(xb,{scope:t,disabled:o,contentId:Rr(),open:c,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),children:n.jsx(G.div,{"data-state":Vo(c),"data-disabled":o?"":void 0,...l,ref:e})})});zd.displayName=zo;var Bd="CollapsibleTrigger",Hd=f.forwardRef((s,e)=>{const{__scopeCollapsible:t,...r}=s,a=Bo(Bd,t);return n.jsx(G.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Vo(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:e,onClick:$(s.onClick,a.onOpenToggle)})});Hd.displayName=Bd;var Ho="CollapsibleContent",Vd=f.forwardRef((s,e)=>{const{forceMount:t,...r}=s,a=Bo(Ho,s.__scopeCollapsible);return n.jsx(ss,{present:t||a.open,children:({present:o})=>n.jsx(yb,{...r,ref:e,present:o})})});Vd.displayName=Ho;var yb=f.forwardRef((s,e)=>{const{__scopeCollapsible:t,present:r,children:a,...o}=s,i=Bo(Ho,t),[l,c]=f.useState(r),d=f.useRef(null),u=te(e,d),m=f.useRef(0),h=m.current,g=f.useRef(0),v=g.current,p=i.open||l,x=f.useRef(p),b=f.useRef();return f.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),Le(()=>{const y=d.current;if(y){b.current=b.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();m.current=w.height,g.current=w.width,x.current||(y.style.transitionDuration=b.current.transitionDuration,y.style.animationName=b.current.animationName),c(r)}},[i.open,r]),n.jsx(G.div,{"data-state":Vo(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...o,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...s.style},children:p&&a})});function Vo(s){return s?"open":"closed"}var wb=zd;const bb=wb,jb=Hd,Sb=Vd;function ba({className:s,...e}){return n.jsx("div",{className:L("animate-pulse rounded-md bg-muted",s),...e})}const _b=[{id:"user-1",name:"Alex Johnson",avatar:"/lovable-uploads/d7368d4b-69d9-45f2-af66-f97850473f89.png",verified:!0,bio:"Adventure seeker and music lover",interests:["music","hiking","photography"]},{id:"user-2",name:"Sam Rivera",bio:"Food enthusiast and traveler",interests:["food","travel","cooking"]},{id:"user-3",name:"Taylor Morgan",avatar:"/lovable-uploads/de943395-a2a4-4ee9-bed4-16cc40cfdc47.png",verified:!0,bio:"Tech geek and coffee addict",interests:["technology","coffee","gaming"]},{id:"user-4",name:"Jordan Kim",bio:"Fitness instructor and wellness coach",interests:["fitness","nutrition","meditation"]},{id:"user-5",name:"Casey Lopez",avatar:"/lovable-uploads/d6f2d298-cff6-47aa-9362-b19aae49b23e.png",bio:"Artist and creative mind",interests:["art","design","music"]}],Nb=({eventId:s})=>{const e=we(),[t,r]=f.useState([]),[a,o]=f.useState(!0);f.useEffect(()=>{(async()=>{o(!0),await new Promise(c=>setTimeout(c,800)),r(_b),o(!1)})()},[s]);const i=l=>{e(`/profile/${l}`)};return a?n.jsx("div",{className:"space-y-3",children:[1,2,3].map(l=>n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md",children:[n.jsx(ba,{className:"h-10 w-10 rounded-full"}),n.jsxs("div",{className:"space-y-1 flex-1",children:[n.jsx(ba,{className:"h-4 w-24"}),n.jsx(ba,{className:"h-3 w-32"})]})]},l))}):t.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-2",children:"No attendees yet. Be the first to join!"}):n.jsx("div",{className:"space-y-2",children:t.map(l=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(es,{className:"h-10 w-10",children:[n.jsx(bs,{src:l.avatar}),n.jsx(ts,{children:l.name[0]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"font-medium",children:l.name}),l.verified&&n.jsx(go,{size:14,className:"text-thrivvo-teal"})]}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.interests&&l.interests.slice(0,2).map((c,d)=>n.jsx(Ne,{variant:"outline",className:"text-xs font-normal h-5 px-1.5",children:c},d))})]})]}),n.jsx(I,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>i(l.id),"aria-label":`View ${l.name}'s profile`,children:n.jsx(Ff,{size:16})})]},l.id))})},kb=()=>{const{eventId:s}=lo(),e=we(),{toast:t}=Ke();qe();const[r,a]=f.useState(null),[o,i]=f.useState(!0),[l,c]=f.useState(!1);f.useEffect(()=>{(async()=>{try{i(!0);const{data:w,error:S}=await q.from("events").select("*").eq("id",s).single();if(S){console.error("Error fetching event:",S),t({title:"Error",description:"Failed to load event details. Please try again later.",variant:"destructive"});return}if(w){const j={...w,category:w.category,location:w.location,time:w.time,host:w.host,attendees:{count:w.attendees.count||0,max:w.attendees.max||null,ids:w.attendees.ids||[]},price:w.price,images:w.images||[],vibe:w.vibe||[],monetized:w.monetized||!1,isVerified:w.isVerified||!1,created_at:w.created_at||new Date().toISOString(),updated_at:w.updated_at||new Date().toISOString()};a(j)}}catch(w){console.error("Error fetching event:",w),t({title:"Error",description:"Failed to load event details. Please try again later.",variant:"destructive"})}finally{i(!1)}})()},[s,t]);const d=()=>{t({title:"You're in!",description:"You've successfully joined this event."})},u=()=>{t({title:"Processing payment",description:"Taking you to the payment screen..."})},m=()=>{if(!r)return;const y=`${window.location.origin}/event/${r.id}`;navigator.share?navigator.share({title:r.title,text:`Check out this event: ${r.title}`,url:y}).catch(w=>{console.log("Error sharing",w),h(y)}):h(y)},h=y=>{navigator.clipboard.writeText(y).then(()=>{t({title:"Link copied!",description:"Event link copied to clipboard"})}).catch(w=>{console.error("Failed to copy: ",w)})};if(o)return n.jsx(je,{children:n.jsx("div",{className:"p-4 flex justify-center items-center min-h-[50vh]",children:n.jsx("p",{children:"Loading event details..."})})});if(!r)return n.jsx(je,{activeTab:"events",children:n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"Event not found"})})})});const g=new Date(r.time.start),v=As(g)?Pa(g,"EEEE, MMMM d"):"Date TBD",p=As(g)?Pa(g,"h:mm a"):"Time TBD",x=As(g)?xo(g,{addSuffix:!0}):"Time TBD",b=As(g)&&g.getTime()-new Date().getTime()<60*60*1e3;return n.jsx(je,{activeTab:"events",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Details"}),n.jsxs("div",{className:"flex flex-col min-h-screen",children:[n.jsx("div",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-sm p-4 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(I,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"h-8 w-8",children:n.jsx(wt,{size:18})}),n.jsx("h1",{className:"text-lg font-medium truncate",children:"Event Details"})]}),n.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:m,children:n.jsx(Ea,{size:18})})]})}),n.jsxs("div",{className:"flex-grow",children:[n.jsxs("div",{className:"relative h-56 sm:h-72 md:h-80 w-full",children:[n.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),n.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[n.jsx(I,{variant:"outline",size:"icon",className:"h-8 w-8 bg-black/20 backdrop-blur-sm border-0 text-white hover:bg-black/40 hover:text-white",onClick:m,children:n.jsx(Ea,{size:16})}),n.jsx(I,{variant:"outline",size:"icon",className:"h-8 w-8 bg-black/20 backdrop-blur-sm border-0 text-white hover:bg-black/40 hover:text-white",children:n.jsx(Hf,{size:16})})]})]}),n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between flex-wrap gap-2",children:[n.jsx(Ne,{className:"mb-2",children:r.category}),b&&n.jsx(Ne,{className:"bg-thrivvo-orange text-white border-0",children:"Starting Soon!"}),r.isVerified&&n.jsxs(Ne,{className:"bg-white border-thrivvo-orange text-thrivvo-orange mb-2",children:[n.jsx(gs,{size:14,className:"mr-1"})," Verified"]}),r.price&&r.price.amount>0||r.monetized?n.jsxs(Ne,{className:"bg-white border-thrivvo-teal text-thrivvo-teal mb-2",children:[n.jsx(Ws,{size:14,className:"mr-1"})," Premium"]}):null]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h1",{className:"text-2xl font-bold",children:r.title}),r.isVerified&&n.jsx(jr,{children:n.jsxs(mn,{children:[n.jsx(pn,{children:n.jsx(gs,{size:20,className:"text-thrivvo-orange"})}),n.jsx(Sr,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-semibold",children:"Verified Event"}),n.jsx("p",{children:"This event has been confirmed as authentic by our team"})]})})]})})]}),n.jsxs("div",{className:"flex items-center text-muted-foreground mt-1",children:[n.jsx(Yl,{size:14,className:"mr-1"}),n.jsx("span",{children:x})]})]}),n.jsxs("div",{className:"flex items-center gap-3 py-2",children:[n.jsxs(es,{className:"h-10 w-10",children:[n.jsx(bs,{src:r.host.avatar}),n.jsx(ts,{children:r.host.name.charAt(0)})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:r.host.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Host"})]}),r.host.verified&&n.jsx(jr,{children:n.jsxs(mn,{children:[n.jsx(pn,{children:n.jsx(go,{className:"ml-2 h-4 w-4 text-thrivvo-teal"})}),n.jsx(Sr,{children:n.jsx("p",{children:"Verified Host"})})]})})]})]}),n.jsx(Rs,{}),r.isVerified&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-muted/30 p-3 rounded-md border border-muted flex items-start gap-3",children:[n.jsx("div",{className:"bg-thrivvo-orange/10 p-2 rounded-full",children:n.jsx(gs,{size:18,className:"text-thrivvo-orange"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Verified Event"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"This event has been reviewed and confirmed by our trust & safety team, ensuring it's legitimate and as described."})]})]}),n.jsx(Rs,{})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-muted p-2 rounded-md",children:n.jsx(fo,{size:18,className:"text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:v}),n.jsx("p",{className:"text-sm text-muted-foreground",children:p})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-muted p-2 rounded-md",children:n.jsx(Zs,{size:18,className:"text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:r.location.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r.location.address}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.location.distance," miles away"]})]})]})]}),n.jsx(Rs,{}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-medium mb-2",children:"About this event"}),n.jsx("p",{className:"text-muted-foreground",children:r.description})]}),n.jsx("div",{children:n.jsxs(bb,{open:l,onOpenChange:c,className:"w-full",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h2",{className:"font-medium",children:"Attendees"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[n.jsx(xr,{size:14}),n.jsxs("span",{children:[r.attendees.count,r.attendees.max?`/${r.attendees.max}`:""]})]}),n.jsx(jb,{asChild:!0,children:n.jsx(I,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l?n.jsx(Gl,{size:16}):n.jsx(mo,{size:16})})})]})]}),n.jsxs("div",{className:"flex -space-x-2 mb-2",children:[Array(Math.min(5,r.attendees.count)).fill(0).map((y,w)=>n.jsx(es,{className:"border-2 border-background h-8 w-8",children:n.jsx(ts,{children:w+1})},w)),r.attendees.count>5&&n.jsxs("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center text-xs border-2 border-background",children:["+",r.attendees.count-5]})]}),n.jsx(Sb,{className:"space-y-2 mt-2",children:n.jsx(Nb,{eventId:s||""})})]})}),n.jsx(Rs,{}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-medium mb-2",children:"Vibe"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.vibe.map((y,w)=>n.jsx(Ne,{variant:"outline",className:"text-xs font-normal",children:y},w))})]})]})]}),n.jsx("div",{className:"sticky bottom-0 p-4 bg-background/80 backdrop-blur-sm border-t",children:n.jsx("div",{className:"flex items-center justify-between",children:r.price?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Price"}),n.jsxs("div",{className:"flex items-center font-semibold",children:[n.jsx(Ws,{size:16,className:"text-muted-foreground"}),r.price.amount," ",r.price.currency]})]}),n.jsx(I,{onClick:u,className:"bg-thrivvo-teal hover:bg-thrivvo-teal/90",children:"Pay & Join"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Free Event"}),n.jsx(I,{onClick:d,className:"bg-thrivvo-teal hover:bg-thrivvo-teal/90",children:"Join Event"})]})})})]})]})})},Jn=f.forwardRef(({className:s,...e},t)=>n.jsx("textarea",{className:L("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...e}));Jn.displayName="Textarea";var Eb="Label",qd=f.forwardRef((s,e)=>n.jsx(G.label,{...s,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=s.onMouseDown)==null||a.call(s,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));qd.displayName=Eb;var Wd=qd;const Cb=Nn("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ae=f.forwardRef(({className:s,...e},t)=>n.jsx(Wd,{ref:t,className:L(Cb(),s),...e}));ae.displayName=Wd.displayName;function Xn(s){const e=f.useRef({value:s,previous:s});return f.useMemo(()=>(e.current.value!==s&&(e.current.previous=e.current.value,e.current.value=s),e.current.previous),[s])}var qo="Switch",[Pb,Zj]=ht(qo),[Tb,Ab]=Pb(qo),Gd=f.forwardRef((s,e)=>{const{__scopeSwitch:t,name:r,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=s,[h,g]=f.useState(null),v=te(e,w=>g(w)),p=f.useRef(!1),x=h?u||!!h.closest("form"):!0,[b=!1,y]=qt({prop:a,defaultProp:o,onChange:d});return n.jsxs(Tb,{scope:t,checked:b,disabled:l,children:[n.jsx(G.button,{type:"button",role:"switch","aria-checked":b,"aria-required":i,"data-state":Jd(b),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:v,onClick:$(s.onClick,w=>{y(S=>!S),x&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),x&&n.jsx(Rb,{control:h,bubbles:!p.current,name:r,value:c,checked:b,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});Gd.displayName=qo;var Yd="SwitchThumb",Kd=f.forwardRef((s,e)=>{const{__scopeSwitch:t,...r}=s,a=Ab(Yd,t);return n.jsx(G.span,{"data-state":Jd(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:e})});Kd.displayName=Yd;var Rb=s=>{const{control:e,checked:t,bubbles:r=!0,...a}=s,o=f.useRef(null),i=Xn(t),l=An(e);return f.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==t&&m){const h=new Event("click",{bubbles:r});m.call(c,t),c.dispatchEvent(h)}},[i,t,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...a,tabIndex:-1,ref:o,style:{...s.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Jd(s){return s?"checked":"unchecked"}var Xd=Gd,Ob=Kd;const Dt=f.forwardRef(({className:s,...e},t)=>n.jsx(Xd,{className:L("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...e,ref:t,children:n.jsx(Ob,{className:L("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Dt.displayName=Xd.displayName;var Wo="Radio",[Db,Qd]=ht(Wo),[Mb,Ib]=Db(Wo),Zd=f.forwardRef((s,e)=>{const{__scopeRadio:t,name:r,checked:a=!1,required:o,disabled:i,value:l="on",onCheck:c,form:d,...u}=s,[m,h]=f.useState(null),g=te(e,x=>h(x)),v=f.useRef(!1),p=m?d||!!m.closest("form"):!0;return n.jsxs(Mb,{scope:t,checked:a,disabled:i,children:[n.jsx(G.button,{type:"button",role:"radio","aria-checked":a,"data-state":su(a),"data-disabled":i?"":void 0,disabled:i,value:l,...u,ref:g,onClick:$(s.onClick,x=>{a||c==null||c(),p&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),p&&n.jsx(Lb,{control:m,bubbles:!v.current,name:r,value:l,checked:a,required:o,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});Zd.displayName=Wo;var eu="RadioIndicator",tu=f.forwardRef((s,e)=>{const{__scopeRadio:t,forceMount:r,...a}=s,o=Ib(eu,t);return n.jsx(ss,{present:r||o.checked,children:n.jsx(G.span,{"data-state":su(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:e})})});tu.displayName=eu;var Lb=s=>{const{control:e,checked:t,bubbles:r=!0,...a}=s,o=f.useRef(null),i=Xn(t),l=An(e);return f.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==t&&m){const h=new Event("click",{bubbles:r});m.call(c,t),c.dispatchEvent(h)}},[i,t,r]),n.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...a,tabIndex:-1,ref:o,style:{...s.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function su(s){return s?"checked":"unchecked"}var $b=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Go="RadioGroup",[Fb,e1]=ht(Go,[wl,Qd]),ru=wl(),nu=Qd(),[Ub,zb]=Fb(Go),au=f.forwardRef((s,e)=>{const{__scopeRadioGroup:t,name:r,defaultValue:a,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:m,...h}=s,g=ru(t),v=jn(d),[p,x]=qt({prop:o,defaultProp:a,onChange:m});return n.jsx(Ub,{scope:t,name:r,required:i,disabled:l,value:p,onValueChange:x,children:n.jsx(Zh,{asChild:!0,...g,orientation:c,dir:v,loop:u,children:n.jsx(G.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...h,ref:e})})})});au.displayName=Go;var ou="RadioGroupItem",iu=f.forwardRef((s,e)=>{const{__scopeRadioGroup:t,disabled:r,...a}=s,o=zb(ou,t),i=o.disabled||r,l=ru(t),c=nu(t),d=f.useRef(null),u=te(e,d),m=o.value===a.value,h=f.useRef(!1);return f.useEffect(()=>{const g=p=>{$b.includes(p.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),n.jsx(ef,{asChild:!0,...l,focusable:!i,active:m,children:n.jsx(Zd,{disabled:i,required:o.required,checked:m,...c,...a,name:o.name,ref:u,onCheck:()=>o.onValueChange(a.value),onKeyDown:$(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:$(a.onFocus,()=>{var g;h.current&&((g=d.current)==null||g.click())})})})});iu.displayName=ou;var Bb="RadioGroupIndicator",lu=f.forwardRef((s,e)=>{const{__scopeRadioGroup:t,...r}=s,a=nu(t);return n.jsx(tu,{...a,...r,ref:e})});lu.displayName=Bb;var cu=au,du=iu,Hb=lu;const uu=f.forwardRef(({className:s,...e},t)=>n.jsx(cu,{className:L("grid gap-2",s),...e,ref:t}));uu.displayName=cu.displayName;const Wa=f.forwardRef(({className:s,...e},t)=>n.jsx(du,{ref:t,className:L("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...e,children:n.jsx(Hb,{className:"flex items-center justify-center",children:n.jsx(zf,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Wa.displayName=du.displayName;var Vb=[" ","Enter","ArrowUp","ArrowDown"],qb=[" ","Enter"],Ur="Select",[Qn,Zn,Wb]=to(Ur),[ar,t1]=ht(Ur,[Wb,Rn]),ea=Rn(),[Gb,ns]=ar(Ur),[Yb,Kb]=ar(Ur),hu=s=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:h,required:g,form:v}=s,p=ea(e),[x,b]=f.useState(null),[y,w]=f.useState(null),[S,j]=f.useState(!1),_=jn(d),[k=!1,N]=qt({prop:r,defaultProp:a,onChange:o}),[C,P]=qt({prop:i,defaultProp:l,onChange:c}),A=f.useRef(null),R=x?v||!!x.closest("form"):!0,[z,O]=f.useState(new Set),B=Array.from(z).map(M=>M.props.value).join(";");return n.jsx(Oc,{...p,children:n.jsxs(Gb,{required:g,scope:e,trigger:x,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Rr(),value:C,onValueChange:P,open:k,onOpenChange:N,dir:_,triggerPointerDownPosRef:A,disabled:h,children:[n.jsx(Qn.Provider,{scope:e,children:n.jsx(Yb,{scope:s.__scopeSelect,onNativeOptionAdd:f.useCallback(M=>{O(F=>new Set(F).add(M))},[]),onNativeOptionRemove:f.useCallback(M=>{O(F=>{const T=new Set(F);return T.delete(M),T})},[]),children:t})}),R?n.jsxs(Lu,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:m,value:C,onChange:M=>P(M.target.value),disabled:h,form:v,children:[C===void 0?n.jsx("option",{value:""}):null,Array.from(z)]},B):null]})})};hu.displayName=Ur;var fu="SelectTrigger",mu=f.forwardRef((s,e)=>{const{__scopeSelect:t,disabled:r=!1,...a}=s,o=ea(t),i=ns(fu,t),l=i.disabled||r,c=te(e,i.onTriggerChange),d=Zn(t),u=f.useRef("touch"),[m,h,g]=$u(p=>{const x=d().filter(w=>!w.disabled),b=x.find(w=>w.value===i.value),y=Fu(x,p,b);y!==void 0&&i.onValueChange(y.value)}),v=p=>{l||(i.onOpenChange(!0),g()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return n.jsx(Dc,{asChild:!0,...o,children:n.jsx(G.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Iu(i.value)?"":void 0,...a,ref:c,onClick:$(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&v(p)}),onPointerDown:$(a.onPointerDown,p=>{u.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:$(a.onKeyDown,p=>{const x=m.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&Vb.includes(p.key)&&(v(),p.preventDefault())})})})});mu.displayName=fu;var pu="SelectValue",gu=f.forwardRef((s,e)=>{const{__scopeSelect:t,className:r,style:a,children:o,placeholder:i="",...l}=s,c=ns(pu,t),{onValueNodeHasChildrenChange:d}=c,u=o!==void 0,m=te(e,c.onValueNodeChange);return Le(()=>{d(u)},[d,u]),n.jsx(G.span,{...l,ref:m,style:{pointerEvents:"none"},children:Iu(c.value)?n.jsx(n.Fragment,{children:i}):o})});gu.displayName=pu;var Jb="SelectIcon",vu=f.forwardRef((s,e)=>{const{__scopeSelect:t,children:r,...a}=s;return n.jsx(G.span,{"aria-hidden":!0,...a,ref:e,children:r||""})});vu.displayName=Jb;var Xb="SelectPortal",xu=s=>n.jsx(il,{asChild:!0,...s});xu.displayName=Xb;var ys="SelectContent",yu=f.forwardRef((s,e)=>{const t=ns(ys,s.__scopeSelect),[r,a]=f.useState();if(Le(()=>{a(new DocumentFragment)},[]),!t.open){const o=r;return o?Or.createPortal(n.jsx(wu,{scope:s.__scopeSelect,children:n.jsx(Qn.Slot,{scope:s.__scopeSelect,children:n.jsx("div",{children:s.children})})}),o):null}return n.jsx(bu,{...s,ref:e})});yu.displayName=ys;var Xe=10,[wu,as]=ar(ys),Qb="SelectContentImpl",bu=f.forwardRef((s,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:x,...b}=s,y=ns(ys,t),[w,S]=f.useState(null),[j,_]=f.useState(null),k=te(e,V=>S(V)),[N,C]=f.useState(null),[P,A]=f.useState(null),R=Zn(t),[z,O]=f.useState(!1),B=f.useRef(!1);f.useEffect(()=>{if(w)return tf(w)},[w]),sf();const M=f.useCallback(V=>{const[ne,...xe]=R().map(re=>re.ref.current),[se]=xe.slice(-1),oe=document.activeElement;for(const re of V)if(re===oe||(re==null||re.scrollIntoView({block:"nearest"}),re===ne&&j&&(j.scrollTop=0),re===se&&j&&(j.scrollTop=j.scrollHeight),re==null||re.focus(),document.activeElement!==oe))return},[R,j]),F=f.useCallback(()=>M([N,w]),[M,N,w]);f.useEffect(()=>{z&&F()},[z,F]);const{onOpenChange:T,triggerPointerDownPosRef:U}=y;f.useEffect(()=>{if(w){let V={x:0,y:0};const ne=se=>{var oe,re;V={x:Math.abs(Math.round(se.pageX)-(((oe=U.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(se.pageY)-(((re=U.current)==null?void 0:re.y)??0))}},xe=se=>{V.x<=10&&V.y<=10?se.preventDefault():w.contains(se.target)||T(!1),document.removeEventListener("pointermove",ne),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",xe,{capture:!0})}}},[w,T,U]),f.useEffect(()=>{const V=()=>T(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[T]);const[ge,H]=$u(V=>{const ne=R().filter(oe=>!oe.disabled),xe=ne.find(oe=>oe.ref.current===document.activeElement),se=Fu(ne,V,xe);se&&setTimeout(()=>se.ref.current.focus())}),Z=f.useCallback((V,ne,xe)=>{const se=!B.current&&!xe;(y.value!==void 0&&y.value===ne||se)&&(C(V),se&&(B.current=!0))},[y.value]),ee=f.useCallback(()=>w==null?void 0:w.focus(),[w]),ve=f.useCallback((V,ne,xe)=>{const se=!B.current&&!xe;(y.value!==void 0&&y.value===ne||se)&&A(V)},[y.value]),Oe=r==="popper"?Ga:ju,de=Oe===Ga?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:x}:{};return n.jsx(wu,{scope:t,content:w,viewport:j,onViewportChange:_,itemRefCallback:Z,selectedItem:N,onItemLeave:ee,itemTextRefCallback:ve,focusSelectedItem:F,selectedItemText:P,position:r,isPositioned:z,searchRef:ge,children:n.jsx(rf,{as:fl,allowPinchZoom:!0,children:n.jsx(nf,{asChild:!0,trapped:y.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:$(a,V=>{var ne;(ne=y.trigger)==null||ne.focus({preventScroll:!0}),V.preventDefault()}),children:n.jsx(ll,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:n.jsx(Oe,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:V=>V.preventDefault(),...b,...de,onPlaced:()=>O(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:$(b.onKeyDown,V=>{const ne=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!ne&&V.key.length===1&&H(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let se=R().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(V.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const oe=V.target,re=se.indexOf(oe);se=se.slice(re+1)}setTimeout(()=>M(se)),V.preventDefault()}})})})})})})});bu.displayName=Qb;var Zb="SelectItemAlignedPosition",ju=f.forwardRef((s,e)=>{const{__scopeSelect:t,onPlaced:r,...a}=s,o=ns(ys,t),i=as(ys,t),[l,c]=f.useState(null),[d,u]=f.useState(null),m=te(e,k=>u(k)),h=Zn(t),g=f.useRef(!1),v=f.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:b,focusSelectedItem:y}=i,w=f.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&p&&x&&b){const k=o.trigger.getBoundingClientRect(),N=d.getBoundingClientRect(),C=o.valueNode.getBoundingClientRect(),P=b.getBoundingClientRect();if(o.dir!=="rtl"){const oe=P.left-N.left,re=C.left-oe,Pe=k.left-re,$e=k.width+Pe,_t=Math.max($e,N.width),We=window.innerWidth-Xe,os=Cr(re,[Xe,Math.max(Xe,We-_t)]);l.style.minWidth=$e+"px",l.style.left=os+"px"}else{const oe=N.right-P.right,re=window.innerWidth-C.right-oe,Pe=window.innerWidth-k.right-re,$e=k.width+Pe,_t=Math.max($e,N.width),We=window.innerWidth-Xe,os=Cr(re,[Xe,Math.max(Xe,We-_t)]);l.style.minWidth=$e+"px",l.style.right=os+"px"}const A=h(),R=window.innerHeight-Xe*2,z=p.scrollHeight,O=window.getComputedStyle(d),B=parseInt(O.borderTopWidth,10),M=parseInt(O.paddingTop,10),F=parseInt(O.borderBottomWidth,10),T=parseInt(O.paddingBottom,10),U=B+M+z+T+F,ge=Math.min(x.offsetHeight*5,U),H=window.getComputedStyle(p),Z=parseInt(H.paddingTop,10),ee=parseInt(H.paddingBottom,10),ve=k.top+k.height/2-Xe,Oe=R-ve,de=x.offsetHeight/2,V=x.offsetTop+de,ne=B+M+V,xe=U-ne;if(ne<=ve){const oe=A.length>0&&x===A[A.length-1].ref.current;l.style.bottom="0px";const re=d.clientHeight-p.offsetTop-p.offsetHeight,Pe=Math.max(Oe,de+(oe?ee:0)+re+F),$e=ne+Pe;l.style.height=$e+"px"}else{const oe=A.length>0&&x===A[0].ref.current;l.style.top="0px";const Pe=Math.max(ve,B+p.offsetTop+(oe?Z:0)+de)+xe;l.style.height=Pe+"px",p.scrollTop=ne-ve+p.offsetTop}l.style.margin=`${Xe}px 0`,l.style.minHeight=ge+"px",l.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,o.trigger,o.valueNode,l,d,p,x,b,o.dir,r]);Le(()=>w(),[w]);const[S,j]=f.useState();Le(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const _=f.useCallback(k=>{k&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return n.jsx(t0,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:_,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:n.jsx(G.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});ju.displayName=Zb;var e0="SelectPopperPosition",Ga=f.forwardRef((s,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:a=Xe,...o}=s,i=ea(t);return n.jsx(Mc,{...i,...o,ref:e,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ga.displayName=e0;var[t0,Yo]=ar(ys,{}),Ya="SelectViewport",Su=f.forwardRef((s,e)=>{const{__scopeSelect:t,nonce:r,...a}=s,o=as(Ya,t),i=Yo(Ya,t),l=te(e,o.onViewportChange),c=f.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(Qn.Slot,{scope:t,children:n.jsx(G.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:$(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&m){const g=Math.abs(c.current-u.scrollTop);if(g>0){const v=window.innerHeight-Xe*2,p=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),b=Math.max(p,x);if(b<v){const y=b+g,w=Math.min(v,y),S=y-w;m.style.height=w+"px",m.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Su.displayName=Ya;var _u="SelectGroup",[s0,r0]=ar(_u),n0=f.forwardRef((s,e)=>{const{__scopeSelect:t,...r}=s,a=Rr();return n.jsx(s0,{scope:t,id:a,children:n.jsx(G.div,{role:"group","aria-labelledby":a,...r,ref:e})})});n0.displayName=_u;var Nu="SelectLabel",ku=f.forwardRef((s,e)=>{const{__scopeSelect:t,...r}=s,a=r0(Nu,t);return n.jsx(G.div,{id:a.id,...r,ref:e})});ku.displayName=Nu;var bn="SelectItem",[a0,Eu]=ar(bn),Cu=f.forwardRef((s,e)=>{const{__scopeSelect:t,value:r,disabled:a=!1,textValue:o,...i}=s,l=ns(bn,t),c=as(bn,t),d=l.value===r,[u,m]=f.useState(o??""),[h,g]=f.useState(!1),v=te(e,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,r,a)}),p=Rr(),x=f.useRef("touch"),b=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(a0,{scope:t,value:r,disabled:a,textId:p,isSelected:d,onItemTextChange:f.useCallback(y=>{m(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:n.jsx(Qn.ItemSlot,{scope:t,value:r,disabled:a,textValue:u,children:n.jsx(G.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:v,onFocus:$(i.onFocus,()=>g(!0)),onBlur:$(i.onBlur,()=>g(!1)),onClick:$(i.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:$(i.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:$(i.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:$(i.onPointerMove,y=>{var w;x.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$(i.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:$(i.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(qb.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});Cu.displayName=bn;var fr="SelectItemText",Pu=f.forwardRef((s,e)=>{const{__scopeSelect:t,className:r,style:a,...o}=s,i=ns(fr,t),l=as(fr,t),c=Eu(fr,t),d=Kb(fr,t),[u,m]=f.useState(null),h=te(e,b=>m(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),g=u==null?void 0:u.textContent,v=f.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=d;return Le(()=>(p(v),()=>x(v)),[p,x,v]),n.jsxs(n.Fragment,{children:[n.jsx(G.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Or.createPortal(o.children,i.valueNode):null]})});Pu.displayName=fr;var Tu="SelectItemIndicator",Au=f.forwardRef((s,e)=>{const{__scopeSelect:t,...r}=s;return Eu(Tu,t).isSelected?n.jsx(G.span,{"aria-hidden":!0,...r,ref:e}):null});Au.displayName=Tu;var Ka="SelectScrollUpButton",Ru=f.forwardRef((s,e)=>{const t=as(Ka,s.__scopeSelect),r=Yo(Ka,s.__scopeSelect),[a,o]=f.useState(!1),i=te(e,r.onScrollButtonChange);return Le(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),a?n.jsx(Du,{...s,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Ru.displayName=Ka;var Ja="SelectScrollDownButton",Ou=f.forwardRef((s,e)=>{const t=as(Ja,s.__scopeSelect),r=Yo(Ja,s.__scopeSelect),[a,o]=f.useState(!1),i=te(e,r.onScrollButtonChange);return Le(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;o(u)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),a?n.jsx(Du,{...s,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Ou.displayName=Ja;var Du=f.forwardRef((s,e)=>{const{__scopeSelect:t,onAutoScroll:r,...a}=s,o=as("SelectScrollButton",t),i=f.useRef(null),l=Zn(t),c=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),Le(()=>{var u;const d=l().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(G.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:$(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:$(a.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:$(a.onPointerLeave,()=>{c()})})}),o0="SelectSeparator",Mu=f.forwardRef((s,e)=>{const{__scopeSelect:t,...r}=s;return n.jsx(G.div,{"aria-hidden":!0,...r,ref:e})});Mu.displayName=o0;var Xa="SelectArrow",i0=f.forwardRef((s,e)=>{const{__scopeSelect:t,...r}=s,a=ea(t),o=ns(Xa,t),i=as(Xa,t);return o.open&&i.position==="popper"?n.jsx(Ic,{...a,...r,ref:e}):null});i0.displayName=Xa;function Iu(s){return s===""||s===void 0}var Lu=f.forwardRef((s,e)=>{const{value:t,...r}=s,a=f.useRef(null),o=te(e,a),i=Xn(t);return f.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&u){const m=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(m)}},[i,t]),n.jsx(Dr,{asChild:!0,children:n.jsx("select",{...r,ref:o,defaultValue:t})})});Lu.displayName="BubbleSelect";function $u(s){const e=He(s),t=f.useRef(""),r=f.useRef(0),a=f.useCallback(i=>{const l=t.current+i;e(l),function c(d){t.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=f.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,a,o]}function Fu(s,e,t){const a=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=t?s.indexOf(t):-1;let i=l0(s,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==t));const c=i.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==t?c:void 0}function l0(s,e){return s.map((t,r)=>s[(e+r)%s.length])}var c0=hu,Uu=mu,d0=gu,u0=vu,h0=xu,zu=yu,f0=Su,Bu=ku,Hu=Cu,m0=Pu,p0=Au,Vu=Ru,qu=Ou,Wu=Mu;const ja=c0,Sa=d0,rn=f.forwardRef(({className:s,children:e,...t},r)=>n.jsxs(Uu,{ref:r,className:L("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[e,n.jsx(u0,{asChild:!0,children:n.jsx(mo,{className:"h-4 w-4 opacity-50"})})]}));rn.displayName=Uu.displayName;const Gu=f.forwardRef(({className:s,...e},t)=>n.jsx(Vu,{ref:t,className:L("flex cursor-default items-center justify-center py-1",s),...e,children:n.jsx(Gl,{className:"h-4 w-4"})}));Gu.displayName=Vu.displayName;const Yu=f.forwardRef(({className:s,...e},t)=>n.jsx(qu,{ref:t,className:L("flex cursor-default items-center justify-center py-1",s),...e,children:n.jsx(mo,{className:"h-4 w-4"})}));Yu.displayName=qu.displayName;const nn=f.forwardRef(({className:s,children:e,position:t="popper",...r},a)=>n.jsx(h0,{children:n.jsxs(zu,{ref:a,className:L("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...r,children:[n.jsx(Gu,{}),n.jsx(f0,{className:L("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),n.jsx(Yu,{})]})}));nn.displayName=zu.displayName;const g0=f.forwardRef(({className:s,...e},t)=>n.jsx(Bu,{ref:t,className:L("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...e}));g0.displayName=Bu.displayName;const vt=f.forwardRef(({className:s,children:e,...t},r)=>n.jsxs(Hu,{ref:r,className:L("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(p0,{children:n.jsx(kn,{className:"h-4 w-4"})})}),n.jsx(m0,{children:e})]}));vt.displayName=Hu.displayName;const v0=f.forwardRef(({className:s,...e},t)=>n.jsx(Wu,{ref:t,className:L("-mx-1 my-1 h-px bg-muted",s),...e}));v0.displayName=Wu.displayName;const x0=({isSearching:s,locationResults:e,handleLocationSelect:t,resultsContainerRef:r})=>!e.length&&!s?n.jsx("div",{ref:r,className:"absolute z-50 w-full mt-1 bg-popover rounded-md border shadow-md",children:n.jsx("div",{className:"p-4 text-center",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:"No locations found"})})}):n.jsx("div",{ref:r,className:"absolute z-50 w-full mt-1 bg-popover rounded-md border shadow-md",children:s?n.jsxs("div",{className:"p-4 text-center",children:[n.jsx(po,{className:"h-4 w-4 animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Searching locations..."})]}):n.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:e.map(a=>n.jsxs("div",{onClick:()=>t(a),className:"relative flex cursor-pointer select-none items-center px-4 py-3 text-sm outline-none hover:bg-muted/50 border-b last:border-b-0",children:[n.jsx(Zs,{className:"mr-2 h-4 w-4 flex-shrink-0"}),n.jsxs("div",{className:"flex flex-col overflow-hidden",children:[n.jsx("span",{className:"font-medium truncate",children:a.name}),a.id!=="custom"&&n.jsx("span",{className:"text-xs text-muted-foreground truncate",children:a.address})]})]},a.id))})}),y0=({isLocating:s,setIsLocating:e,onLocationDetected:t})=>{const{toast:r}=Ke(),a=()=>{if(e(!0),!navigator.geolocation){r({title:"Geolocation not supported",description:"Your browser doesn't support geolocation",variant:"destructive"}),e(!1);return}navigator.geolocation.getCurrentPosition(async o=>{try{const{latitude:i,longitude:l}=o.coords;await new Promise(d=>setTimeout(d,800)),t("1002 Farm Lane, West Chester, PA 19383"),r({title:"Location detected",description:"Your current location has been set"})}catch{r({title:"Location error",description:"Could not determine your location",variant:"destructive"})}finally{e(!1)}},o=>{console.error("Geolocation error:",o);let i="Could not determine your location";o.code===1&&(i="Location permission denied"),r({title:"Location error",description:i,variant:"destructive"}),e(!1)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})};return n.jsx(I,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8",onClick:a,disabled:s,children:s?n.jsx(po,{className:"h-4 w-4 animate-spin"}):n.jsx(Qf,{className:"h-4 w-4"})})},w0=[{city:"West Chester",state:"PA"},{city:"Philadelphia",state:"PA"},{city:"New York",state:"NY"},{city:"Boston",state:"MA"},{city:"Chicago",state:"IL"},{city:"San Francisco",state:"CA"},{city:"Los Angeles",state:"CA"},{city:"Miami",state:"FL"},{city:"Seattle",state:"WA"},{city:"Denver",state:"CO"},{city:"Austin",state:"TX"},{city:"Portland",state:"OR"},{city:"Washington",state:"DC"},{city:"Nashville",state:"TN"},{city:"Atlanta",state:"GA"}],b0=s=>w0.filter(e=>`${e.city} ${e.state}`.toLowerCase().includes(s.toLowerCase())).map((e,t)=>({id:`city-${t}`,name:e.city,address:`${e.city}, ${e.state}`,placeId:`place_city_${t}`})),j0=s=>{const e=[];return[{city:`${s.charAt(0).toUpperCase()+s.slice(1)}ville`,state:"PA"},{city:`${s.charAt(0).toUpperCase()+s.slice(1)} Springs`,state:"CO"},{city:`${s.charAt(0).toUpperCase()+s.slice(1)}town`,state:"NY"}].forEach((r,a)=>{e.push({id:`gen-town-${a}`,name:r.city,address:`${r.city}, ${r.state}`,placeId:`place_gen_${a}`})}),e},S0=s=>({id:"custom",name:`Use "${s}"`,address:s,placeId:`custom_${Math.random().toString(36).substring(2,10)}`}),Ku=({location:s,onLocationChange:e})=>{const[t,r]=f.useState(s||""),[a,o]=f.useState(!1),[i,l]=f.useState([]),[c,d]=f.useState(!1),[u,m]=f.useState(!1),{toast:h}=Ke(),g=f.useRef(null),v=f.useRef(null);f.useEffect(()=>{r(s)},[s]),f.useEffect(()=>{const y=async()=>{if(!t||t.trim().length<2){l([]);return}o(!0);try{await new Promise(N=>setTimeout(N,300));const S=t.toLowerCase(),j=S0(t),_=b0(S);let k;_.length>0?k=[j,..._]:k=[j,...j0(S)],l(k),k.length>0&&d(!0)}catch(S){console.error("Error searching for locations:",S),h({title:"Search error",description:"Could not search for locations",variant:"destructive"}),l([])}finally{o(!1)}},w=setTimeout(()=>{y()},300);return()=>clearTimeout(w)},[t,h]);const p=y=>{e(y.address),r(y.address),d(!1),v.current&&v.current.focus()},x=y=>{const w=y.target.value;r(w),e(w),w.trim().length>1?d(!0):d(!1)},b=y=>{e(y),r(y),d(!1)};return f.useEffect(()=>{const y=w=>{g.current&&!g.current.contains(w.target)&&v.current&&!v.current.contains(w.target)&&d(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium",children:"Location"}),n.jsxs("div",{className:"relative",children:[n.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(_e,{ref:v,placeholder:"Enter a city or town",value:t,className:"pl-9 pr-10",onChange:x,onFocus:()=>{t.trim().length>1&&i.length>0&&d(!0)},onClick:()=>{t.trim().length>1&&i.length>0&&d(!0)}}),n.jsx(y0,{isLocating:u,setIsLocating:m,onLocationDetected:b}),c&&n.jsx(x0,{isSearching:a,locationResults:i,handleLocationSelect:p,resultsContainerRef:g})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter a city or town, or use your current location"})]})},Ju=({eventData:s,onDataChange:e,onBack:t,onNext:r})=>{const{toast:a}=Ke(),[o,i]=f.useState(!1),[l,c]=f.useState(s.externalTicketLink||""),[d,u]=f.useState(""),m=p=>{e("isPaid",p)},h=p=>{e("location",p)},g=p=>{e("ticketType",p),p==="external"&&i(!0)},v=()=>{if(!l.trim()){u("External ticket link is required");return}try{new URL(l),u(""),e("externalTicketLink",l),i(!1),a({title:"External link saved",description:"The external ticket link has been saved."})}catch{u("Please enter a valid URL (e.g., https://example.com)")}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium",children:"Description"}),n.jsx(Jn,{placeholder:"Describe your event",rows:4,value:s.description,onChange:p=>e("description",p.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"partyType",children:"What type of party?"}),n.jsxs(ja,{value:s.type||"",onValueChange:p=>e("type",p),children:[n.jsx(rn,{children:n.jsx(Sa,{placeholder:"Select party type"})}),n.jsx(nn,{children:Kn.map(p=>n.jsx(vt,{value:p.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:p.icon}),n.jsx("span",{children:p.name})]})},p.id))})]})]}),n.jsx(Ku,{location:s.location,onLocationChange:h}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium",children:"Date & Time"}),n.jsx(_e,{type:"datetime-local",value:s.date,onChange:p=>e("date",p.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"ticketLimit",children:"Ticket Limit (optional)"}),n.jsx(_e,{id:"ticketLimit",type:"number",min:"1",placeholder:"e.g., 50",value:s.ticketLimit||"",onChange:p=>e("ticketLimit",p.target.value)})]}),n.jsxs("div",{className:"border-t my-6 pt-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Dt,{id:"isPaid",checked:s.isPaid,onCheckedChange:m}),n.jsx(ae,{htmlFor:"isPaid",className:"font-medium",children:"This is a paid event"})]})}),s.isPaid&&n.jsxs("div",{className:"space-y-4 bg-muted/30 p-4 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-sm text-muted-foreground",children:"Payment Details"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"price",children:"Price Per Person"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:"$"}),n.jsx(_e,{id:"price",type:"number",min:"0.00",step:"0.01",className:"pl-8",placeholder:"0.00",value:s.price||"",onChange:p=>e("price",p.target.value)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"salesDeadline",children:"Sales Deadline"}),n.jsxs(ja,{value:s.salesDeadline||"",onValueChange:p=>e("salesDeadline",p),children:[n.jsx(rn,{children:n.jsx(Sa,{placeholder:"Select deadline"})}),n.jsxs(nn,{children:[n.jsx(vt,{value:"1hour",children:"1 hour before event"}),n.jsx(vt,{value:"2hours",children:"2 hours before event"}),n.jsx(vt,{value:"1day",children:"1 day before event"}),n.jsx(vt,{value:"untilStart",children:"Until event starts"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Ticket Type"}),n.jsxs(uu,{value:s.ticketType||"digital",onValueChange:p=>g(p),children:[n.jsxs("div",{className:"flex items-center space-x-2 py-2",children:[n.jsx(Wa,{value:"digital",id:"digital"}),n.jsx(ae,{htmlFor:"digital",children:"Digital QR Pass (auto-generated)"})]}),n.jsxs("div",{className:"flex items-center space-x-2 py-2",children:[n.jsx(Wa,{value:"external",id:"external"}),n.jsx(ae,{htmlFor:"external",children:"External Link"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"refundPolicy",children:"Refund Policy (Optional)"}),n.jsxs(ja,{value:s.refundPolicy||"",onValueChange:p=>e("refundPolicy",p),children:[n.jsx(rn,{children:n.jsx(Sa,{placeholder:"Select refund policy"})}),n.jsxs(nn,{children:[n.jsx(vt,{value:"none",children:"No refunds"}),n.jsx(vt,{value:"24hours",children:"Up to 24 hours before event"}),n.jsx(vt,{value:"48hours",children:"Up to 48 hours before event"})]})]})]})]})]}),n.jsx("div",{className:"pt-4",children:n.jsx(I,{onClick:r,className:"w-full",children:"Continue to Photos"})}),n.jsx(xs,{open:o,onOpenChange:p=>{!p&&!s.externalTicketLink&&s.ticketType==="external"&&e("ticketType","digital"),i(p)},children:n.jsxs(Xt,{className:"sm:max-w-md",children:[n.jsxs(Qt,{children:[n.jsx(Zt,{children:"Add External Ticket Link"}),n.jsx(Xs,{children:"Enter the URL where attendees can purchase tickets for your event."})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"externalLink",children:"Ticket Link URL"}),n.jsx(_e,{id:"externalLink",type:"text",placeholder:"https://...",value:l,onChange:p=>{c(p.target.value),d&&u("")}}),d&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:d})]})}),n.jsxs(Er,{children:[n.jsx(I,{type:"button",onClick:()=>{i(!1),!s.externalTicketLink&&s.ticketType==="external"&&e("ticketType","digital")},variant:"outline",children:"Cancel"}),n.jsx(I,{type:"button",onClick:v,children:"Save Link"})]})]})})]})},_0=()=>{const{eventId:s}=lo(),e=we(),{toast:t}=Ke(),{user:r}=qe(),[a,o]=f.useState(null),[i,l]=f.useState(!0),[c,d]=f.useState({type:"",name:"",description:"",location:"",date:"",isPaid:!1,price:"",ticketLimit:"",images:[]});f.useEffect(()=>{(async()=>{var v,p;try{l(!0);const{data:x,error:b}=await q.from("events").select("*").eq("id",s).single();if(b){console.error("Error fetching event:",b),t({title:"Error",description:"Failed to load event details. Please try again later.",variant:"destructive"});return}if(x){const y={...x,category:x.category,location:x.location,time:x.time,host:x.host,attendees:{count:x.attendees.count||0,max:x.attendees.max||null,ids:x.attendees.ids||[]},price:x.price,images:x.images||[],vibe:x.vibe||[],monetized:x.monetized||!1,created_at:x.created_at||new Date().toISOString(),updated_at:x.updated_at||new Date().toISOString()};o(y),d({type:y.category,name:y.title,description:y.description,location:y.location.name,date:y.time.start,isPaid:y.monetized||!1,price:((v=y.price)==null?void 0:v.amount.toString())||"",ticketLimit:((p=y.attendees.max)==null?void 0:p.toString())||"",images:y.images||[]})}}catch(x){console.error("Error fetching event:",x),t({title:"Error",description:"Failed to load event details. Please try again later.",variant:"destructive"})}finally{l(!1)}})()},[s,t]);const u=()=>{e(-1)},m=(g,v)=>{d(p=>({...p,[g]:v}))},h=async()=>{if(!(!r||!a))try{const{error:g}=await q.from("events").update({title:c.name,description:c.description,category:c.type,location:{name:c.location,address:c.location,distance:0},time:{start:c.date,end:null},attendees:{count:a.attendees.count,max:c.ticketLimit?parseInt(c.ticketLimit):null,ids:a.attendees.ids},price:c.isPaid&&c.price?{amount:parseFloat(c.price),currency:"USD"}:null,images:a.images,monetized:c.isPaid||!1,updated_at:new Date().toISOString()}).eq("id",a.id);if(g){console.error("Error updating event:",g),t({title:"Error",description:"Failed to update event. Please try again later.",variant:"destructive"});return}t({title:"Success",description:"Event updated successfully!"}),e(`/event/${a.id}`)}catch(g){console.error("Error updating event:",g),t({title:"Error",description:"Failed to update event. Please try again later.",variant:"destructive"})}};return i?n.jsx(je,{children:n.jsx("div",{className:"p-4 flex justify-center items-center min-h-[50vh]",children:n.jsx("p",{children:"Loading event details..."})})}):a?n.jsx(je,{activeTab:"events",children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(I,{variant:"ghost",size:"icon",onClick:u,className:"mr-2",children:n.jsx(wt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-2xl font-bold",children:"Edit Event"})]}),n.jsx(Ju,{eventData:c,onDataChange:m,onBack:u,onNext:h})]})}):n.jsx(je,{children:n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"Event not found"})})})})},N0=()=>{qe();const{toast:s}=Ld(),e=we(),[t,r]=f.useState(""),[a,o]=f.useState([]),[i,l]=f.useState([]),[c,d]=f.useState(!1);f.useEffect(()=>{const v=setTimeout(async()=>{if(!t.trim()){o([]),l([]);return}d(!0);try{const{data:p,error:x}=await q.from("events").select("*").or(`title.ilike.%${t}%,description.ilike.%${t}%`).order("created_at",{ascending:!1});if(x)throw x;const{data:b,error:y}=await q.from("profiles").select("*").or(`username.ilike.%${t}%,bio.ilike.%${t}%`).order("created_at",{ascending:!1});if(y)throw y;o((p==null?void 0:p.map(w=>({id:w.id,title:w.title,description:w.description,category:w.category,location:w.location,time:w.time,host:w.host,attendees:w.attendees,price:w.price,images:w.images,vibe:w.vibe,isPrivate:w.isPrivate,isVerified:w.isVerified||!1,monetized:w.monetized||!1})))||[]),l(b||[])}catch(p){console.error("Search error:",p),s({title:"Search error",description:"Failed to perform search. Please try again.",variant:"destructive"})}finally{d(!1)}},300);return()=>clearTimeout(v)},[t,s]);const u=g=>{e(`/event-type?category=${g}`)},m=g=>{e(`/event/${g}`)},h=g=>{e(`/profile/${g}`)};return n.jsx(je,{activeTab:"search",children:n.jsxs("div",{className:"p-4",children:[n.jsx("div",{className:"mb-4",children:n.jsx(_e,{type:"text",placeholder:"Search events, people, or categories...",value:t,onChange:g=>r(g.target.value),className:"w-full"})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Categories"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Kn.map(g=>n.jsx("div",{className:"p-3 bg-muted/40 rounded-lg cursor-pointer hover:bg-muted/60",onClick:()=>u(g.id),children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:g.icon}),n.jsx("span",{children:g.name})]})},g.id))})]}),c&&n.jsx("div",{className:"text-center p-4",children:n.jsx("p",{children:"Searching..."})}),!c&&a.length>0&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Events"}),n.jsx("div",{className:"space-y-2",children:a.map(g=>n.jsxs("div",{className:"p-3 bg-muted/40 rounded-lg cursor-pointer hover:bg-muted/60",onClick:()=>m(g.id),children:[n.jsx("h3",{className:"font-medium",children:g.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]},g.id))})]}),!c&&i.length>0&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"People"}),n.jsx("div",{className:"space-y-2",children:i.map(g=>{var v,p;return n.jsx("div",{className:"p-3 bg-muted/40 rounded-lg cursor-pointer hover:bg-muted/60",onClick:()=>h(g.id),children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center",children:((p=(v=g.username)==null?void 0:v[0])==null?void 0:p.toUpperCase())||"U"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:g.username||"User"}),g.bio&&n.jsx("p",{className:"text-sm text-muted-foreground",children:g.bio})]})]})},g.id)})})]}),!c&&t&&a.length===0&&i.length===0&&n.jsx("div",{className:"text-center p-4",children:n.jsx("p",{children:"No results found"})})]})]})})},k0=()=>{const s=we(),e=[{id:"concert",name:"Concert / Music Event",icon:n.jsx(Xf,{className:"h-8 w-8"}),description:"Live music performances, DJ sets, or concerts"},{id:"social",name:"Social Gathering",icon:n.jsx(xr,{className:"h-8 w-8"}),description:"Meetups, networking events, or casual get-togethers"},{id:"party",name:"Party",icon:n.jsx(Zf,{className:"h-8 w-8"}),description:"House parties, nightclub events, or celebrations"},{id:"exhibition",name:"Exhibition / Show",icon:n.jsx(Jf,{className:"h-8 w-8"}),description:"Art exhibitions, performances, or cultural shows"}],t=r=>{s(`/add-event/name?type=${r}`)};return n.jsx(je,{activeTab:"add",children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"What type of event are you creating?"}),n.jsx("p",{className:"text-muted-foreground",children:"Select the category that best describes your event."}),n.jsx("div",{className:"grid grid-cols-1 gap-4 mt-4",children:e.map(r=>n.jsx(tt,{className:"cursor-pointer hover:bg-accent transition-colors",onClick:()=>t(r.id),children:n.jsxs(st,{className:"flex items-center p-4",children:[n.jsx("div",{className:"bg-primary/10 p-3 rounded-full mr-4",children:r.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:r.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]})]})},r.id))})]})})},E0=()=>{const s=we(),[e]=jl(),t=e.get("type")||"",[r,a]=f.useState(""),{toast:o}=Ke(),i=()=>{s("/add-event")},l=()=>{if(!r.trim()){o({title:"Event name required",description:"Please enter a name for your event",variant:"destructive"});return}const c={type:t,name:r.trim()};sessionStorage.setItem("newEventData",JSON.stringify(c)),s("/add-event/details")};return n.jsx(je,{activeTab:"add",children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx(I,{variant:"ghost",size:"icon",onClick:i,className:"mr-2",children:n.jsx(wt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-2xl font-bold",children:"Name Your Event"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-muted-foreground",children:"Choose a clear, descriptive name for your event to attract attendees."}),n.jsx(_e,{placeholder:"Event name",value:r,onChange:c=>a(c.target.value),className:"text-lg",autoFocus:!0}),n.jsx("div",{className:"pt-4",children:n.jsx(I,{onClick:l,className:"w-full",children:"Continue"})})]})]})})},C0=()=>{const s=we(),[e,t]=f.useState({type:"",name:"",description:"",location:"",date:"",isPaid:!1,price:"",ticketLimit:"",salesDeadline:"",ticketType:"digital",paymentMethod:"",refundPolicy:""});f.useEffect(()=>{const i=sessionStorage.getItem("newEventData");i?t(l=>({...l,...JSON.parse(i)})):s("/add-event")},[s]);const r=()=>{s("/add-event/name")},a=()=>{sessionStorage.setItem("newEventData",JSON.stringify(e)),s("/add-event/photos")},o=(i,l)=>{t(c=>{const d={...c,[i]:l};return sessionStorage.setItem("newEventData",JSON.stringify(d)),d})};return n.jsx(je,{activeTab:"add",children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(I,{variant:"ghost",size:"icon",onClick:r,className:"mr-2",children:n.jsx(wt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-2xl font-bold",children:"Event Details"})]}),n.jsx(Ju,{eventData:e,onDataChange:o,onBack:r,onNext:a})]})})},P0=()=>{const s=we(),[e,t]=f.useState({type:"",name:"",description:"",location:"",date:"",images:[]}),[r,a]=f.useState(!1),{toast:o}=Ke();f.useEffect(()=>{const u=sessionStorage.getItem("newEventData");if(u){const m=JSON.parse(u);t(h=>({...h,...m,images:m.images||[]}))}else s("/add-event")},[s]);const i=()=>{const u={...e};sessionStorage.setItem("newEventData",JSON.stringify(u)),s("/add-event/details")},l=()=>{sessionStorage.setItem("newEventData",JSON.stringify(e)),s("/add-event/review")},c=u=>{if(!u.target.files||u.target.files.length===0)return;a(!0);const h=Array.from(u.target.files).map(g=>new Promise(v=>{const p=new FileReader;p.onloadend=()=>{v(p.result)},p.readAsDataURL(g)}));Promise.all(h).then(g=>{const v=[...e.images,...g];t(p=>({...p,images:v})),a(!1),o({title:"Images uploaded",description:`${g.length} image(s) added successfully.`})})},d=u=>{const m=e.images.filter((h,g)=>g!==u);t(h=>({...h,images:m}))};return n.jsx(je,{activeTab:"add",children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(I,{variant:"ghost",size:"icon",onClick:i,className:"mr-2",children:n.jsx(wt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-2xl font-bold",children:"Event Photos"})]}),n.jsx("p",{className:"text-muted-foreground",children:"Upload photos to showcase your event. Adding multiple images will help attract more attendees."}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[e.images.map((u,m)=>n.jsxs("div",{className:"relative aspect-square rounded-md overflow-hidden border border-gray-200",children:[n.jsx("img",{src:u,alt:`Event image ${m+1}`,className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>d(m),className:"absolute top-1 right-1 bg-black/70 text-white rounded-full p-1","aria-label":"Remove image",children:n.jsx(En,{size:14})})]},m)),n.jsxs("label",{className:`flex flex-col items-center justify-center aspect-square border-2 border-dashed 
                ${r?"bg-gray-100 border-gray-300":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"} 
                rounded-md cursor-pointer transition-colors`,children:[n.jsxs("div",{className:"flex flex-col items-center justify-center p-2 text-center",children:[n.jsx(Vf,{size:24,className:`mb-1 ${r?"text-gray-400":"text-gray-500"}`}),n.jsx("span",{className:"text-xs font-medium text-gray-500",children:r?"Uploading...":"Add Photo"})]}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:c,disabled:r})]})]}),n.jsx("div",{className:"pt-4",children:n.jsx(I,{onClick:l,className:"w-full",disabled:r,children:"Continue to Review"})})]})]})})},T0=()=>{const s=we(),{user:e}=qe(),[t,r]=f.useState({type:"",name:"",description:"",location:"",date:"",images:[],isPaid:!1,price:"",ticketLimit:"",salesDeadline:"",ticketType:"",paymentMethod:"",refundPolicy:""}),[a,o]=f.useState(!1),{toast:i}=Ke();f.useEffect(()=>{const u=sessionStorage.getItem("newEventData");if(u){const m=JSON.parse(u);r({...m,images:m.images||[]})}else s("/add-event")},[s]);const l=()=>{s("/add-event/photos")},c=u=>{try{return u?Pa(new Date(u),"EEEE, MMMM d, yyyy h:mm a"):""}catch{return u}},d=async()=>{var u,m,h,g;if(!e){i({title:"Authentication Error",description:"You must be logged in to create an event.",variant:"destructive"});return}o(!0);try{const{data:v,error:p}=await q.from("profiles").select("*").eq("id",e.id).single();if(p&&p.code!=="PGRST116")throw console.error("Error checking profile:",p),p;if(!v){const{error:j}=await q.from("profiles").insert({id:e.id,full_name:((u=e.user_metadata)==null?void 0:u.full_name)||"Anonymous",avatar_url:((m=e.user_metadata)==null?void 0:m.avatar_url)||null,updated_at:new Date().toISOString()});if(j)throw console.error("Error creating profile:",j),j}const x={title:t.name||"Untitled Event",description:t.description||"No description provided",category:t.type||"other",location:{name:t.location||"Location not specified",address:t.location||"Address not specified",distance:0},time:{start:t.date||new Date().toISOString(),end:null},host:{id:e.id,name:((h=e.user_metadata)==null?void 0:h.full_name)||"Anonymous",verified:!1,avatar:((g=e.user_metadata)==null?void 0:g.avatar_url)||null},attendees:{count:0,max:t.ticketLimit?parseInt(t.ticketLimit):null,ids:[]},price:t.isPaid&&t.price?{amount:parseFloat(t.price),currency:"USD"}:null,images:t.images||[],vibe:[],monetized:t.isPaid||!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Creating event with data:",JSON.stringify(x,null,2));const{data:b,error:y}=await q.from("events").insert(x).select().single();if(y)throw console.error("Supabase error details:",{message:y.message,details:y.details,hint:y.hint,code:y.code}),y;if(!b)throw new Error("No data returned from event creation");console.log("Event created successfully:",b);const{data:w,error:S}=await q.from("events").select("*").eq("id",b.id).single();S?console.error("Error verifying event creation:",S):console.log("Verified event data:",w),sessionStorage.removeItem("newEventData"),i({title:"Event Created",description:"Your event has been created successfully!"}),s("/profile")}catch(v){console.error("Error creating event:",v),i({title:"Error",description:"Failed to create event. Please try again later.",variant:"destructive"})}finally{o(!1)}};return n.jsx(je,{activeTab:"add",children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(I,{variant:"ghost",size:"icon",onClick:l,className:"mr-2",children:n.jsx(wt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-2xl font-bold",children:"Review Event"})]}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Please review your event details before submitting."}),n.jsxs("div",{className:"space-y-6 bg-muted/30 p-4 rounded-lg",children:[n.jsx("h2",{className:"text-xl font-bold",children:t.name}),n.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:n.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs font-medium",children:t.type.charAt(0).toUpperCase()+t.type.slice(1)})}),n.jsx("p",{className:"whitespace-pre-line",children:t.description}),n.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[n.jsx(Zs,{size:16,className:"mr-1"}),n.jsx("span",{children:t.location})]}),n.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[n.jsx(fo,{size:16,className:"mr-1"}),n.jsx("span",{children:c(t.date)})]}),t.isPaid&&n.jsxs("div",{className:"space-y-2 border-t pt-3 mt-3",children:[n.jsx("h3",{className:"font-medium text-sm",children:"Payment Details"}),n.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[n.jsx(Ws,{size:16,className:"mr-1"}),n.jsxs("span",{children:["$",parseFloat(t.price||"0").toFixed(2)," per person"]})]}),t.ticketLimit&&n.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[n.jsx(am,{size:16,className:"mr-1"}),n.jsxs("span",{children:["Limited to ",t.ticketLimit," tickets"]})]}),t.salesDeadline&&n.jsx("div",{className:"text-sm text-muted-foreground ml-5",children:n.jsxs("span",{children:["Sales end: ",t.salesDeadline==="1hour"?"1 hour before event":t.salesDeadline==="2hours"?"2 hours before event":t.salesDeadline==="1day"?"1 day before event":"When event starts"]})}),t.refundPolicy&&n.jsx("div",{className:"text-sm text-muted-foreground ml-5",children:n.jsxs("span",{children:["Refund policy: ",t.refundPolicy==="none"?"No refunds":t.refundPolicy==="24hours"?"Up to 24 hours before event":t.refundPolicy==="48hours"?"Up to 48 hours before event":"Custom policy"]})})]}),t.images&&t.images.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-2",children:"Event Photos"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:t.images.map((u,m)=>n.jsx("div",{className:"rounded-md overflow-hidden aspect-square",children:n.jsx("img",{src:u,alt:`Event preview ${m+1}`,className:"w-full h-full object-cover"})},m))})]})]}),n.jsx("div",{className:"pt-4",children:n.jsx(I,{onClick:d,className:"w-full",disabled:a,children:a?"Creating Event...":"Submit Event"})})]})})},A0=()=>{qe();const s=[];return n.jsx(je,{activeTab:"notifications",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Notifications"}),s.length>0?n.jsx("div",{className:"space-y-4",children:s.map((e,t)=>n.jsx("div",{className:"p-4 bg-muted/40 rounded-lg",children:e.message},t))}):n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"No notifications"})})]})})},R0=({avatarUrl:s,userName:e})=>{const t=js(),r=a=>a?a.charAt(0).toUpperCase():"?";return n.jsxs(es,{className:`border-4 border-background ${t?"h-20 w-20":"h-24 w-24"}`,children:[n.jsx(bs,{src:s}),n.jsx(ts,{children:r(e)})]})},O0=({userName:s,userLocation:e,userBio:t,userInterests:r,isVerified:a})=>{const o=js();return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h1",{className:`${o?"text-lg":"text-xl"} font-bold`,children:s}),a&&n.jsx(go,{className:"h-4 w-4 text-thrivvo-teal"})]}),n.jsx("p",{className:"text-muted-foreground text-xs md:text-sm mb-2",children:e}),n.jsx("p",{className:"text-xs md:text-sm mb-3 line-clamp-3 md:line-clamp-none",children:t}),(r==null?void 0:r.length)>0&&n.jsx("div",{className:"flex flex-wrap gap-1 my-2 md:my-3",children:r.map((i,l)=>n.jsx(Ne,{variant:"outline",className:"text-xs py-0",children:i},l))})]})},D0=({followers:s,following:e,onShowFollowers:t,onShowFollowing:r})=>{const a=s.length,o=e.length;return n.jsxs("div",{className:"flex items-center gap-4 text-xs md:text-sm my-2",children:[n.jsxs("div",{className:"cursor-pointer hover:underline flex items-center",onClick:t,children:[n.jsx("span",{className:"font-bold text-thrivvo-teal",children:a}),n.jsx("span",{className:"ml-1",children:"Followers"})]}),n.jsxs("div",{className:"cursor-pointer hover:underline flex items-center",onClick:r,children:[n.jsx("span",{className:"font-bold text-thrivvo-teal",children:o}),n.jsx("span",{className:"ml-1",children:"Following"})]})]})},Ji=({isCurrentUser:s,isFollowing:e,onEditProfile:t,onAccountSettings:r,onFollow:a,onMessage:o,profileName:i})=>{const l=js();return s?n.jsxs("div",{className:"flex gap-1 md:gap-2 mb-2 scale-90 md:scale-100 origin-bottom-right",children:[n.jsxs(I,{variant:"outline",className:"bg-white",size:l?"sm":"default",onClick:r,children:[n.jsx(rm,{className:"h-4 w-4 mr-1 md:mr-2"}),n.jsx("span",{className:l?"text-xs":"",children:"Account"})]}),n.jsx(I,{variant:"default",className:"bg-thrivvo-teal hover:bg-thrivvo-teal/90",size:l?"sm":"default",onClick:t,children:n.jsx("span",{className:l?"text-xs":"",children:"Edit Profile"})})]}):n.jsxs("div",{className:"flex gap-2 mt-2 md:mt-3",children:[n.jsx(I,{variant:e?"outline":"default",className:e?"bg-green-50 text-green-600 border-green-200":"bg-thrivvo-teal hover:bg-thrivvo-teal/90",size:l?"sm":"default",onClick:a,children:e?n.jsxs(n.Fragment,{children:[n.jsx(kn,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),n.jsx("span",{className:l?"text-xs":"",children:"Following"})]}):n.jsxs(n.Fragment,{children:[n.jsx(om,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),n.jsx("span",{className:l?"text-xs":"",children:"Follow"})]})}),n.jsxs(I,{variant:"outline",className:"bg-white text-foreground border-input",size:l?"sm":"default",onClick:o,children:[n.jsx(Yf,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),n.jsx("span",{className:l?"text-xs":"",children:"Message"})]})]})},M0=({profileData:s,isCurrentUser:e,isFollowing:t,followers:r,following:a,userId:o,user:i,onEditProfile:l,onAccountSettings:c,onShowFollowers:d,onShowFollowing:u,setIsFollowing:m,fetchFollowers:h,fetchFollowing:g})=>{const v=we(),p=js(),x=(s==null?void 0:s.username)||"User",b=(s==null?void 0:s.location)||"Location not set",y=(s==null?void 0:s.bio)||"No bio available",w=(s==null?void 0:s.avatar_url)||"",S=(s==null?void 0:s.interests)||[],j=(s==null?void 0:s.verified)||!1,_=async()=>{if(!(!i||!o))try{if(t)if(i.id.startsWith("user-")||o.startsWith("user-")){if(i.id.startsWith("user-")){const C=[...a].filter(P=>P.id!==o)}if(o.startsWith("user-")){const C=[...r].filter(P=>P.id!==i.id)}}else{const{error:N}=await q.from("followers").delete().eq("follower_id",i.id).eq("following_id",o);if(N)throw N;await h(o),e&&await g(i.id)}else if(!(i.id.startsWith("user-")||o.startsWith("user-"))){const{error:N}=await q.from("followers").insert({follower_id:i.id,following_id:o});if(N)throw N;await h(o),e&&await g(i.id)}m(!t),le({title:t?"Unfollowed":"Following",description:t?`You are no longer following ${(s==null?void 0:s.username)||"this user"}`:`You are now following ${(s==null?void 0:s.username)||"this user"}`})}catch(N){console.error("Error updating follow status:",N),le({title:"Error",description:"There was an error updating your follow status",variant:"destructive"})}},k=()=>{o&&v(o==="user-2"?`?message=${o}&text=Hi Sam! I wanted to chat about the upcoming events this weekend.`:`?message=${o}`)};return n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"bg-gradient-to-r from-thrivvo-teal to-thrivvo-orange/70 h-32 md:h-40"}),n.jsxs("div",{className:`px-3 md:px-4 relative ${p?"-mt-10":"-mt-12"} flex justify-between items-end`,children:[n.jsx(R0,{avatarUrl:w,userName:x}),e&&n.jsx(Ji,{isCurrentUser:e,isFollowing:t,onEditProfile:l,onAccountSettings:c,onFollow:_,onMessage:k})]}),n.jsxs("div",{className:"px-3 md:px-4 py-2",children:[n.jsx(O0,{userName:x,userLocation:b,userBio:y,userInterests:S,isVerified:j}),n.jsx(D0,{followers:r,following:a,onShowFollowers:d,onShowFollowing:u}),!e&&n.jsx(Ji,{isCurrentUser:e,isFollowing:t,onEditProfile:l,onAccountSettings:c,onFollow:_,onMessage:k,profileName:s==null?void 0:s.username}),n.jsx(Rs,{className:"my-3 md:my-4"})]})]})},I0=({userName:s,isCurrentUser:e,userId:t})=>{js();const{user:r}=qe();we(),Ke();const[a,o]=f.useState("hosted"),[i,l]=f.useState([]),[c,d]=f.useState([]),[u,m]=f.useState(!0),h=async()=>{if(r)try{const{data:v,error:p}=await q.from("events").select("*, host, attendees").eq("host->>id",r.id).order("created_at",{ascending:!1});if(p)throw p;const{data:x,error:b}=await q.from("events").select("*, host, attendees").contains("attendees->ids",`["${r.id}"]`).order("created_at",{ascending:!1});if(b)throw b;const y=(v||[]).map(S=>({...S,category:S.category,location:S.location,time:S.time,host:S.host,attendees:S.attendees,price:S.price,images:S.images||[],vibe:S.vibe||[],monetized:S.monetized||!1,created_at:S.created_at,updated_at:S.updated_at})),w=(x||[]).map(S=>({...S,category:S.category,location:S.location,time:S.time,host:S.host,attendees:S.attendees,price:S.price,images:S.images||[],vibe:S.vibe||[],monetized:S.monetized||!1,created_at:S.created_at,updated_at:S.updated_at}));l(y),d(w)}catch(v){console.error("Error fetching events:",v)}finally{m(!1)}};f.useEffect(()=>{h()},[r]);const g=v=>{l(p=>p.filter(x=>x.id!==v))};return u?n.jsx("div",{className:"p-4",children:"Loading events..."}):n.jsxs(Wn,{defaultValue:"hosted",className:"w-full",onValueChange:o,children:[n.jsx("div",{className:"flex justify-between items-center mb-4",children:n.jsxs(Fr,{className:"grid w-full grid-cols-2",children:[n.jsx(Ie,{value:"hosted",children:"Hosted Events"}),n.jsx(Ie,{value:"attending",children:"Attending Events"})]})}),n.jsx(yt,{value:"hosted",children:n.jsx(Pr,{type:"hosted",onCancelEvent:g})}),n.jsx(yt,{value:"attending",children:n.jsx(Pr,{type:"attending"})})]})},Xi=({title:s,followers:e,open:t,onOpenChange:r})=>{const a=we(),o=l=>l?l.charAt(0).toUpperCase():"?",i=l=>{const c=l.startsWith("user")&&!l.includes("-")?`user-${l.slice(4)}`:l;r(!1),a(`/profile/${c}`)};return n.jsx(xs,{open:t,onOpenChange:r,children:n.jsxs(Xt,{className:"max-w-md",children:[n.jsx(Qt,{children:n.jsx(Zt,{children:s})}),n.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:e.length>0?n.jsx("div",{className:"space-y-3 py-2",children:e.map(l=>n.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted/50 rounded-lg cursor-pointer",onClick:()=>i(l.id),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(es,{children:[n.jsx(bs,{src:l.avatar}),n.jsx(ts,{children:o(l.name)})]}),n.jsx("span",{className:"font-medium",children:l.name})]}),n.jsx(I,{variant:"ghost",size:"sm",children:"View"})]},l.id))}):n.jsxs("p",{className:"text-center text-muted-foreground py-8",children:["No ",s.toLowerCase()," yet."]})})]})})};var Xu=["PageUp","PageDown"],Qu=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Zu={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},or="Slider",[Qa,L0,$0]=to(or),[eh,s1]=ht(or,[$0]),[F0,ta]=eh(or),th=f.forwardRef((s,e)=>{const{name:t,min:r=0,max:a=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[r],value:u,onValueChange:m=()=>{},onValueCommit:h=()=>{},inverted:g=!1,form:v,...p}=s,x=f.useRef(new Set),b=f.useRef(0),w=i==="horizontal"?U0:z0,[S=[],j]=qt({prop:u,defaultProp:d,onChange:A=>{var z;(z=[...x.current][b.current])==null||z.focus(),m(A)}}),_=f.useRef(S);function k(A){const R=W0(S,A);P(A,R)}function N(A){P(A,b.current)}function C(){const A=_.current[b.current];S[b.current]!==A&&h(S)}function P(A,R,{commit:z}={commit:!1}){const O=J0(o),B=X0(Math.round((A-r)/o)*o+r,O),M=Cr(B,[r,a]);j((F=[])=>{const T=V0(F,M,R);if(K0(T,c*o)){b.current=T.indexOf(M);const U=String(T)!==String(F);return U&&z&&h(T),U?T:F}else return F})}return n.jsx(F0,{scope:s.__scopeSlider,name:t,disabled:l,min:r,max:a,valueIndexToChangeRef:b,thumbs:x.current,values:S,orientation:i,form:v,children:n.jsx(Qa.Provider,{scope:s.__scopeSlider,children:n.jsx(Qa.Slot,{scope:s.__scopeSlider,children:n.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:e,onPointerDown:$(p.onPointerDown,()=>{l||(_.current=S)}),min:r,max:a,inverted:g,onSlideStart:l?void 0:k,onSlideMove:l?void 0:N,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&P(r,0,{commit:!0}),onEndKeyDown:()=>!l&&P(a,S.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:R})=>{if(!l){const B=Xu.includes(A.key)||A.shiftKey&&Qu.includes(A.key)?10:1,M=b.current,F=S[M],T=o*B*R;P(F+T,M,{commit:!0})}}})})})})});th.displayName=or;var[sh,rh]=eh(or,{startEdge:"left",endEdge:"right",size:"width",direction:1}),U0=f.forwardRef((s,e)=>{const{min:t,max:r,dir:a,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=s,[m,h]=f.useState(null),g=te(e,w=>h(w)),v=f.useRef(),p=jn(a),x=p==="ltr",b=x&&!o||!x&&o;function y(w){const S=v.current||m.getBoundingClientRect(),j=[0,S.width],k=Ko(j,b?[t,r]:[r,t]);return v.current=S,k(w-S.left)}return n.jsx(sh,{scope:s.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:n.jsx(nh,{dir:p,"data-orientation":"horizontal",...u,ref:g,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const S=y(w.clientX);i==null||i(S)},onSlideMove:w=>{const S=y(w.clientX);l==null||l(S)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:w=>{const j=Zu[b?"from-left":"from-right"].includes(w.key);d==null||d({event:w,direction:j?-1:1})}})})}),z0=f.forwardRef((s,e)=>{const{min:t,max:r,inverted:a,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...d}=s,u=f.useRef(null),m=te(e,u),h=f.useRef(),g=!a;function v(p){const x=h.current||u.current.getBoundingClientRect(),b=[0,x.height],w=Ko(b,g?[r,t]:[t,r]);return h.current=x,w(p-x.top)}return n.jsx(sh,{scope:s.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:n.jsx(nh,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const x=v(p.clientY);o==null||o(x)},onSlideMove:p=>{const x=v(p.clientY);i==null||i(x)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const b=Zu[g?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:b?-1:1})}})})}),nh=f.forwardRef((s,e)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:a,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...d}=s,u=ta(or,t);return n.jsx(G.span,{...d,ref:e,onKeyDown:$(s.onKeyDown,m=>{m.key==="Home"?(i(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):Xu.concat(Qu).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:$(s.onPointerDown,m=>{const h=m.target;h.setPointerCapture(m.pointerId),m.preventDefault(),u.thumbs.has(h)?h.focus():r(m)}),onPointerMove:$(s.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&a(m)}),onPointerUp:$(s.onPointerUp,m=>{const h=m.target;h.hasPointerCapture(m.pointerId)&&(h.releasePointerCapture(m.pointerId),o(m))})})}),ah="SliderTrack",oh=f.forwardRef((s,e)=>{const{__scopeSlider:t,...r}=s,a=ta(ah,t);return n.jsx(G.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:e})});oh.displayName=ah;var Za="SliderRange",ih=f.forwardRef((s,e)=>{const{__scopeSlider:t,...r}=s,a=ta(Za,t),o=rh(Za,t),i=f.useRef(null),l=te(e,i),c=a.values.length,d=a.values.map(h=>ch(h,a.min,a.max)),u=c>1?Math.min(...d):0,m=100-Math.max(...d);return n.jsx(G.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:l,style:{...s.style,[o.startEdge]:u+"%",[o.endEdge]:m+"%"}})});ih.displayName=Za;var eo="SliderThumb",lh=f.forwardRef((s,e)=>{const t=L0(s.__scopeSlider),[r,a]=f.useState(null),o=te(e,l=>a(l)),i=f.useMemo(()=>r?t().findIndex(l=>l.ref.current===r):-1,[t,r]);return n.jsx(B0,{...s,ref:o,index:i})}),B0=f.forwardRef((s,e)=>{const{__scopeSlider:t,index:r,name:a,...o}=s,i=ta(eo,t),l=rh(eo,t),[c,d]=f.useState(null),u=te(e,y=>d(y)),m=c?i.form||!!c.closest("form"):!0,h=An(c),g=i.values[r],v=g===void 0?0:ch(g,i.min,i.max),p=q0(r,i.values.length),x=h==null?void 0:h[l.size],b=x?G0(x,v,l.direction):0;return f.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${b}px)`},children:[n.jsx(Qa.ItemSlot,{scope:s.__scopeSlider,children:n.jsx(G.span,{role:"slider","aria-label":s["aria-label"]||p,"aria-valuemin":i.min,"aria-valuenow":g,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:u,style:g===void 0?{display:"none"}:s.style,onFocus:$(s.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),m&&n.jsx(H0,{name:a??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:g},r)]})});lh.displayName=eo;var H0=s=>{const{value:e,...t}=s,r=f.useRef(null),a=Xn(e);return f.useEffect(()=>{const o=r.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(a!==e&&c){const d=new Event("input",{bubbles:!0});c.call(o,e),o.dispatchEvent(d)}},[a,e]),n.jsx("input",{style:{display:"none"},...t,ref:r,defaultValue:e})};function V0(s=[],e,t){const r=[...s];return r[t]=e,r.sort((a,o)=>a-o)}function ch(s,e,t){const o=100/(t-e)*(s-e);return Cr(o,[0,100])}function q0(s,e){return e>2?`Value ${s+1} of ${e}`:e===2?["Minimum","Maximum"][s]:void 0}function W0(s,e){if(s.length===1)return 0;const t=s.map(a=>Math.abs(a-e)),r=Math.min(...t);return t.indexOf(r)}function G0(s,e,t){const r=s/2,o=Ko([0,50],[0,r]);return(r-o(e)*t)*t}function Y0(s){return s.slice(0,-1).map((e,t)=>s[t+1]-e)}function K0(s,e){if(e>0){const t=Y0(s);return Math.min(...t)>=e}return!0}function Ko(s,e){return t=>{if(s[0]===s[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(s[1]-s[0]);return e[0]+r*(t-s[0])}}function J0(s){return(String(s).split(".")[1]||"").length}function X0(s,e){const t=Math.pow(10,e);return Math.round(s*t)/t}var dh=th,Q0=oh,Z0=ih,ej=lh;const Jo=f.forwardRef(({className:s,...e},t)=>n.jsxs(dh,{ref:t,className:L("relative flex w-full touch-none select-none items-center",s),...e,children:[n.jsx(Q0,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(Z0,{className:"absolute h-full bg-primary"})}),n.jsx(ej,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Jo.displayName=dh.displayName;const tj=({open:s,onOpenChange:e,currentProfile:t,onProfileUpdate:r})=>{const{user:a}=qe(),[o,i]=f.useState(!1),[l,c]=f.useState({username:"",bio:"",location:"",interests:[],distance_preference:15}),[d,u]=f.useState(null),[m,h]=f.useState(null),g=["music","food","travel","art","fitness","technology","coffee","gaming","photography","hiking","cooking","meditation","design","nutrition"];f.useEffect(()=>{t&&(c({username:t.username||"",bio:t.bio||"",location:t.location||"",interests:t.interests||[],distance_preference:t.distance_preference||15}),t.avatar_url&&h(t.avatar_url))},[t,s]);const v=S=>{const{name:j,value:_}=S.target;c(k=>({...k,[j]:_}))},p=S=>{c(j=>({...j,distance_preference:S[0]}))},x=S=>{c(j=>{const _=[...j.interests];return _.includes(S)?{...j,interests:_.filter(k=>k!==S)}:{...j,interests:[..._,S]}})},b=S=>{if(S.target.files&&S.target.files[0]){const j=S.target.files[0];u(j);const _=new FileReader;_.onload=k=>{var N;(N=k.target)!=null&&N.result&&h(k.target.result)},_.readAsDataURL(j)}},y=async()=>{if(!d||!a)return null;try{const S=d.name.split(".").pop(),j=`${a.id}-${Date.now()}.${S}`,{error:_}=await q.storage.from("avatars").upload(j,d,{upsert:!0});if(_)throw _;const{data:k}=q.storage.from("avatars").getPublicUrl(j);return k.publicUrl}catch(S){return console.error("Error uploading avatar:",S),null}},w=async()=>{if(a){i(!0);try{let S=(t==null?void 0:t.avatar_url)||null;d&&(S=await y());const{error:j}=await q.from("profiles").update({username:l.username,bio:l.bio,location:l.location,interests:l.interests,avatar_url:S,distance_preference:l.distance_preference,updated_at:new Date().toISOString()}).eq("id",a.id);if(j)throw j;await r(),e(!1),le({title:"Profile updated",description:"Your profile has been updated successfully."})}catch(S){le({title:"Error updating profile",description:S.message||"An unexpected error occurred",variant:"destructive"})}finally{i(!1)}}};return n.jsx(xs,{open:s,onOpenChange:e,children:n.jsxs(Xt,{className:"sm:max-w-md",children:[n.jsx(Qt,{children:n.jsx(Zt,{children:"Edit Profile"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[n.jsx("div",{onClick:()=>{var S;return(S=document.getElementById("profile-avatar-input"))==null?void 0:S.click()},className:"cursor-pointer",children:m?n.jsx("div",{className:"relative h-24 w-24 rounded-full overflow-hidden",children:n.jsx("img",{src:m,alt:"Avatar preview",className:"h-full w-full object-cover"})}):n.jsx("div",{className:"flex items-center justify-center w-24 h-24 bg-muted rounded-full",children:n.jsx(Ql,{className:"h-8 w-8 text-muted-foreground"})})}),n.jsx("input",{id:"profile-avatar-input",type:"file",accept:"image/*",onChange:b,className:"hidden"}),n.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>{var S;return(S=document.getElementById("profile-avatar-input"))==null?void 0:S.click()},children:m?"Change Photo":"Add Profile Photo"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"username",children:"Display Name"}),n.jsx(_e,{id:"username",name:"username",value:l.username,onChange:v})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"bio",children:"Bio"}),n.jsx(Jn,{id:"bio",name:"bio",value:l.bio,onChange:v,rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"location",children:"Location"}),n.jsx(_e,{id:"location",name:"location",value:l.location,onChange:v})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ae,{children:["Event Distance Preference (",l.distance_preference," miles)"]}),n.jsx(Jo,{value:[l.distance_preference],min:1,max:50,step:1,onValueChange:p,className:"py-4"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Only show events within ",l.distance_preference," miles of your location"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{children:"Interests"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:g.map(S=>n.jsx(Ne,{variant:l.interests.includes(S)?"default":"outline",className:"cursor-pointer",onClick:()=>x(S),children:S},S))})]})]}),n.jsxs(Er,{children:[n.jsx(I,{variant:"outline",onClick:()=>e(!1),disabled:o,children:"Cancel"}),n.jsx(I,{onClick:w,disabled:o,className:"bg-thrivvo-teal hover:bg-thrivvo-teal/90",children:o?"Saving...":"Save Changes"})]})]})})},uh=f.forwardRef(({className:s,...e},t)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:t,className:L("w-full caption-bottom text-sm",s),...e})}));uh.displayName="Table";const hh=f.forwardRef(({className:s,...e},t)=>n.jsx("thead",{ref:t,className:L("[&_tr]:border-b",s),...e}));hh.displayName="TableHeader";const fh=f.forwardRef(({className:s,...e},t)=>n.jsx("tbody",{ref:t,className:L("[&_tr:last-child]:border-0",s),...e}));fh.displayName="TableBody";const sj=f.forwardRef(({className:s,...e},t)=>n.jsx("tfoot",{ref:t,className:L("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...e}));sj.displayName="TableFooter";const an=f.forwardRef(({className:s,...e},t)=>n.jsx("tr",{ref:t,className:L("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...e}));an.displayName="TableRow";const on=f.forwardRef(({className:s,...e},t)=>n.jsx("th",{ref:t,className:L("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...e}));on.displayName="TableHead";const ds=f.forwardRef(({className:s,...e},t)=>n.jsx("td",{ref:t,className:L("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...e}));ds.displayName="TableCell";const rj=f.forwardRef(({className:s,...e},t)=>n.jsx("caption",{ref:t,className:L("mt-4 text-sm text-muted-foreground",s),...e}));rj.displayName="TableCaption";var mh="AlertDialog",[nj,r1]=ht(mh,[bl]),St=bl(),ph=s=>{const{__scopeAlertDialog:e,...t}=s,r=St(e);return n.jsx(pl,{...r,...t,modal:!0})};ph.displayName=mh;var aj="AlertDialogTrigger",oj=f.forwardRef((s,e)=>{const{__scopeAlertDialog:t,...r}=s,a=St(t);return n.jsx(gl,{...a,...r,ref:e})});oj.displayName=aj;var ij="AlertDialogPortal",gh=s=>{const{__scopeAlertDialog:e,...t}=s,r=St(e);return n.jsx(ml,{...r,...t})};gh.displayName=ij;var lj="AlertDialogOverlay",vh=f.forwardRef((s,e)=>{const{__scopeAlertDialog:t,...r}=s,a=St(t);return n.jsx(so,{...a,...r,ref:e})});vh.displayName=lj;var Is="AlertDialogContent",[cj,dj]=nj(Is),xh=f.forwardRef((s,e)=>{const{__scopeAlertDialog:t,children:r,...a}=s,o=St(t),i=f.useRef(null),l=te(e,i),c=f.useRef(null);return n.jsx(af,{contentName:Is,titleName:yh,docsSlug:"alert-dialog",children:n.jsx(cj,{scope:t,cancelRef:c,children:n.jsxs(ro,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:$(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(cl,{children:r}),n.jsx(hj,{contentRef:i})]})})})});xh.displayName=Is;var yh="AlertDialogTitle",wh=f.forwardRef((s,e)=>{const{__scopeAlertDialog:t,...r}=s,a=St(t);return n.jsx(ao,{...a,...r,ref:e})});wh.displayName=yh;var bh="AlertDialogDescription",jh=f.forwardRef((s,e)=>{const{__scopeAlertDialog:t,...r}=s,a=St(t);return n.jsx(oo,{...a,...r,ref:e})});jh.displayName=bh;var uj="AlertDialogAction",Sh=f.forwardRef((s,e)=>{const{__scopeAlertDialog:t,...r}=s,a=St(t);return n.jsx(no,{...a,...r,ref:e})});Sh.displayName=uj;var _h="AlertDialogCancel",Nh=f.forwardRef((s,e)=>{const{__scopeAlertDialog:t,...r}=s,{cancelRef:a}=dj(_h,t),o=St(t),i=te(e,a);return n.jsx(no,{...o,...r,ref:i})});Nh.displayName=_h;var hj=({contentRef:s})=>{const e=`\`${Is}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Is}\` by passing a \`${bh}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Is}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var r;document.getElementById((r=s.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,s]),null},fj=ph,mj=gh,kh=vh,Eh=xh,Ch=Sh,Ph=Nh,Th=wh,Ah=jh;const pj=fj,gj=mj,Rh=f.forwardRef(({className:s,...e},t)=>n.jsx(kh,{className:L("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...e,ref:t}));Rh.displayName=kh.displayName;const Oh=f.forwardRef(({className:s,...e},t)=>n.jsxs(gj,{children:[n.jsx(Rh,{}),n.jsx(Eh,{ref:t,className:L("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...e})]}));Oh.displayName=Eh.displayName;const Dh=({className:s,...e})=>n.jsx("div",{className:L("flex flex-col space-y-2 text-center sm:text-left",s),...e});Dh.displayName="AlertDialogHeader";const Mh=({className:s,...e})=>n.jsx("div",{className:L("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...e});Mh.displayName="AlertDialogFooter";const Ih=f.forwardRef(({className:s,...e},t)=>n.jsx(Th,{ref:t,className:L("text-lg font-semibold",s),...e}));Ih.displayName=Th.displayName;const Lh=f.forwardRef(({className:s,...e},t)=>n.jsx(Ah,{ref:t,className:L("text-sm text-muted-foreground",s),...e}));Lh.displayName=Ah.displayName;const $h=f.forwardRef(({className:s,...e},t)=>n.jsx(Ch,{ref:t,className:L(Mo(),s),...e}));$h.displayName=Ch.displayName;const Fh=f.forwardRef(({className:s,...e},t)=>n.jsx(Ph,{ref:t,className:L(Mo({variant:"outline"}),"mt-2 sm:mt-0",s),...e}));Fh.displayName=Ph.displayName;const vj=({open:s,onOpenChange:e})=>{const t=we(),[r,a]=f.useState(!1),[o,i]=f.useState(!1),[l,c]=f.useState({eventInvites:!0,newFollowers:!0,eventReminders:!0,directMessages:!0,newsAndUpdates:!1,emailNotifications:!0}),d=[],u={plan:"Thrivvo+ Basic",status:"Active",renewDate:"2025-05-15",price:"$4.99/month"},m=async()=>{i(!0);try{const{error:x}=await q.auth.signOut();if(x)throw x;le({title:"Signed out successfully",description:"You have been signed out of your account."}),e(!1),t("/auth")}catch(x){le({title:"Error signing out",description:x.message||"An unexpected error occurred",variant:"destructive"})}finally{i(!1)}},h=async()=>{i(!0);try{le({title:"Account deletion requested",description:"Your account will be deleted shortly. You'll be signed out now."}),await q.auth.signOut(),a(!1),e(!1),t("/auth")}catch(x){le({title:"Error deleting account",description:x.message||"An unexpected error occurred",variant:"destructive"})}finally{i(!1)}},g=x=>{c(b=>({...b,[x]:!b[x]})),le({title:"Notification settings updated",description:`${x} notifications have been ${l[x]?"disabled":"enabled"}.`})},v=x=>{e(!1),t(`/profile/${x}`)},p=()=>{e(!1),t("/subscription")};return n.jsxs(n.Fragment,{children:[n.jsx(xs,{open:s,onOpenChange:e,children:n.jsxs(Xt,{className:"sm:max-w-md",children:[n.jsxs(Qt,{children:[n.jsx(Zt,{children:"Account Settings"}),n.jsx(Xs,{children:"Manage your account settings and preferences"})]}),n.jsxs(Wn,{defaultValue:"general",className:"w-full",children:[n.jsxs(Fr,{className:"grid w-full grid-cols-4",children:[n.jsx(Ie,{value:"general",children:"General"}),n.jsx(Ie,{value:"notifications",children:"Notifications"}),n.jsx(Ie,{value:"contacts",children:"Contacts"}),n.jsx(Ie,{value:"subscription",children:"Subscription"})]}),n.jsxs(yt,{value:"general",className:"space-y-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between py-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gf,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Sign out of your account"})]}),n.jsx(I,{variant:"outline",size:"sm",onClick:m,disabled:o,children:"Sign Out"})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex items-center justify-between py-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xl,{className:"h-4 w-4 text-destructive"}),n.jsx("span",{className:"text-destructive",children:"Delete your account"})]}),n.jsx(I,{variant:"destructive",size:"sm",onClick:()=>a(!0),disabled:o,children:"Delete"})]})})]}),n.jsx(yt,{value:"notifications",className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between space-y-0.5",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx(ae,{htmlFor:"event-invites",className:"mb-1",children:"Event Invites"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Receive notifications when invited to events"})]}),n.jsx(Dt,{id:"event-invites",checked:l.eventInvites,onCheckedChange:()=>g("eventInvites")})]}),n.jsxs("div",{className:"flex items-center justify-between space-y-0.5",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx(ae,{htmlFor:"new-followers",className:"mb-1",children:"New Followers"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Get notified when someone follows you"})]}),n.jsx(Dt,{id:"new-followers",checked:l.newFollowers,onCheckedChange:()=>g("newFollowers")})]}),n.jsxs("div",{className:"flex items-center justify-between space-y-0.5",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx(ae,{htmlFor:"event-reminders",className:"mb-1",children:"Event Reminders"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Get reminders for upcoming events"})]}),n.jsx(Dt,{id:"event-reminders",checked:l.eventReminders,onCheckedChange:()=>g("eventReminders")})]}),n.jsxs("div",{className:"flex items-center justify-between space-y-0.5",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx(ae,{htmlFor:"direct-messages",className:"mb-1",children:"Direct Messages"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Get notified for new messages"})]}),n.jsx(Dt,{id:"direct-messages",checked:l.directMessages,onCheckedChange:()=>g("directMessages")})]}),n.jsxs("div",{className:"flex items-center justify-between space-y-0.5",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx(ae,{htmlFor:"news-updates",className:"mb-1",children:"News & Updates"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Receive news and feature updates"})]}),n.jsx(Dt,{id:"news-updates",checked:l.newsAndUpdates,onCheckedChange:()=>g("newsAndUpdates")})]}),n.jsxs("div",{className:"pt-2 border-t flex items-center justify-between space-y-0.5",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx(ae,{htmlFor:"email-notifications",className:"mb-1",children:"Email Notifications"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Receive notifications via email"})]}),n.jsx(Dt,{id:"email-notifications",checked:l.emailNotifications,onCheckedChange:()=>g("emailNotifications")})]})]})}),n.jsx(yt,{value:"contacts",className:"py-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium",children:"Recent Contacts"}),d.length>0?n.jsx("div",{className:"space-y-2",children:d.map(x=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md hover:bg-muted cursor-pointer",onClick:()=>v(x.id),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(xr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:x.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last contacted ",x.lastContact]})]})]}),n.jsx(Wl,{className:"h-4 w-4 text-muted-foreground"})]},x.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(xr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No contacts yet"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Start connecting with other users to build your network"})]})]})}),n.jsx(yt,{value:"subscription",className:"py-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-primary/5 border rounded-md p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:u.plan}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Status: ",n.jsx("span",{className:"text-green-600 font-medium",children:u.status})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Renews on ",u.renewDate]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Price: ",u.price]})]}),n.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Bf,{className:"h-5 w-5 text-primary"})})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(I,{variant:"outline",className:"w-full text-sm",onClick:p,children:"Upgrade Plan"}),n.jsx(I,{variant:"ghost",className:"w-full text-sm text-destructive hover:text-destructive",onClick:()=>{le({title:"Subscription cancelled",description:"Your subscription will remain active until the end of the billing period."})},children:"Cancel Subscription"})]}),n.jsxs("div",{className:"pt-4 border-t",children:[n.jsx("h4",{className:"text-sm font-medium mb-2",children:"Billing History"}),n.jsxs(uh,{children:[n.jsx(hh,{children:n.jsxs(an,{children:[n.jsx(on,{className:"w-[120px]",children:"Date"}),n.jsx(on,{children:"Amount"}),n.jsx(on,{className:"text-right",children:"Status"})]})}),n.jsxs(fh,{children:[n.jsxs(an,{children:[n.jsx(ds,{children:"Apr 11, 2025"}),n.jsx(ds,{children:"$4.99"}),n.jsx(ds,{className:"text-right",children:"Paid"})]}),n.jsxs(an,{children:[n.jsx(ds,{children:"Mar 11, 2025"}),n.jsx(ds,{children:"$4.99"}),n.jsx(ds,{className:"text-right",children:"Paid"})]})]})]})]})]})})]})]})}),n.jsx(pj,{open:r,onOpenChange:a,children:n.jsxs(Oh,{children:[n.jsxs(Dh,{children:[n.jsx(Ih,{children:"Are you absolutely sure?"}),n.jsx(Lh,{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."})]}),n.jsxs(Mh,{children:[n.jsx(Fh,{children:"Cancel"}),n.jsx($h,{onClick:h,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:o?"Deleting...":"Delete Account"})]})]})})]})},xj={"user-1":{id:"user-1",username:"Alex Johnson",avatar_url:"/lovable-uploads/d7368d4b-69d9-45f2-af66-f97850473f89.png",verified:!0,bio:"Adventure seeker and music lover",location:"San Francisco, CA",interests:["music","hiking","photography"]},"user-2":{id:"user-2",username:"Sam Rivera",avatar_url:null,bio:"Food enthusiast and traveler",location:"Chicago, IL",interests:["food","travel","cooking"]},"user-3":{id:"user-3",username:"Taylor Morgan",avatar_url:"/lovable-uploads/de943395-a2a4-4ee9-bed4-16cc40cfdc47.png",verified:!0,bio:"Tech geek and coffee addict",location:"Austin, TX",interests:["technology","coffee","gaming"]},"user-4":{id:"user-4",username:"Jordan Kim",avatar_url:null,bio:"Fitness instructor and wellness coach",location:"Denver, CO",interests:["fitness","nutrition","meditation"]},"user-5":{id:"user-5",username:"Casey Lopez",avatar_url:"/lovable-uploads/d6f2d298-cff6-47aa-9362-b19aae49b23e.png",bio:"Artist and creative mind",location:"Portland, OR",interests:["art","design","music"]}},Uh={"user-1":[{id:"user-2",name:"Sam Rivera",avatar:"https://randomuser.me/api/portraits/women/79.jpg"},{id:"user-3",name:"Taylor Morgan",avatar:"/lovable-uploads/de943395-a2a4-4ee9-bed4-16cc40cfdc47.png"},{id:"user-4",name:"Jordan Kim",avatar:"https://randomuser.me/api/portraits/men/52.jpg"}],"user-2":[{id:"user-1",name:"Alex Johnson",avatar:"/lovable-uploads/d7368d4b-69d9-45f2-af66-f97850473f89.png"},{id:"user-5",name:"Casey Lopez",avatar:"/lovable-uploads/d6f2d298-cff6-47aa-9362-b19aae49b23e.png"}],"user-3":[{id:"user-1",name:"Alex Johnson",avatar:"/lovable-uploads/d7368d4b-69d9-45f2-af66-f97850473f89.png"},{id:"user-4",name:"Jordan Kim",avatar:"https://randomuser.me/api/portraits/men/52.jpg"}],"user-4":[{id:"user-5",name:"Casey Lopez",avatar:"/lovable-uploads/d6f2d298-cff6-47aa-9362-b19aae49b23e.png"}],"user-5":[{id:"user-2",name:"Sam Rivera",avatar:"https://randomuser.me/api/portraits/women/79.jpg"},{id:"user-3",name:"Taylor Morgan",avatar:"/lovable-uploads/de943395-a2a4-4ee9-bed4-16cc40cfdc47.png"}]},zh={"user-1":[{id:"user-2",name:"Sam Rivera",avatar:"https://randomuser.me/api/portraits/women/79.jpg"},{id:"user-3",name:"Taylor Morgan",avatar:"/lovable-uploads/de943395-a2a4-4ee9-bed4-16cc40cfdc47.png"}],"user-2":[{id:"user-1",name:"Alex Johnson",avatar:"/lovable-uploads/d7368d4b-69d9-45f2-af66-f97850473f89.png"}],"user-3":[{id:"user-5",name:"Casey Lopez",avatar:"/lovable-uploads/d6f2d298-cff6-47aa-9362-b19aae49b23e.png"}],"user-4":[{id:"user-3",name:"Taylor Morgan",avatar:"/lovable-uploads/de943395-a2a4-4ee9-bed4-16cc40cfdc47.png"}],"user-5":[{id:"user-4",name:"Jordan Kim",avatar:"https://randomuser.me/api/portraits/men/52.jpg"}]},yj=async s=>{try{if(s.startsWith("user-")){console.log("Loading mock user profile:",s);const a=xj[s];if(a)return{data:a,error:null};throw new Error("Mock profile not found")}if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(s))throw console.error("Invalid UUID format:",s),new Error("Invalid user ID format");const{data:t,error:r}=await q.from("profiles").select("*").eq("id",s).maybeSingle();if(r)throw r;if(!t)throw new Error("Profile not found");return{data:t,error:null}}catch(e){return console.error("Error in fetchProfileData:",e),{data:null,error:e}}},wj=async s=>{try{if(s.startsWith("user-"))return{data:Uh[s]||[],error:null};const{data:e,error:t}=await q.from("followers").select(`
        follower_id,
        profiles!followers_follower_id_fkey (
          id,
          username,
          avatar_url
        )
      `).eq("following_id",s);if(t)throw t;return{data:e.map(a=>({id:a.profiles.id,name:a.profiles.username||"User",avatar:a.profiles.avatar_url||""})),error:null}}catch(e){return console.error("Error fetching followers:",e),{data:[],error:e}}},bj=async s=>{try{if(s.startsWith("user-"))return{data:zh[s]||[],error:null};const{data:e,error:t}=await q.from("followers").select(`
        following_id,
        profiles!followers_following_id_fkey (
          id,
          username,
          avatar_url
        )
      `).eq("follower_id",s);if(t)throw t;return{data:e.map(a=>({id:a.profiles.id,name:a.profiles.username||"User",avatar:a.profiles.avatar_url||""})),error:null}}catch(e){return console.error("Error fetching following:",e),{data:[],error:e}}},jj=async(s,e)=>{try{if(s.startsWith("user-")||e.startsWith("user-"))return s.startsWith("user-")?{data:(zh[s]||[]).some(o=>o.id===e),error:null}:{data:(Uh[e]||[]).some(o=>o.id===s),error:null};const{data:t,error:r}=await q.from("followers").select("*").eq("follower_id",s).eq("following_id",e).maybeSingle();if(r)throw r;return{data:!!t,error:null}}catch(t){return console.error("Error checking follow status:",t),{data:!1,error:t}}},Sj=({userId:s,currentUser:e,currentUserProfile:t,onNavigate:r})=>{const[a,o]=f.useState(null),[i,l]=f.useState(!0),[c,d]=f.useState(!1),[u,m]=f.useState([]),[h,g]=f.useState([]),[v,p]=f.useState(!0),x=async y=>{const{data:w}=await wj(y);m(w)},b=async y=>{const{data:w}=await bj(y);g(w)};return f.useEffect(()=>{e&&(async()=>{p(!0);try{if(s&&s!==(e==null?void 0:e.id)){l(!1);const{data:w,error:S}=await yj(s);if(S)throw S;if(o(w),await x(s),await b(s),e!=null&&e.id){const{data:j}=await jj(e.id,s);d(j)}}else l(!0),o(t),e!=null&&e.id&&(await x(e.id),await b(e.id))}catch(w){console.error("Error fetching profile:",w),le({title:"Error loading profile",description:w.message||"The requested profile could not be loaded",variant:"destructive"}),r("/")}finally{p(!1)}})()},[s,e,t,r]),{profileData:a,isCurrentUser:i,isFollowing:c,setIsFollowing:d,followers:u,following:h,loading:v,fetchFollowers:x,fetchFollowing:b}},Qi=()=>{const{userId:s}=lo(),e=we(),{user:t,profile:r,refreshProfile:a}=qe();js();const[o,i]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(!1),[m,h]=f.useState(!1),{profileData:g,isCurrentUser:v,isFollowing:p,setIsFollowing:x,followers:b,following:y,loading:w,fetchFollowers:S,fetchFollowing:j}=Sj({userId:s,currentUser:t,currentUserProfile:r,onNavigate:e}),_=async()=>{await a()};if(w)return n.jsx(je,{activeTab:"profile",children:n.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:n.jsxs("div",{className:"animate-pulse space-y-4 w-full max-w-md",children:[n.jsx("div",{className:"h-32 bg-muted rounded-md w-full"}),n.jsxs("div",{className:"flex justify-between items-end -mt-10",children:[n.jsx("div",{className:"h-20 w-20 bg-muted rounded-full"}),n.jsx("div",{className:"h-8 w-24 bg-muted rounded"})]}),n.jsxs("div",{className:"space-y-2 mt-2",children:[n.jsx("div",{className:"h-4 w-40 bg-muted rounded"}),n.jsx("div",{className:"h-3 w-20 bg-muted rounded"}),n.jsx("div",{className:"h-10 w-full bg-muted rounded"})]}),n.jsx("div",{className:"h-10 w-full bg-muted rounded"}),n.jsx("div",{className:"h-40 w-full bg-muted rounded"})]})})});const k=(g==null?void 0:g.username)||"User";return n.jsxs(je,{activeTab:"profile",children:[n.jsxs("div",{className:"flex flex-col min-h-screen pb-16",children:[n.jsx(M0,{profileData:g,isCurrentUser:v,isFollowing:p,followers:b,following:y,userId:s,user:t,onEditProfile:()=>u(!0),onAccountSettings:()=>h(!0),onShowFollowers:()=>i(!0),onShowFollowing:()=>c(!0),setIsFollowing:x,fetchFollowers:S,fetchFollowing:j}),n.jsx(I0,{userName:k,isCurrentUser:v})]}),n.jsx(Xi,{title:"Followers",followers:b,open:o,onOpenChange:i}),n.jsx(Xi,{title:"Following",followers:y,open:l,onOpenChange:c}),n.jsx(tj,{open:d,onOpenChange:u,currentProfile:g,onProfileUpdate:_}),n.jsx(vj,{open:m,onOpenChange:h})]})},_j=[{id:"basic",name:"Thrivvo+ Basic",price:4.99,description:"Perfect for casual users who want a bit more access and flexibility.",icon:n.jsx(Kl,{className:"h-6 w-6 text-thrivvo-teal"}),features:[{name:"Unlimited Swipes",included:!0},{name:"Priority RSVPs",included:!0},{name:"Location Flex",included:!0},{name:"Who's Active Nearby",included:!0},{name:"1x Free Monthly Event Boost",included:!0},{name:"Match & Message with Groups",included:!1},{name:"Hidden Events Access",included:!1},{name:"See Who Liked Your Event",included:!1},{name:"Auto Check-In",included:!1},{name:"Exclusive Discounts",included:!1},{name:'Featured on "Happening Now"',included:!1},{name:"VIP-only Events & Launch Parties",included:!1},{name:"Smart Event Matching",included:!1},{name:"Event Performance Insights",included:!1},{name:"Early Access to New Features",included:!1}]},{id:"social",name:"Thrivvo+ Social",price:9.99,description:"For the extroverts and adventurers looking to connect, not just attend.",icon:n.jsx(im,{className:"h-6 w-6 text-thrivvo-orange"}),popular:!0,features:[{name:"Unlimited Swipes",included:!0},{name:"Priority RSVPs",included:!0},{name:"Location Flex",included:!0},{name:"Who's Active Nearby",included:!0},{name:"1x Free Monthly Event Boost",included:!0},{name:"Match & Message with Groups",included:!0},{name:"Hidden Events Access",included:!0},{name:"See Who Liked Your Event",included:!0},{name:"Auto Check-In",included:!0},{name:"Exclusive Discounts",included:!0},{name:'Featured on "Happening Now"',included:!1},{name:"VIP-only Events & Launch Parties",included:!1},{name:"Smart Event Matching",included:!1},{name:"Event Performance Insights",included:!1},{name:"Early Access to New Features",included:!1}]},{id:"vip",name:"Thrivvo+ VIP",price:14.99,description:"The all-access pass for high-engagement users, creators, or hosts.",icon:n.jsx(nm,{className:"h-6 w-6 text-yellow-400"}),features:[{name:"Unlimited Swipes",included:!0},{name:"Priority RSVPs",included:!0},{name:"Location Flex",included:!0},{name:"Who's Active Nearby",included:!0},{name:"1x Free Monthly Event Boost",included:!0},{name:"Match & Message with Groups",included:!0},{name:"Hidden Events Access",included:!0},{name:"See Who Liked Your Event",included:!0},{name:"Auto Check-In",included:!0},{name:"Exclusive Discounts",included:!0},{name:'Featured on "Happening Now"',included:!0},{name:"VIP-only Events & Launch Parties",included:!0},{name:"Smart Event Matching",included:!0},{name:"Event Performance Insights",included:!0},{name:"Early Access to New Features",included:!0}]}],Nj=()=>{const{toast:s}=Ke(),e=t=>{s({title:"Subscription started",description:`You've subscribed to ${t.name} for $${t.price}/month.`})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Thrivvo+ Premium"}),n.jsx("p",{className:"text-muted-foreground",children:"Unlock the full potential of your social experience"})]}),n.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:_j.map(t=>n.jsxs(tt,{className:"flex flex-col relative",children:[t.popular&&n.jsx("div",{className:"bg-thrivvo-orange text-white text-xs font-medium py-1 px-3 absolute top-0 left-0 right-0 text-center rounded-t-md",children:"MOST POPULAR"}),n.jsxs(zt,{className:t.popular?"pt-8":"",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[t.icon,n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:"text-2xl font-bold",children:["$",t.price]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"/month"})]})]}),n.jsx(Bt,{className:"mt-2",children:t.name}),n.jsx(Ht,{children:t.description})]}),n.jsx(st,{className:"flex-grow",children:n.jsx("ul",{className:"space-y-2",children:t.features.filter(r=>r.included).map((r,a)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx(kn,{className:"h-5 w-5 text-thrivvo-teal shrink-0 mr-2"}),n.jsx("span",{className:"text-sm",children:r.name})]},a))})}),n.jsx(Vt,{children:n.jsx(I,{onClick:()=>e(t),className:`w-full ${t.id==="social"?"bg-thrivvo-orange hover:bg-thrivvo-orange/90":t.id==="vip"?"bg-gradient-to-r from-yellow-400 to-thrivvo-orange hover:opacity-90":"bg-thrivvo-teal hover:bg-thrivvo-teal/90"}`,children:"Subscribe"})})]},t.id))})]})},kj=()=>n.jsx(je,{activeTab:"discover",children:n.jsx("div",{className:"p-4",children:n.jsx(Nj,{})})}),Ej=()=>{const s=io();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",s.pathname)},[s.pathname]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx("h1",{className:"text-6xl font-bold mb-4 bg-gradient-to-r from-thrivvo-purple to-thrivvo-teal text-transparent bg-clip-text",children:"404"}),n.jsx("p",{className:"text-xl text-foreground mb-6",children:"Oops! This page doesn't exist"}),n.jsx("p",{className:"text-muted-foreground mb-8",children:"The page you're looking for might have been removed, renamed, or never existed in the first place."}),n.jsx(I,{asChild:!0,className:"bg-thrivvo-purple hover:bg-thrivvo-deep-purple",children:n.jsx("a",{href:"/",children:"Return to Thrivvo"})})]})})},Cj=()=>{const s=we(),[e,t]=f.useState(""),[r,a]=f.useState(""),[o,i]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(!1);f.useEffect(()=>{(async()=>{const{data:p}=await q.auth.getSession();p.session&&s("/")})()},[s]);const m=async v=>{if(v.preventDefault(),!e||!r){le({title:"Missing information",description:"Please provide both email and password",variant:"destructive"});return}if(r.length<6){le({title:"Password too short",description:"Password must be at least 6 characters long",variant:"destructive"});return}i(!0);try{const{data:p,error:x}=await q.auth.signUp({email:e,password:r});if(x)throw x;p.session?(le({title:"Account created!",description:"You have been signed in successfully."}),s("/welcome")):le({title:"Account created!",description:"Please check your email for a confirmation link."})}catch(p){console.error("Signup error:",p),le({title:"Error creating account",description:p.message||"Something went wrong",variant:"destructive"})}finally{i(!1)}},h=async v=>{if(v.preventDefault(),!e||!r){le({title:"Missing information",description:"Please provide both email and password",variant:"destructive"});return}i(!0);try{const{data:p,error:x}=await q.auth.signInWithPassword({email:e,password:r});if(x)throw x;p.session&&(le({title:"Welcome back!",description:"You have successfully signed in."}),s("/"))}catch(p){console.error("Sign in error:",p),le({title:"Error signing in",description:p.message||"Invalid email or password",variant:"destructive"})}finally{i(!1)}};f.useEffect(()=>{(async()=>{const p=window.location.hash,x=window.location.search;(p||x.includes("reset=true"))&&!l&&c(!0)})()},[l]);const g=async v=>{if(v.preventDefault(),!r||r.length<6){le({title:"Invalid password",description:"Password must be at least 6 characters long",variant:"destructive"});return}i(!0);try{const{error:p}=await q.auth.updateUser({password:r});if(p)throw p;le({title:"Password updated successfully",description:"You can now sign in with your new password"}),c(!1),a(""),s("/auth")}catch(p){console.error("Password update error:",p),le({title:"Error updating password",description:p.message||"Something went wrong",variant:"destructive"})}finally{i(!1)}};return l?n.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-gradient-to-r from-thrivvo-teal/10 to-thrivvo-orange/10",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("img",{src:"/lovable-uploads/130ab7bf-f6ad-4a28-8c87-4a266c70a707.png",alt:"THRIVVO Logo",className:"h-10"})}),n.jsxs(tt,{children:[n.jsxs(zt,{children:[n.jsx(Bt,{children:"Reset Your Password"}),n.jsx(Ht,{children:"Enter your new password below"})]}),n.jsxs("form",{onSubmit:g,children:[n.jsx(st,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"new-password",children:"New Password"}),n.jsx(_e,{id:"new-password",type:"password",value:r,onChange:v=>a(v.target.value),placeholder:"Enter your new password",required:!0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 6 characters long"})]})}),n.jsx(Vt,{children:n.jsx(I,{type:"submit",className:"w-full bg-thrivvo-teal hover:bg-thrivvo-teal/90",disabled:o,children:o?"Updating password...":"Update Password"})})]})]})]})}):l===!1&&d?n.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-gradient-to-r from-thrivvo-teal/10 to-thrivvo-orange/10",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("img",{src:"/lovable-uploads/130ab7bf-f6ad-4a28-8c87-4a266c70a707.png",alt:"THRIVVO Logo",className:"h-10"})}),n.jsxs(tt,{children:[n.jsxs(zt,{children:[n.jsx(Bt,{children:"Check Your Email"}),n.jsx(Ht,{children:"We've sent password reset instructions to your email"})]}),n.jsxs(st,{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-center py-6",children:n.jsx(Jl,{className:"h-16 w-16 text-thrivvo-teal"})}),n.jsx("p",{className:"text-center text-muted-foreground",children:"Please check your inbox and follow the instructions to reset your password."})]}),n.jsx(Vt,{children:n.jsxs(I,{className:"w-full",onClick:()=>u(!1),variant:"outline",children:[n.jsx(wt,{className:"mr-2 h-4 w-4"})," Back to Sign In"]})})]})]})}):n.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-gradient-to-r from-thrivvo-teal/10 to-thrivvo-orange/10",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("img",{src:"/lovable-uploads/130ab7bf-f6ad-4a28-8c87-4a266c70a707.png",alt:"THRIVVO Logo",className:"h-10"})}),n.jsxs(Wn,{defaultValue:"signin",className:"w-full",children:[n.jsxs(Fr,{className:"grid w-full grid-cols-2 mb-4",children:[n.jsx(Ie,{value:"signin",children:"Sign In"}),n.jsx(Ie,{value:"signup",children:"Sign Up"})]}),n.jsx(yt,{value:"signin",children:n.jsxs(tt,{children:[n.jsxs(zt,{children:[n.jsx(Bt,{children:"Sign In"}),n.jsx(Ht,{children:"Enter your credentials to access your account"})]}),n.jsxs("form",{onSubmit:h,children:[n.jsxs(st,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"signin-email",children:"Email"}),n.jsx(_e,{id:"signin-email",type:"email",placeholder:"name@example.com",value:e,onChange:v=>t(v.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ae,{htmlFor:"signin-password",children:"Password"}),n.jsx(I,{variant:"link",className:"p-0 h-auto",type:"button",onClick:()=>s("/forgot-password"),children:"Forgot password?"})]}),n.jsx(_e,{id:"signin-password",type:"password",value:r,onChange:v=>a(v.target.value),required:!0})]})]}),n.jsx(Vt,{children:n.jsx(I,{type:"submit",className:"w-full bg-thrivvo-teal hover:bg-thrivvo-teal/90",disabled:o,children:o?"Signing in...":"Sign In"})})]})]})}),n.jsx(yt,{value:"signup",children:n.jsxs(tt,{children:[n.jsxs(zt,{children:[n.jsx(Bt,{children:"Create an Account"}),n.jsx(Ht,{children:"Sign up to start exploring and creating events"})]}),n.jsxs("form",{onSubmit:m,children:[n.jsxs(st,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"signup-email",children:"Email"}),n.jsx(_e,{id:"signup-email",type:"email",placeholder:"name@example.com",value:e,onChange:v=>t(v.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"signup-password",children:"Password"}),n.jsx(_e,{id:"signup-password",type:"password",value:r,onChange:v=>a(v.target.value),required:!0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 6 characters long"})]})]}),n.jsx(Vt,{children:n.jsx(I,{type:"submit",className:"w-full bg-thrivvo-teal hover:bg-thrivvo-teal/90",disabled:o,children:o?"Creating account...":"Sign Up"})})]})]})})]})]})})},Pj=()=>{const s=we(),[e,t]=f.useState(1),[r,a]=f.useState(!1),[o,i]=f.useState(null),[l,c]=f.useState({username:"",bio:"",location:"",interests:[],distance_preference:15}),[d,u]=f.useState(null),[m,h]=f.useState(null),g=["music","food","travel","art","fitness","technology","coffee","gaming","photography","hiking","cooking","meditation","design","nutrition"];f.useEffect(()=>{(async()=>{const{data:C}=await q.auth.getSession();C.session?i(C.session.user.id):s("/auth")})()},[s]);const v=N=>{const{name:C,value:P}=N.target;c(A=>({...A,[C]:P}))},p=N=>{c(C=>({...C,location:N}))},x=N=>{c(C=>({...C,distance_preference:N[0]}))},b=N=>{c(C=>{const P=[...C.interests];return P.includes(N)?{...C,interests:P.filter(A=>A!==N)}:{...C,interests:[...P,N]}})},y=N=>{if(N.target.files&&N.target.files[0]){const C=N.target.files[0];u(C);const P=new FileReader;P.onload=A=>{var R;(R=A.target)!=null&&R.result&&h(A.target.result)},P.readAsDataURL(C)}},w=()=>{e<3&&t(e+1)},S=()=>{e>1&&t(e-1)},j=async N=>{if(!d)return null;try{const C=d.name.split(".").pop(),P=`${N}-${Date.now()}.${C}`,{error:A}=await q.storage.from("avatars").upload(P,d,{upsert:!0});if(A)throw A;const{data:R}=q.storage.from("avatars").getPublicUrl(P);return R.publicUrl}catch(C){return console.error("Error uploading avatar:",C),null}},_=async()=>{if(o){a(!0);try{const N=await j(o),{error:C}=await q.from("profiles").update({username:l.username,bio:l.bio,location:l.location,interests:l.interests,avatar_url:N,distance_preference:l.distance_preference,updated_at:new Date().toISOString()}).eq("id",o);if(C)throw C;le({title:"Setup complete!",description:"Your profile has been set up successfully."}),s("/")}catch(N){le({title:"Error completing setup",description:N.message||"An unexpected error occurred",variant:"destructive"})}finally{a(!1)}}},k=()=>{switch(e){case 1:return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-center",children:"Welcome to THRIVVO"}),n.jsx("p",{className:"text-center text-muted-foreground",children:"Let's set up your profile so you can start connecting with others and discovering events!"}),n.jsx("div",{className:"flex justify-center py-8",children:n.jsx("img",{src:"/lovable-uploads/130ab7bf-f6ad-4a28-8c87-4a266c70a707.png",alt:"THRIVVO Logo",className:"h-20"})})]});case 2:return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-center",children:"Create Your Profile"}),n.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[n.jsx("div",{onClick:()=>{var N;return(N=document.getElementById("avatar-input"))==null?void 0:N.click()},className:"cursor-pointer",children:m?n.jsx("div",{className:"relative h-24 w-24 rounded-full overflow-hidden",children:n.jsx("img",{src:m,alt:"Avatar preview",className:"h-full w-full object-cover"})}):n.jsx("div",{className:"flex items-center justify-center w-24 h-24 bg-muted rounded-full",children:n.jsx(Ql,{className:"h-8 w-8 text-muted-foreground"})})}),n.jsx("input",{id:"avatar-input",type:"file",accept:"image/*",onChange:y,className:"hidden"}),n.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>{var N;return(N=document.getElementById("avatar-input"))==null?void 0:N.click()},children:m?"Change Photo":"Add Profile Photo"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"username",children:"Display Name"}),n.jsx(_e,{id:"username",name:"username",placeholder:"How should we call you?",value:l.username,onChange:v})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"bio",children:"Bio"}),n.jsx(Jn,{id:"bio",name:"bio",placeholder:"Tell us a bit about yourself...",value:l.bio,onChange:v,rows:3})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(Ku,{location:l.location,onLocationChange:p})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ae,{children:["Event Distance Preference (",l.distance_preference," miles)"]}),n.jsx(Jo,{value:[l.distance_preference],min:1,max:50,step:1,onValueChange:x,className:"py-4"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Only show events within ",l.distance_preference," miles of your location"]})]})]})]});case 3:return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-center",children:"Select Your Interests"}),n.jsx("p",{className:"text-center text-muted-foreground",children:"What are you passionate about? Select interests to help us recommend events that match your preferences."}),n.jsx("div",{className:"flex flex-wrap gap-2 py-4 justify-center",children:g.map(N=>n.jsx(Ne,{variant:l.interests.includes(N)?"default":"outline",className:"cursor-pointer select-none text-sm py-1.5 px-2.5",onClick:()=>b(N),children:N},N))}),n.jsx("div",{className:"flex justify-center mt-6",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",l.interests.length," / ",g.length]})})]});default:return null}};return n.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-gradient-to-r from-thrivvo-teal/10 to-thrivvo-orange/10",children:n.jsx(tt,{className:"w-full max-w-md",children:n.jsxs(st,{className:"p-6",children:[k(),n.jsxs("div",{className:"flex justify-between mt-8",children:[e>1&&n.jsx(I,{type:"button",variant:"outline",onClick:S,disabled:r,children:"Back"}),e<3?n.jsxs(I,{type:"button",className:"ml-auto bg-thrivvo-teal hover:bg-thrivvo-teal/90",onClick:w,disabled:r,children:["Next",n.jsx(Wl,{className:"ml-1 h-4 w-4"})]}):n.jsx(I,{type:"button",className:"ml-auto bg-thrivvo-teal hover:bg-thrivvo-teal/90",onClick:_,disabled:r,children:r?"Finishing Setup...":"Finish Setup"})]}),n.jsx("div",{className:"flex justify-center mt-6",children:n.jsx("div",{className:"flex gap-2",children:[1,2,3].map(N=>n.jsx("div",{className:`h-2 w-2 rounded-full ${N===e?"bg-thrivvo-teal":"bg-muted"}`},N))})})]})})})},Tj=()=>{const s=we(),[e,t]=f.useState(""),[r,a]=f.useState(!1),[o,i]=f.useState(!1),l=async c=>{if(c.preventDefault(),!e){le({title:"Missing information",description:"Please provide your email address",variant:"destructive"});return}a(!0);try{const{error:d}=await q.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth?reset=true`});if(d)throw d;i(!0),le({title:"Password reset email sent",description:"Check your inbox for instructions to reset your password"})}catch(d){console.error("Password reset error:",d),le({title:"Error sending reset email",description:d.message||"Something went wrong",variant:"destructive"})}finally{a(!1)}};return o?n.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-gradient-to-r from-thrivvo-teal/10 to-thrivvo-orange/10",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("img",{src:"/lovable-uploads/130ab7bf-f6ad-4a28-8c87-4a266c70a707.png",alt:"THRIVVO Logo",className:"h-10"})}),n.jsxs(tt,{children:[n.jsxs(zt,{children:[n.jsx(Bt,{children:"Check Your Email"}),n.jsx(Ht,{children:"We've sent password reset instructions to your email"})]}),n.jsxs(st,{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-center py-6",children:n.jsx(Jl,{className:"h-16 w-16 text-thrivvo-teal"})}),n.jsx("p",{className:"text-center text-muted-foreground",children:"Please check your inbox and follow the instructions to reset your password."})]}),n.jsx(Vt,{children:n.jsxs(I,{className:"w-full",onClick:()=>s("/auth"),variant:"outline",children:[n.jsx(wt,{className:"mr-2 h-4 w-4"})," Back to Sign In"]})})]})]})}):n.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-gradient-to-r from-thrivvo-teal/10 to-thrivvo-orange/10",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("img",{src:"/lovable-uploads/130ab7bf-f6ad-4a28-8c87-4a266c70a707.png",alt:"THRIVVO Logo",className:"h-10"})}),n.jsxs(tt,{children:[n.jsxs(zt,{children:[n.jsx(Bt,{children:"Forgot Password"}),n.jsx(Ht,{children:"Enter your email to receive a password reset link"})]}),n.jsxs("form",{onSubmit:l,children:[n.jsx(st,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:"reset-email",children:"Email"}),n.jsx(_e,{id:"reset-email",type:"email",placeholder:"name@example.com",value:e,onChange:c=>t(c.target.value),required:!0})]})}),n.jsxs(Vt,{className:"flex flex-col space-y-2",children:[n.jsx(I,{type:"submit",className:"w-full bg-thrivvo-teal hover:bg-thrivvo-teal/90",disabled:r,children:r?"Sending reset link...":"Send Reset Link"}),n.jsxs(I,{variant:"outline",className:"w-full",type:"button",onClick:()=>s("/auth"),children:[n.jsx(wt,{className:"mr-2 h-4 w-4"})," Back to Sign In"]})]})]})]})]})})},Aj=()=>{qe();const[s]=jl(),e=s.get("category"),[t,r]=f.useState([]),[a,o]=f.useState(!0),[i,l]=f.useState(null),c=Kn.find(m=>m.id===e),d=(c==null?void 0:c.name)||"Events",u=(c==null?void 0:c.icon)||"";return f.useEffect(()=>{(async()=>{try{o(!0),l(null);let h=q.from("events").select("*").order("created_at",{ascending:!1});e&&(h=h.eq("category",e));const{data:g,error:v}=await h;if(v)throw v;r(g||[])}catch(h){console.error("Error fetching events:",h),l("Failed to load events. Please try again later.")}finally{o(!1)}})()},[e]),n.jsx(je,{activeTab:"discover",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("span",{className:"text-2xl",children:u}),n.jsx("h1",{className:"text-2xl font-bold",children:d})]}),n.jsx("div",{className:"mt-4",children:a?n.jsx("div",{className:"text-center p-8",children:n.jsx("h3",{className:"text-lg font-medium",children:"Loading events..."})}):i?n.jsx("div",{className:"text-center p-8",children:n.jsx("h3",{className:"text-lg font-medium text-red-500",children:i})}):n.jsx(Pr,{events:t,emptyMessage:`No ${d.toLowerCase()} found. Be the first to create one!`})})]})})},Rj=new Nx,Te=({children:s})=>{const{user:e,loading:t}=qe();return t?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):e?n.jsx(n.Fragment,{children:s}):n.jsx(uf,{to:"/auth",replace:!0})},Oj=()=>n.jsxs(df,{children:[n.jsx(be,{path:"/auth",element:n.jsx(Cj,{})}),n.jsx(be,{path:"/forgot-password",element:n.jsx(Tj,{})}),n.jsx(be,{path:"/",element:n.jsx(Te,{children:n.jsx(hb,{})})}),n.jsx(be,{path:"/party-events",element:n.jsx(Te,{children:n.jsx(fb,{})})}),n.jsx(be,{path:"/event/:eventId",element:n.jsx(Te,{children:n.jsx(kb,{})})}),n.jsx(be,{path:"/edit-event/:eventId",element:n.jsx(Te,{children:n.jsx(_0,{})})}),n.jsx(be,{path:"/search",element:n.jsx(Te,{children:n.jsx(N0,{})})}),n.jsx(be,{path:"/add-event",element:n.jsx(Te,{children:n.jsx(k0,{})})}),n.jsx(be,{path:"/add-event/name",element:n.jsx(Te,{children:n.jsx(E0,{})})}),n.jsx(be,{path:"/add-event/photos",element:n.jsx(Te,{children:n.jsx(P0,{})})}),n.jsx(be,{path:"/add-event/details",element:n.jsx(Te,{children:n.jsx(C0,{})})}),n.jsx(be,{path:"/add-event/review",element:n.jsx(Te,{children:n.jsx(T0,{})})}),n.jsx(be,{path:"/notifications",element:n.jsx(Te,{children:n.jsx(A0,{})})}),n.jsx(be,{path:"/profile",element:n.jsx(Te,{children:n.jsx(Qi,{})})}),n.jsx(be,{path:"/profile/:userId",element:n.jsx(Te,{children:n.jsx(Qi,{})})}),n.jsx(be,{path:"/subscription",element:n.jsx(Te,{children:n.jsx(kj,{})})}),n.jsx(be,{path:"/welcome",element:n.jsx(Te,{children:n.jsx(Pj,{})})}),n.jsx(be,{path:"/event-type",element:n.jsx(Aj,{})}),n.jsx(be,{path:"*",element:n.jsx(Ej,{})})]}),Dj=()=>n.jsx(Ex,{client:Rj,children:n.jsxs(jr,{children:[n.jsx(rg,{}),n.jsx(Rg,{}),n.jsx(cf,{children:n.jsx(qw,{children:n.jsx(Oj,{})})})]})});Sl(document.getElementById("root")).render(n.jsx(Dj,{}));
